# é¢„è®¾ç®¡ç†é¡µé¢

<cite>
**æœ¬æ–‡æ¡£å¼•ç”¨çš„æ–‡ä»¶**
- [PresetManager.js](file://src/services/preset/PresetManager.js)
- [BuiltinPresets.js](file://src/services/preset/BuiltinPresets.js)
- [presetRoutes.js](file://src/services/routes/presetRoutes.js)
- [api.ts](file://frontend/lib/api.ts)
- [types.ts](file://frontend/lib/types.ts)
- [button.tsx](file://frontend/components/ui/button.tsx)
- [dialog.tsx](file://frontend/components/ui/dialog.tsx)
- [table.tsx](file://frontend/components/ui/table.tsx)
- [form.tsx](file://frontend/components/ui/form.tsx)
- [input.tsx](file://frontend/components/ui/input.tsx)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
3. [æ ¸å¿ƒç»„ä»¶](#æ ¸å¿ƒç»„ä»¶)
4. [æ¶æ„æ¦‚è§ˆ](#æ¶æ„æ¦‚è§ˆ)
5. [è¯¦ç»†ç»„ä»¶åˆ†æ](#è¯¦ç»†ç»„ä»¶åˆ†æ)
6. [ä¾èµ–å…³ç³»åˆ†æ](#ä¾èµ–å…³ç³»åˆ†æ)
7. [æ€§èƒ½è€ƒè™‘](#æ€§èƒ½è€ƒè™‘)
8. [æ•…éšœæ’é™¤æŒ‡å—](#æ•…éšœæ’é™¤æŒ‡å—)
9. [ç»“è®º](#ç»“è®º)

## ç®€ä»‹

é¢„è®¾ç®¡ç†é¡µé¢æ˜¯ ChatGPT æ’ä»¶ç³»ç»Ÿä¸­çš„æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼Œè´Ÿè´£ç®¡ç† AI åŠ©æ‰‹çš„å„ç§é¢„è®¾æ¨¡æ¿ã€‚è¯¥ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„é¢„è®¾ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ŒåŒ…æ‹¬åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€å¤åˆ¶å’Œç‰ˆæœ¬æ§åˆ¶ç­‰åŠŸèƒ½ã€‚é¢„è®¾ç³»ç»Ÿé‡‡ç”¨åˆ†ç±»ç®¡ç†ä½“ç³»ï¼Œæ”¯æŒé€šç”¨åŠ©æ‰‹ã€è§’è‰²æ‰®æ¼”ã€ä¸“é¡¹åŠŸèƒ½ã€ç¾¤èŠç®¡ç†å’Œå­¦ä¹ æ•™è‚²ç­‰å¤šä¸ªåˆ†ç±»ã€‚

ç³»ç»Ÿçš„æ ¸å¿ƒç‰¹æ€§åŒ…æ‹¬ï¼š
- **åˆ†ç±»ä½“ç³»**ï¼šå°†é¢„è®¾æŒ‰ç…§åŠŸèƒ½å’Œç”¨é€”è¿›è¡Œåˆ†ç±»ç®¡ç†
- **æ¨¡æ¿é…ç½®**ï¼šæ”¯æŒç³»ç»Ÿæç¤ºè¯ã€æ¨¡å‹å‚æ•°ã€äººè®¾é…ç½®ã€ä¸Šä¸‹æ–‡é…ç½®å’Œå·¥å…·é…ç½®
- **æ‰¹é‡æ“ä½œ**ï¼šæ”¯æŒä»å†…ç½®é¢„è®¾å¿«é€Ÿåˆ›å»ºç”¨æˆ·è‡ªå®šä¹‰é¢„è®¾
- **ç‰ˆæœ¬ç®¡ç†**ï¼šé€šè¿‡ ID æ ‡è¯†å’Œæ—¶é—´æˆ³å®ç°é¢„è®¾ç‰ˆæœ¬æ§åˆ¶
- **çŸ¥è¯†åº“é›†æˆ**ï¼šæ”¯æŒå°†çŸ¥è¯†åº“å†…å®¹åŠ¨æ€æ³¨å…¥åˆ°é¢„è®¾ä¸­

## é¡¹ç›®ç»“æ„

é¢„è®¾ç®¡ç†ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ¶æ„è®¾è®¡ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å±‚æ¬¡ï¼š

```mermaid
graph TB
subgraph "å‰ç«¯å±‚"
UI[é¢„è®¾ç®¡ç†ç•Œé¢]
API[API æ¥å£å°è£…]
Types[ç±»å‹å®šä¹‰]
end
subgraph "åç«¯å±‚"
Routes[è·¯ç”±å±‚]
Manager[é¢„è®¾ç®¡ç†å™¨]
Storage[(æ•°æ®å­˜å‚¨)]
end
subgraph "é…ç½®å±‚"
Builtin[å†…ç½®é¢„è®¾åº“]
Config[ç³»ç»Ÿé…ç½®]
end
UI --> API
API --> Routes
Routes --> Manager
Manager --> Storage
Manager --> Builtin
Manager --> Config
```

**å›¾è¡¨æ¥æº**
- [PresetManager.js](file://src/services/preset/PresetManager.js#L79-L115)
- [presetRoutes.js](file://src/services/routes/presetRoutes.js#L33-L40)

**ç« èŠ‚æ¥æº**
- [PresetManager.js](file://src/services/preset/PresetManager.js#L1-L843)
- [BuiltinPresets.js](file://src/services/preset/BuiltinPresets.js#L1-L576)
- [presetRoutes.js](file://src/services/routes/presetRoutes.js#L1-L251)

## æ ¸å¿ƒç»„ä»¶

### é¢„è®¾ç®¡ç†å™¨ (PresetManager)

é¢„è®¾ç®¡ç†å™¨æ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£é¢„è®¾çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š

```mermaid
classDiagram
class PresetManager {
+Map presets
+Map builtinPresets
+init() Promise
+getAll(options) Array
+get(idOrName) Object
+create(data) Promise
+update(id, data) Promise
+delete(id) Promise
+buildSystemPrompt(id, context) string
+getCategories() Object
+createFromBuiltin(builtinId, overrides) Promise
}
class BuiltinPresets {
+Array BUILTIN_PRESETS
+getPresetCategories() Object
+getBuiltinPreset(id) Object
}
class PresetRoutes {
+createPresetRoutes(authMiddleware) Router
+createPresetsConfigRoutes(authMiddleware) Router
}
PresetManager --> BuiltinPresets : "ä½¿ç”¨"
PresetRoutes --> PresetManager : "ä¾èµ–"
```

**å›¾è¡¨æ¥æº**
- [PresetManager.js](file://src/services/preset/PresetManager.js#L79-L86)
- [BuiltinPresets.js](file://src/services/preset/BuiltinPresets.js#L1-L576)
- [presetRoutes.js](file://src/services/routes/presetRoutes.js#L33-L36)

### é¢„è®¾æ•°æ®ç»“æ„

ç³»ç»Ÿå®šä¹‰äº†å®Œæ•´çš„é¢„è®¾æ•°æ®ç»“æ„ï¼Œæ”¯æŒå¤šç»´åº¦çš„é…ç½®ç®¡ç†ï¼š

| é…ç½®ç±»åˆ« | å­—æ®µåç§° | æ•°æ®ç±»å‹ | æè¿° |
|---------|----------|----------|------|
| åŸºæœ¬ä¿¡æ¯ | id | string | é¢„è®¾å”¯ä¸€æ ‡è¯†ç¬¦ |
| åŸºæœ¬ä¿¡æ¯ | name | string | é¢„è®¾æ˜¾ç¤ºåç§° |
| åŸºæœ¬ä¿¡æ¯ | description | string | é¢„è®¾æè¿°ä¿¡æ¯ |
| æ ¸å¿ƒé…ç½® | systemPrompt | string | ç³»ç»Ÿæç¤ºè¯æ¨¡æ¿ |
| æ¨¡å‹é…ç½® | modelParams | ModelParams | æ¨¡å‹å‚æ•°è®¾ç½® |
| äººè®¾é…ç½® | persona | PersonaConfig | è§’è‰²è®¾å®šä¿¡æ¯ |
| ä¸Šä¸‹æ–‡é…ç½® | context | ContextConfig | ä¼šè¯ä¸Šä¸‹æ–‡ç®¡ç† |
| å·¥å…·é…ç½® | tools | ToolsConfig | å·¥å…·ä½¿ç”¨æƒé™ |

**ç« èŠ‚æ¥æº**
- [PresetManager.js](file://src/services/preset/PresetManager.js#L15-L78)

## æ¶æ„æ¦‚è§ˆ

é¢„è®¾ç®¡ç†ç³»ç»Ÿçš„æ•´ä½“æ¶æ„é‡‡ç”¨åˆ†å±‚è®¾è®¡ï¼Œç¡®ä¿äº†è‰¯å¥½çš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ï¼š

```mermaid
sequenceDiagram
participant Client as å®¢æˆ·ç«¯
participant API as API å±‚
participant Route as è·¯ç”±å±‚
participant Manager as é¢„è®¾ç®¡ç†å™¨
participant Storage as å­˜å‚¨å±‚
Client->>API : è¯·æ±‚é¢„è®¾åˆ—è¡¨
API->>Route : è½¬å‘è¯·æ±‚
Route->>Manager : åˆå§‹åŒ–ç®¡ç†å™¨
Manager->>Storage : è¯»å–é¢„è®¾æ•°æ®
Storage-->>Manager : è¿”å›é¢„è®¾åˆ—è¡¨
Manager-->>Route : è¿”å›å¤„ç†ç»“æœ
Route-->>API : è¿”å›å“åº”
API-->>Client : é¢„è®¾æ•°æ®
Note over Client,Storage : é¢„è®¾ CRUD æ“ä½œæµç¨‹
```

**å›¾è¡¨æ¥æº**
- [presetRoutes.js](file://src/services/routes/presetRoutes.js#L42-L50)
- [PresetManager.js](file://src/services/preset/PresetManager.js#L132-L150)

ç³»ç»Ÿæ”¯æŒçš„é¢„è®¾åˆ†ç±»ä½“ç³»ï¼š

| åˆ†ç±»æ ‡è¯† | åˆ†ç±»åç§° | å›¾æ ‡ | æè¿° | é¢„è®¾æ•°é‡ |
|---------|----------|------|------|----------|
| assistant | é€šç”¨åŠ©æ‰‹ | ğŸ¤– | æ—¥å¸¸å¸®åŠ©å’Œé—®ç­” | 1 |
| roleplay | è§’è‰²æ‰®æ¼” | ğŸ­ | æœ‰è¶£çš„è§’è‰²äº’åŠ¨ | 5 |
| function | ä¸“é¡¹åŠŸèƒ½ | ğŸ”§ | ç‰¹å®šä»»åŠ¡å¤„ç† | 3 |
| admin | ç¾¤èŠç®¡ç† | ğŸ‘® | ç¾¤èŠç®¡ç†ç›¸å…³ | 1 |
| education | å­¦ä¹ æ•™è‚² | ğŸ“š | å­¦ä¹ è¾…å¯¼å’ŒçŸ¥è¯† | 2 |

**ç« èŠ‚æ¥æº**
- [BuiltinPresets.js](file://src/services/preset/BuiltinPresets.js#L536-L544)

## è¯¦ç»†ç»„ä»¶åˆ†æ

### é¢„è®¾åˆ›å»ºæµç¨‹

é¢„è®¾åˆ›å»ºè¿‡ç¨‹åŒ…å«äº†å®Œæ•´çš„éªŒè¯å’Œåˆå§‹åŒ–é€»è¾‘ï¼š

```mermaid
flowchart TD
Start([å¼€å§‹åˆ›å»ºé¢„è®¾]) --> Validate["éªŒè¯è¾“å…¥æ•°æ®"]
Validate --> Valid{"æ•°æ®æœ‰æ•ˆ?"}
Valid --> |å¦| Error["è¿”å›é”™è¯¯ä¿¡æ¯"]
Valid --> |æ˜¯| GenerateID["ç”Ÿæˆå”¯ä¸€ID"]
GenerateID --> CreateDefault["åˆ›å»ºé»˜è®¤é¢„è®¾ç»“æ„"]
CreateDefault --> MergeData["åˆå¹¶ç”¨æˆ·é…ç½®"]
MergeData --> Save["ä¿å­˜åˆ°å­˜å‚¨"]
Save --> Success["è¿”å›åˆ›å»ºç»“æœ"]
Error --> End([ç»“æŸ])
Success --> End
```

**å›¾è¡¨æ¥æº**
- [PresetManager.js](file://src/services/preset/PresetManager.js#L287-L306)

### ç³»ç»Ÿæç¤ºè¯æ„å»ºæœºåˆ¶

ç³»ç»Ÿå®ç°äº†å¤æ‚çš„æç¤ºè¯æ„å»ºå’Œå˜é‡æ›¿æ¢æœºåˆ¶ï¼š

```mermaid
flowchart TD
Input([æ¥æ”¶é¢„è®¾IDå’Œä¸Šä¸‹æ–‡]) --> LoadPreset["åŠ è½½é¢„è®¾é…ç½®"]
LoadPreset --> CheckContext{"æ£€æŸ¥ä¸Šä¸‹æ–‡çŠ¶æ€"}
CheckContext --> |å·²æ¸…é™¤| CleanPrompt["ç”Ÿæˆå¹²å‡€æç¤ºè¯"]
CheckContext --> |æ­£å¸¸| BuildPersona["æ„å»ºäººè®¾ä¿¡æ¯"]
BuildPersona --> AddSystem["æ·»åŠ ç³»ç»Ÿæç¤ºè¯"]
AddSystem --> ReplaceVars["å˜é‡æ›¿æ¢å¤„ç†"]
ReplaceVars --> AddKnowledge["æ·»åŠ çŸ¥è¯†åº“å†…å®¹"]
AddKnowledge --> Output["è¿”å›å®Œæ•´æç¤ºè¯"]
CleanPrompt --> Output
```

**å›¾è¡¨æ¥æº**
- [PresetManager.js](file://src/services/preset/PresetManager.js#L315-L412)

### å†…ç½®é¢„è®¾åº“

ç³»ç»Ÿå†…ç½®äº†ä¸°å¯Œçš„é¢„è®¾æ¨¡æ¿ï¼Œæ¶µç›–å¤šä¸ªåº”ç”¨åœºæ™¯ï¼š

| é¢„è®¾ID | åˆ†ç±» | åç§° | ä¸»è¦åŠŸèƒ½ |
|-------|------|------|----------|
| builtin_assistant | assistant | æ™ºèƒ½åŠ©æ‰‹ | é€šç”¨AIåŠ©æ‰‹ï¼Œæ“…é•¿å›ç­”é—®é¢˜ |
| builtin_coder | assistant | ä»£ç åŠ©æ‰‹ | ä¸“ä¸šç¼–ç¨‹åŠ©æ‰‹ï¼Œä»£ç ç¼–å†™ |
| builtin_catgirl | roleplay | å¯çˆ±çŒ«å¨˜ | æ´»æ³¼å¯çˆ±çš„çŒ«å¨˜è§’è‰² |
| builtin_yuki_dilei | roleplay | Yuki åœ°é›·ç³»å¦¹å¦¹ | å¼ºä¾æ‹çš„åœ°é›·ç³»å¦¹å¦¹ |
| builtin_girlfriend | roleplay | æ¸©æŸ”å¥³å‹ | æ¸©æŸ”ä½“è´´çš„å¥³æœ‹å‹è§’è‰² |
| builtin_buddy | roleplay | å¥½å…„å¼Ÿ | å¹½é»˜é£è¶£çš„å“¥ä»¬è§’è‰² |
| builtin_translator | function | ç¿»è¯‘åŠ©æ‰‹ | å¤šè¯­è¨€äº’è¯‘ä¸“ä¸šåŠ©æ‰‹ |
| builtin_writer | function | å†™ä½œåŠ©æ‰‹ | åˆ›æ„å†™ä½œå’Œæ–‡æ¡ˆåˆ›ä½œ |
| builtin_analyst | function | æ•°æ®åˆ†æå¸ˆ | æ•°æ®åˆ†æå’Œå¯è§†åŒ– |
| builtin_group_manager | admin | ç¾¤ç®¡ç†å‘˜ | ç¾¤èŠç®¡ç†åŠ©æ‰‹ |
| builtin_entertainer | roleplay | ç¾¤èŠæ´»å® | æ´»è·ƒç¾¤èŠæ°”æ°› |
| builtin_tutor | education | å­¦ä¹ å¯¼å¸ˆ | è€å¿ƒçš„å­¦ä¹ è¾…å¯¼åŠ©æ‰‹ |
| builtin_encyclopedia | education | ç™¾ç§‘å…¨ä¹¦ | çŸ¥è¯†ä¸°å¯Œçš„ç™¾ç§‘é—®ç­” |

**ç« èŠ‚æ¥æº**
- [BuiltinPresets.js](file://src/services/preset/BuiltinPresets.js#L5-L530)

### API æ¥å£è®¾è®¡

é¢„è®¾ç®¡ç†ç³»ç»Ÿçš„ API æ¥å£éµå¾ª RESTful è®¾è®¡åŸåˆ™ï¼š

| HTTP æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½æè¿° | è¯·æ±‚ä½“ | å“åº”ä½“ |
|----------|------|----------|--------|--------|
| GET | /api/preset/list | è·å–æ‰€æœ‰é¢„è®¾ | æ—  | é¢„è®¾æ•°ç»„ |
| GET | /api/preset/:id | è·å–å•ä¸ªé¢„è®¾ | æ—  | é¢„è®¾å¯¹è±¡ |
| POST | /api/preset/ | åˆ›å»ºæ–°é¢„è®¾ | é¢„è®¾é…ç½® | æ–°é¢„è®¾å¯¹è±¡ |
| PUT | /api/preset/:id | æ›´æ–°é¢„è®¾ | é¢„è®¾é…ç½® | æ›´æ–°åçš„é¢„è®¾ |
| DELETE | /api/preset/:id | åˆ é™¤é¢„è®¾ | æ—  | åˆ é™¤ç»“æœ |
| POST | /api/preset/:id/default | è®¾ç½®é»˜è®¤é¢„è®¾ | æ—  | æˆåŠŸçŠ¶æ€ |
| GET | /api/preset/:id/prompt | è·å–ç³»ç»Ÿæç¤ºè¯ | æ—  | æç¤ºè¯å†…å®¹ |
| POST | /api/preset/from-builtin/:builtinId | ä»å†…ç½®é¢„è®¾åˆ›å»º | è¦†ç›–é…ç½® | æ–°é¢„è®¾å¯¹è±¡ |
| GET | /api/presets/config | è·å–é¢„è®¾é…ç½® | æ—  | é…ç½®å¯¹è±¡ |
| PUT | /api/presets/config | æ›´æ–°é¢„è®¾é…ç½® | é…ç½®å‚æ•° | æˆåŠŸçŠ¶æ€ |
| GET | /api/presets/builtin | è·å–å†…ç½®é¢„è®¾ | æ—  | å†…ç½®é¢„è®¾æ•°ç»„ |
| GET | /api/presets/categories | è·å–åˆ†ç±»åˆ—è¡¨ | æ—  | åˆ†ç±»å¯¹è±¡ |

**ç« èŠ‚æ¥æº**
- [presetRoutes.js](file://src/services/routes/presetRoutes.js#L42-L192)

## ä¾èµ–å…³ç³»åˆ†æ

é¢„è®¾ç®¡ç†ç³»ç»Ÿå„ç»„ä»¶ä¹‹é—´çš„ä¾èµ–å…³ç³»å¦‚ä¸‹ï¼š

```mermaid
graph TB
subgraph "å¤–éƒ¨ä¾èµ–"
Express[Express.js]
FS[æ–‡ä»¶ç³»ç»Ÿ]
Crypto[Crypto æ¨¡å—]
end
subgraph "å†…éƒ¨æ¨¡å—"
PresetManager[PresetManager]
BuiltinPresets[BuiltinPresets]
PresetRoutes[presetRoutes]
Config[é…ç½®ç®¡ç†]
KnowledgeService[çŸ¥è¯†åº“æœåŠ¡]
end
subgraph "å‰ç«¯ç»„ä»¶"
PresetAPI[presetsApi]
UIComponents[UI ç»„ä»¶]
end
Express --> PresetRoutes
PresetRoutes --> PresetManager
PresetManager --> BuiltinPresets
PresetManager --> Config
PresetManager --> KnowledgeService
PresetManager --> FS
PresetManager --> Crypto
PresetAPI --> PresetRoutes
UIComponents --> PresetAPI
```

**å›¾è¡¨æ¥æº**
- [PresetManager.js](file://src/services/preset/PresetManager.js#L1-L14)
- [presetRoutes.js](file://src/services/routes/presetRoutes.js#L6-L9)

**ç« èŠ‚æ¥æº**
- [PresetManager.js](file://src/services/preset/PresetManager.js#L1-L843)
- [presetRoutes.js](file://src/services/routes/presetRoutes.js#L1-L251)

## æ€§èƒ½è€ƒè™‘

é¢„è®¾ç®¡ç†ç³»ç»Ÿåœ¨è®¾è®¡æ—¶å……åˆ†è€ƒè™‘äº†æ€§èƒ½ä¼˜åŒ–ï¼š

### å†…å­˜ç®¡ç†
- ä½¿ç”¨ Map æ•°æ®ç»“æ„å­˜å‚¨é¢„è®¾ï¼Œæä¾› O(1) çš„æŸ¥æ‰¾æ€§èƒ½
- å®ç°æ‡’åŠ è½½æœºåˆ¶ï¼Œä»…åœ¨éœ€è¦æ—¶åˆå§‹åŒ–çŸ¥è¯†åº“æœåŠ¡
- ä¸Šä¸‹æ–‡æ¸…é™¤æ ‡è®°ä½¿ç”¨æ—¶é—´çª—å£å’Œä½¿ç”¨æ¬¡æ•°åŒé‡ä¿æŠ¤æœºåˆ¶

### æ•°æ®æŒä¹…åŒ–
- é‡‡ç”¨ JSON æ–‡ä»¶å­˜å‚¨é¢„è®¾æ•°æ®ï¼Œç¡®ä¿æ•°æ®æŒä¹…æ€§å’Œå¯ç§»æ¤æ€§
- æ”¯æŒå¢é‡æ›´æ–°ï¼Œé¿å…ä¸å¿…è¦çš„æ–‡ä»¶å†™å…¥æ“ä½œ
- å®ç°è‡ªåŠ¨å¤‡ä»½æœºåˆ¶ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±

### ç¼“å­˜ç­–ç•¥
- å†…ç½®é¢„è®¾ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œå‡å°‘é‡å¤åŠ è½½å¼€é”€
- ä¸Šä¸‹æ–‡çŠ¶æ€ä½¿ç”¨ä¸´æ—¶ç¼“å­˜ï¼ŒåŠæ—¶æ¸…ç†è¿‡æœŸæ•°æ®
- æ”¯æŒé…ç½®çº§åˆ«çš„ç¼“å­˜æ§åˆ¶

## æ•…éšœæ’é™¤æŒ‡å—

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

| é—®é¢˜ç±»å‹ | ç—‡çŠ¶ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|----------|------|----------|----------|
| é¢„è®¾åŠ è½½å¤±è´¥ | é¢„è®¾åˆ—è¡¨ä¸ºç©º | æ•°æ®æ–‡ä»¶æŸå | æ£€æŸ¥ presets.json æ–‡ä»¶å®Œæ•´æ€§ |
| é¢„è®¾åˆ›å»ºå¤±è´¥ | è¿”å› 500 é”™è¯¯ | æƒé™ä¸è¶³ | æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿå†™æƒé™ |
| ç³»ç»Ÿæç¤ºè¯å¼‚å¸¸ | æç¤ºè¯å˜é‡æœªæ›¿æ¢ | å˜é‡å®šä¹‰é”™è¯¯ | éªŒè¯å˜é‡æ ¼å¼å’Œä¸Šä¸‹æ–‡æ•°æ® |
| å†…ç½®é¢„è®¾ç¼ºå¤± | åˆ†ç±»æ˜¾ç¤ºå¼‚å¸¸ | é¢„è®¾å®šä¹‰é”™è¯¯ | æ£€æŸ¥ BuiltinPresets.js æ–‡ä»¶ |
| é»˜è®¤é¢„è®¾å†²çª | è®¾ç½®é»˜è®¤é¢„è®¾å¤±è´¥ | å…¶ä»–é¢„è®¾å·²è®¾ç½®é»˜è®¤ | å–æ¶ˆå…¶ä»–é¢„è®¾çš„é»˜è®¤çŠ¶æ€ |

### è°ƒè¯•å»ºè®®

1. **å¯ç”¨è¯¦ç»†æ—¥å¿—**ï¼šæ£€æŸ¥æ§åˆ¶å°è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯
2. **éªŒè¯æ•°æ®æ ¼å¼**ï¼šç¡®ä¿é¢„è®¾é…ç½®ç¬¦åˆå®šä¹‰çš„æ•°æ®ç»“æ„
3. **æ£€æŸ¥æ–‡ä»¶æƒé™**ï¼šç¡®è®¤æ•°æ®ç›®å½•å…·æœ‰æ­£ç¡®çš„è¯»å†™æƒé™
4. **æµ‹è¯• API æ¥å£**ï¼šä½¿ç”¨ curl æˆ– Postman éªŒè¯æ¥å£åŠŸèƒ½

**ç« èŠ‚æ¥æº**
- [PresetManager.js](file://src/services/preset/PresetManager.js#L140-L142)
- [presetRoutes.js](file://src/services/routes/presetRoutes.js#L117-L142)

## ç»“è®º

é¢„è®¾ç®¡ç†é¡µé¢æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå–„ã€æ¶æ„æ¸…æ™°çš„é¢„è®¾ç®¡ç†ç³»ç»Ÿã€‚ç³»ç»Ÿé€šè¿‡åˆç†çš„åˆ†å±‚è®¾è®¡å’Œæ¨¡å—åŒ–ç»„ç»‡ï¼Œå®ç°äº†é¢„è®¾çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚å…¶æ ¸å¿ƒä¼˜åŠ¿åŒ…æ‹¬ï¼š

1. **å®Œæ•´çš„åŠŸèƒ½è¦†ç›–**ï¼šä»åŸºæœ¬çš„ CRUD æ“ä½œåˆ°é«˜çº§çš„ç³»ç»Ÿæç¤ºè¯æ„å»º
2. **çµæ´»çš„é…ç½®ç®¡ç†**ï¼šæ”¯æŒå¤šç»´åº¦çš„é¢„è®¾é…ç½®å’ŒåŠ¨æ€å˜é‡æ›¿æ¢
3. **å¼ºå¤§çš„æ‰©å±•æ€§**ï¼šå†…ç½®é¢„è®¾åº“å’Œåˆ†ç±»ä½“ç³»ä¾¿äºåŠŸèƒ½æ‰©å±•
4. **è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒ**ï¼šç›´è§‚çš„ç•Œé¢è®¾è®¡å’Œå®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶

è¯¥ç³»ç»Ÿä¸º AI åŠ©æ‰‹çš„ä¸ªæ€§åŒ–é…ç½®æä¾›äº†åšå®çš„æŠ€æœ¯åŸºç¡€ï¼Œèƒ½å¤Ÿæ»¡è¶³ä¸åŒåœºæ™¯ä¸‹çš„é¢„è®¾ç®¡ç†éœ€æ±‚ã€‚é€šè¿‡æŒç»­çš„ä¼˜åŒ–å’Œæ‰©å±•ï¼Œé¢„è®¾ç®¡ç†ç³»ç»Ÿå°†ç»§ç»­ä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„æœåŠ¡ä½“éªŒã€‚