basic:
  toggleMode: both
  togglePrefix: "#111"
  commandPrefix: "#ai"
  debug: true
  showThinkingMessage: false
  debugToConsoleOnly: true
  quoteReply: false
  autoRecall:
    enabled: false
    delay: 60
    recallError: true
  showTokenUsage: true
admin:
  masterQQ: []
  loginNotifyPrivate: true
  sensitiveCommandMasterOnly: true
llm:
  defaultModel: gemini-3-pro-preview
  defaultChatPresetId: ef51d9f6-e69c-447b-accf-fb7808782ed2
  embeddingModel: gemini-3-pro-preview
  dimensions: 1536
  models:
    chat: gemini-3-pro-preview
    roleplay: ""
    toolCall: ""
    search: ""
    reasoning: ""
  chatModel: gemini-3-pro-preview
  codeModel: gemini-3-pro-preview
  translationModel: gemini-3-pro-preview
bym:
  enable: false
  probability: 0.02
  temperature: 0.9
  maxTokens: 100
  recall: false
  model: ""
  systemPrompt: 你是一个真实的人类用户，正在和朋友们聊天。请用简短、自然、口语化的方式回复，就像真人一样。不要说你是AI。
  exclusiveFeatures:
    - groupSummary
    - userPortrait
tools:
  showCallLogs: true
  useForwardMsg: true
builtinTools:
  enabled: true
  allowedTools: []
  disabledTools: []
  dangerousTools:
    - kick_member
    - mute_member
    - recall_message
  allowDangerous: false
channels:
  - id: openai-44dc5dab
    name: my
    adapterType: openai
    baseUrl: http://103.109.22.74:3000/v1
    apiKey: sk-lgrpDhWB7Mm5L521zGdwDO6JescMn9m7xtmQLkAgL0iMXf4h
    models:
      - qwen/qwen3-next-80b-a3b-instruct
      - gemini-3-pro-preview
    priority: 1
    enabled: true
    advanced:
      streaming:
        enabled: true
        chunkSize: 1024
      thinking:
        enableReasoning: false
        defaultLevel: medium
        adaptThinking: true
        sendThinkingAsMessage: false
      llm:
        temperature: 0.7
        maxTokens: 4000
        topP: 1
        frequencyPenalty: 0
        presencePenalty: 0
    apiKeys:
      - key: sk-lgrpDhWB7Mm5L521zGdwDO6JescMn9m7xtmQLkAgL0iMXf4h
        enabled: true
    strategy: round-robin
mcp:
  enabled: true
  servers: []
redis:
  enabled: true
  host: 127.0.0.1
  port: 6379
  password: ""
  db: 0
images:
  storagePath: ./data/images
  maxSize: 10485760
  allowedFormats:
    - jpg
    - jpeg
    - png
    - gif
    - webp
web:
  port: 3000
context:
  maxMessages: 20
  maxTokens: 8096
  cleaningStrategy: auto
memory:
  enabled: true
  storage: true
  autoExtract: true
  pollInterval: 5
  maxMemories: 50
  minScore: 0.7
presets:
  defaultId: ef51d9f6-e69c-447b-accf-fb7808782ed2
  allowUserSwitch: true
  perUserPreset: false
  perGroupPreset: false
loadBalancing:
  strategy: round-robin
thinking:
  defaultLevel: low
  enableReasoning: true
  showThinkingContent: true
  useForwardMsg: true
features:
  groupSummary:
    enabled: true
    maxMessages: 100
    autoTrigger: false
  userPortrait:
    enabled: true
    minMessages: 10
streaming:
  enabled: true
customTools:
  - name: execute_command
    description: 执行shell命令（注意安全）
    parameters:
      type: object
      properties:
        command:
          type: string
          description: 要执行的命令
      required:
        - command
    handler: |-
      const { command } = args

      // 安全检查 - 禁止危险命令
      const dangerous = ['rm -rf', 'mkfs', 'dd if=', ':(){', 'chmod -R 777']
      if (dangerous.some(d => command.includes(d))) {
        return { error: '检测到危险命令，已拒绝执行' }
      }

      try {
        const { stdout, stderr } = await runtime.utils.exec(command)
        return {
          text: stdout || '命令执行完成',
          stdout,
          stderr
        }
      } catch (error) {
        return { error: `执行失败: ${error.message}` }
      }
    custom: true
    createdAt: 1764500123529
  - name: current_time
    description: 获取当前时间信息
    parameters:
      type: object
      properties:
        format:
          type: string
          description: 时间格式
          enum:
            - full
            - date
            - time
          default: full
    handler: |-
      const now = new Date()
      const format = args.format || 'full'

      let result
      switch (format) {
        case 'date':
          result = now.toLocaleDateString('zh-CN')
          break
        case 'time':
          result = now.toLocaleTimeString('zh-CN')
          break
        default:
          result = now.toLocaleString('zh-CN')
      }

      return {
        text: `当前时间: ${result}`,
        timestamp: now.getTime(),
        formatted: result
      }
    custom: true
    createdAt: 1764500190207
