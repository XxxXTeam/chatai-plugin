(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43698,e=>{"use strict";var a=e.i(52542),s=e.i(40418),l=e.i(51200),t=e.i(72029),i=e.i(30243),r=e.i(99573),n=e.i(13107),d=e.i(20308),c=e.i(20650),o=e.i(81080),m=e.i(47686),h=e.i(10201),x=e.i(79342),u=e.i(60381),j=e.i(89908),b=e.i(5850),p=e.i(40204),g=e.i(96173),v=e.i(15204),y=e.i(63959),f=e.i(97058),N=e.i(98858),S=e.i(74940),C=e.i(17286),w=e.i(10273),I=e.i(44697),T=e.i(14775),P=e.i(70620),_=e.i(32308),E=e.i(79923),k=e.i(77759),M=e.i(10148),L=e.i(57345),V=e.i(64775);function B(){let[e,B]=(0,s.useState)(!0),[H,z]=(0,s.useState)(!1),[D,U]=(0,s.useState)(""),[F,O]=(0,s.useState)(""),[Q,J]=(0,s.useState)("basic"),[K,X]=(0,s.useState)({groupId:"",groupName:"",presetId:"__default__",systemPrompt:"",enabled:!0,triggerMode:"default",customPrefix:"",toolsEnabled:"inherit",imageGenEnabled:"inherit",imageGenModel:"",summaryEnabled:"inherit",summaryModel:"",eventEnabled:"inherit",emojiThiefEnabled:"inherit",emojiThiefSeparateFolder:!0,emojiThiefMaxCount:500,emojiThiefStealRate:1,emojiThiefTriggerRate:.05,emojiThiefTriggerMode:"off",bymEnabled:"inherit",bymPresetId:"__default__",bymPrompt:"",bymProbability:"inherit",bymModel:"",bymTemperature:"inherit",bymMaxTokens:"inherit",chatModel:"",listMode:"none",blacklist:[],whitelist:[],summaryPushEnabled:!1,summaryPushIntervalType:"day",summaryPushIntervalValue:1,summaryPushHour:20,summaryPushMessageCount:100,welcomeEnabled:"inherit",welcomeMessage:"",welcomePrompt:"",goodbyeEnabled:"inherit",goodbyePrompt:"",pokeEnabled:"inherit",pokeBack:!1,knowledgeIds:[],proactiveChatEnabled:"inherit",proactiveChatProbability:"inherit",proactiveChatCooldown:"inherit",proactiveChatMaxDaily:"inherit"}),[$,q]=(0,s.useState)([]),[Z,W]=(0,s.useState)([]),[Y,ee]=(0,s.useState)([]),[ea,es]=(0,s.useState)(!1),[el,et]=(0,s.useState)(""),[ei,er]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("code");if(e){window.history.replaceState({},"","/group-admin"),en(e);return}let a=localStorage.getItem("group_admin_token");if(!a){es(!0),B(!1);return}eo(a)},[]);let en=async e=>{B(!0);try{let a=await fetch("/api/group-admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e.toUpperCase()})}),s=await a.json();0===s.code?(localStorage.setItem("group_admin_token",s.data.token),x.toast.success("ç™»å½•æˆåŠŸ"),eo(s.data.token)):(x.toast.error(s.message||"ç™»å½•ç æ— æ•ˆæˆ–å·²è¿‡æœŸ"),es(!0),B(!1))}catch(e){x.toast.error("ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ"),es(!0),B(!1)}},ed=async()=>{if(!el.trim())return void x.toast.error("è¯·è¾“å…¥ç™»å½•ç ");er(!0);try{let e=await fetch("/api/group-admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:el.trim().toUpperCase()})}),a=await e.json();0===a.code?(localStorage.setItem("group_admin_token",a.data.token),es(!1),et(""),x.toast.success("ç™»å½•æˆåŠŸ"),eo(a.data.token)):x.toast.error(a.message||"ç™»å½•å¤±è´¥")}catch(e){x.toast.error("ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ")}finally{er(!1)}},ec=()=>localStorage.getItem("group_admin_token")||"",eo=async e=>{try{let a=await fetch("/api/group-admin/config",{headers:{Authorization:`Bearer ${e||ec()}`}});if(!a.ok){if(401===a.status){localStorage.removeItem("group_admin_token"),es(!0),B(!1);return}throw Error("åŠ è½½é…ç½®å¤±è´¥")}let s=await a.json();if(0===s.code){let e=s.data;U(e.groupId),W(e.presets||[]);let a=new Set;e.channels?.forEach(e=>{e.models&&Array.isArray(e.models)&&e.models.forEach(e=>a.add(e))}),ee(Array.from(a).sort()),X({groupId:e.groupId,groupName:e.groupName||"",presetId:e.presetId||"__default__",systemPrompt:e.systemPrompt||"",enabled:!1!==e.enabled,triggerMode:e.triggerMode||"default",customPrefix:e.customPrefix||"",toolsEnabled:void 0===e.toolsEnabled?"inherit":"true"===e.toolsEnabled||!0===e.toolsEnabled?"on":"off",imageGenEnabled:void 0===e.imageGenEnabled?"inherit":"true"===e.imageGenEnabled||!0===e.imageGenEnabled?"on":"off",imageGenModel:e.models?.image||"",summaryEnabled:void 0===e.summaryEnabled?"inherit":"true"===e.summaryEnabled||!0===e.summaryEnabled?"on":"off",summaryModel:e.models?.summary||"",eventEnabled:void 0===e.eventHandler?"inherit":"true"===e.eventHandler||!0===e.eventHandler?"on":"off",emojiThiefEnabled:e.emojiThief?.enabled===void 0?"inherit":e.emojiThief.enabled?"on":"off",emojiThiefSeparateFolder:e.emojiThief?.independent??!0,emojiThiefMaxCount:e.emojiThief?.maxCount??500,emojiThiefStealRate:(e.emojiThief?.probability??100)/100,emojiThiefTriggerRate:(e.emojiThief?.triggerRate??5)/100,emojiThiefTriggerMode:e.emojiThief?.triggerMode||"off",bymEnabled:e.bym?.enabled===void 0?"inherit":"true"===e.bym.enabled||!0===e.bym.enabled?"on":"off",bymPresetId:e.bym?.presetId||"__default__",bymPrompt:e.bym?.prompt||"",bymProbability:e.bym?.probability===void 0?"inherit":e.bym.probability,bymModel:e.bym?.modelId||"",bymTemperature:e.bym?.temperature===void 0?"inherit":e.bym.temperature,bymMaxTokens:e.bym?.maxTokens===void 0?"inherit":e.bym.maxTokens,chatModel:e.models?.chat||"",listMode:e.listMode||"none",blacklist:e.blacklist||[],whitelist:e.whitelist||[],summaryPushEnabled:e.summaryPush?.enabled||!1,summaryPushIntervalType:e.summaryPush?.intervalType||"day",summaryPushIntervalValue:e.summaryPush?.intervalValue||1,summaryPushHour:e.summaryPush?.pushHour??20,summaryPushMessageCount:e.summaryPush?.messageCount||100,welcomeEnabled:void 0===e.welcomeEnabled?"inherit":!0===e.welcomeEnabled?"on":"off",welcomeMessage:e.welcomeMessage||"",welcomePrompt:e.welcomePrompt||"",goodbyeEnabled:void 0===e.goodbyeEnabled?"inherit":!0===e.goodbyeEnabled?"on":"off",goodbyePrompt:e.goodbyePrompt||"",pokeEnabled:void 0===e.pokeEnabled?"inherit":!0===e.pokeEnabled?"on":"off",pokeBack:e.pokeBack||!1,knowledgeIds:e.knowledgeIds||[],proactiveChatEnabled:void 0===e.proactiveChatEnabled?"inherit":!0===e.proactiveChatEnabled?"on":"off",proactiveChatProbability:void 0===e.proactiveChatProbability?"inherit":e.proactiveChatProbability,proactiveChatCooldown:void 0===e.proactiveChatCooldown?"inherit":e.proactiveChatCooldown,proactiveChatMaxDaily:void 0===e.proactiveChatMaxDaily?"inherit":e.proactiveChatMaxDaily}),e.knowledgeBases&&q(e.knowledgeBases)}else throw Error(s.message||"åŠ è½½å¤±è´¥")}catch(e){O(e.message)}finally{B(!1)}},em=async()=>{z(!0);try{let e=await fetch("/api/group-admin/config",{method:"PUT",headers:{Authorization:`Bearer ${ec()}`,"Content-Type":"application/json"},body:JSON.stringify({groupName:K.groupName,systemPrompt:K.systemPrompt||null,presetId:"__default__"===K.presetId?"":K.presetId,enabled:K.enabled,triggerMode:K.triggerMode,customPrefix:K.customPrefix||void 0,toolsEnabled:"inherit"===K.toolsEnabled?void 0:"on"===K.toolsEnabled,imageGenEnabled:"inherit"===K.imageGenEnabled?void 0:"on"===K.imageGenEnabled,summaryEnabled:"inherit"===K.summaryEnabled?void 0:"on"===K.summaryEnabled,eventHandler:"inherit"===K.eventEnabled?void 0:"on"===K.eventEnabled,emojiThief:{enabled:"inherit"===K.emojiThiefEnabled?void 0:"on"===K.emojiThiefEnabled,independent:K.emojiThiefSeparateFolder,maxCount:K.emojiThiefMaxCount,probability:Math.round(100*K.emojiThiefStealRate),triggerRate:Math.round(100*K.emojiThiefTriggerRate),triggerMode:K.emojiThiefTriggerMode},bym:{enabled:"inherit"===K.bymEnabled?void 0:"on"===K.bymEnabled,presetId:"__default__"===K.bymPresetId?void 0:K.bymPresetId,prompt:K.bymPrompt||void 0,probability:"inherit"===K.bymProbability?void 0:K.bymProbability,modelId:K.bymModel||void 0,temperature:"inherit"===K.bymTemperature?void 0:K.bymTemperature,maxTokens:"inherit"===K.bymMaxTokens?void 0:K.bymMaxTokens},models:{chat:K.chatModel||void 0,summary:K.summaryModel||void 0},listMode:K.listMode,blacklist:K.blacklist,whitelist:K.whitelist,summaryPush:{enabled:K.summaryPushEnabled,intervalType:K.summaryPushIntervalType,intervalValue:K.summaryPushIntervalValue,pushHour:K.summaryPushHour,messageCount:K.summaryPushMessageCount},welcomeEnabled:"inherit"===K.welcomeEnabled?void 0:"on"===K.welcomeEnabled,welcomeMessage:K.welcomeMessage||void 0,welcomePrompt:K.welcomePrompt||void 0,goodbyeEnabled:"inherit"===K.goodbyeEnabled?void 0:"on"===K.goodbyeEnabled,goodbyePrompt:K.goodbyePrompt||void 0,pokeEnabled:"inherit"===K.pokeEnabled?void 0:"on"===K.pokeEnabled,pokeBack:K.pokeBack,knowledgeIds:K.knowledgeIds.length>0?K.knowledgeIds:void 0,proactiveChatEnabled:"inherit"===K.proactiveChatEnabled?void 0:"on"===K.proactiveChatEnabled,proactiveChatProbability:"inherit"===K.proactiveChatProbability?void 0:K.proactiveChatProbability,proactiveChatCooldown:"inherit"===K.proactiveChatCooldown?void 0:K.proactiveChatCooldown,proactiveChatMaxDaily:"inherit"===K.proactiveChatMaxDaily?void 0:K.proactiveChatMaxDaily})});if(!e.ok){if(401===e.status)return void O("è®¤è¯å·²è¿‡æœŸ");throw Error("ä¿å­˜å¤±è´¥")}let a=await e.json();if(0===a.code)x.toast.success("é…ç½®å·²ä¿å­˜");else throw Error(a.message||"ä¿å­˜å¤±è´¥")}catch(e){x.toast.error(e.message)}finally{z(!1)}};return e?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,a.jsx)(j.Loader2,{className:"h-8 w-8 animate-spin text-blue-500"})}):ea?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,a.jsx)(l.Card,{className:"w-full max-w-md mx-4",children:(0,a.jsxs)(l.CardContent,{className:"pt-6",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)(p.Settings,{className:"h-12 w-12 text-blue-500 mx-auto"}),(0,a.jsx)("h2",{className:"mt-4 text-xl font-semibold",children:"ç¾¤ç®¡ç†é¢æ¿"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"è¯·è¾“å…¥ç™»å½•ç ç™»å½•"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.Label,{htmlFor:"loginCode",children:"ç™»å½•ç "}),(0,a.jsx)(i.Input,{id:"loginCode",placeholder:"è¯·è¾“å…¥6ä½ç™»å½•ç ",value:el,onChange:e=>et(e.target.value.toUpperCase()),onKeyDown:e=>"Enter"===e.key&&ed(),maxLength:6,className:"text-center text-2xl tracking-widest font-mono"})]}),(0,a.jsxs)(t.Button,{className:"w-full",onClick:ed,disabled:ei,children:[ei?(0,a.jsx)(j.Loader2,{className:"h-4 w-4 animate-spin mr-2"}):null,"ç™»å½•"]}),(0,a.jsxs)("p",{className:"text-xs text-center text-gray-500",children:["åœ¨ç¾¤å†…å‘é€"," ",(0,a.jsx)("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"#ç¾¤ç®¡ç†é¢æ¿"})," ","èŽ·å–ç™»å½•ç "]})]})]})})}):F?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,a.jsx)(l.Card,{className:"w-full max-w-md mx-4",children:(0,a.jsxs)(l.CardContent,{className:"pt-6 text-center",children:[(0,a.jsx)(u.AlertCircle,{className:"h-12 w-12 text-red-500 mx-auto"}),(0,a.jsx)("h2",{className:"mt-4 text-xl font-semibold",children:F}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"è¯·åœ¨ç¾¤å†…å‘é€ #ç¾¤ç®¡ç†é¢æ¿ é‡æ–°èŽ·å–ç™»å½•ç "})]})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"ç¾¤èŠè®¾ç½®"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["ç¾¤å·: ",(0,a.jsx)(n.Badge,{variant:"secondary",children:D})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:()=>eo(),children:[(0,a.jsx)(f.RefreshCw,{className:"h-4 w-4 mr-1"})," åˆ·æ–°"]}),(0,a.jsxs)(t.Button,{size:"sm",onClick:em,disabled:H,children:[H?(0,a.jsx)(j.Loader2,{className:"h-4 w-4 animate-spin mr-1"}):(0,a.jsx)(b.Save,{className:"h-4 w-4 mr-1"}),"ä¿å­˜"]}),(0,a.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:()=>{localStorage.removeItem("group_admin_token"),es(!0),U(""),x.toast.success("å·²é€€å‡ºç™»å½•")},children:"é€€å‡º"})]})]}),(0,a.jsx)(l.Card,{children:(0,a.jsx)(l.CardContent,{className:"pt-6",children:(0,a.jsxs)(o.Tabs,{value:Q,onValueChange:J,children:[(0,a.jsxs)(o.TabsList,{className:"grid w-full grid-cols-4 mb-4",children:[(0,a.jsxs)(o.TabsTrigger,{value:"basic",children:[(0,a.jsx)(p.Settings,{className:"h-4 w-4 mr-1 hidden sm:inline"}),"åŸºç¡€"]}),(0,a.jsxs)(o.TabsTrigger,{value:"features",children:[(0,a.jsx)(g.Zap,{className:"h-4 w-4 mr-1 hidden sm:inline"}),"åŠŸèƒ½"]}),(0,a.jsxs)(o.TabsTrigger,{value:"bym",children:[(0,a.jsx)(v.Sparkles,{className:"h-4 w-4 mr-1 hidden sm:inline"}),"ä¼ªäºº"]}),(0,a.jsxs)(o.TabsTrigger,{value:"proactive",children:[(0,a.jsx)(w.MessageSquare,{className:"h-4 w-4 mr-1 hidden sm:inline"}),"ä¸»åŠ¨"]}),(0,a.jsxs)(o.TabsTrigger,{value:"advanced",children:[(0,a.jsx)(y.BookOpen,{className:"h-4 w-4 mr-1 hidden sm:inline"}),"é«˜çº§"]})]}),(0,a.jsxs)(m.ScrollArea,{className:"h-[60vh] pr-4",children:[(0,a.jsxs)(o.TabsContent,{value:"basic",className:"space-y-4 mt-0",children:[(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"ç¾¤å·"}),(0,a.jsx)(i.Input,{value:K.groupId,disabled:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"ç¾¤åç§°"}),(0,a.jsx)(i.Input,{value:K.groupName,onChange:e=>X({...K,groupName:e.target.value}),placeholder:"å¯é€‰ï¼Œä¾¿äºŽè¯†åˆ«"})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"ä½¿ç”¨é¢„è®¾"}),(0,a.jsxs)(h.Select,{value:K.presetId,onValueChange:e=>X({...K,presetId:e}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{placeholder:"ä½¿ç”¨é»˜è®¤é¢„è®¾"})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"__default__",children:"ä½¿ç”¨é»˜è®¤é¢„è®¾"}),Z.map(e=>(0,a.jsx)(h.SelectItem,{value:e.id,children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:e.name}),e.description&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.description})]})},e.id))]})]}),K.presetId&&"__default__"!==K.presetId&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:Z.find(e=>e.id===K.presetId)?.systemPromptPreview||""})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"è§¦å‘æ¨¡å¼"}),(0,a.jsxs)(h.Select,{value:K.triggerMode,onValueChange:e=>X({...K,triggerMode:e}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"default",children:"é»˜è®¤"}),(0,a.jsx)(h.SelectItem,{value:"at",children:"ä»…@è§¦å‘"}),(0,a.jsx)(h.SelectItem,{value:"prefix",children:"ä»…å‰ç¼€è§¦å‘"}),(0,a.jsx)(h.SelectItem,{value:"all",children:"å…¨éƒ¨æ¶ˆæ¯"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"è‡ªå®šä¹‰å‰ç¼€"}),(0,a.jsx)(i.Input,{value:K.customPrefix,onChange:e=>X({...K,customPrefix:e.target.value}),placeholder:"ç•™ç©ºä½¿ç”¨å…¨å±€å‰ç¼€ï¼Œå¦‚ #ai"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"ç‹¬ç«‹äººè®¾"}),(0,a.jsx)(c.Textarea,{value:K.systemPrompt,onChange:e=>X({...K,systemPrompt:e.target.value}),placeholder:"ä¸å¡«å†™åˆ™ä½¿ç”¨é¢„è®¾é…ç½®...",rows:3,className:"font-mono text-sm"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["æ”¯æŒå˜é‡: ","{{user_name}}"," ","{{group_name}}"," ","{{date}}"," ç­‰ | è¡¨è¾¾å¼:"," ","${e.user_id}"," (eä¸ºevent)"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.Power,{className:"h-4 w-4"}),(0,a.jsx)(r.Label,{children:"å¯ç”¨AIå“åº”"})]}),(0,a.jsx)(d.Switch,{checked:K.enabled,onCheckedChange:e=>X({...K,enabled:e})})]})]}),(0,a.jsxs)(o.TabsContent,{value:"features",className:"space-y-3 mt-0",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"ç¾¤ç®¡ç†å‘˜ä¹Ÿå¯é€šè¿‡å‘½ä»¤æŽ§åˆ¶è¿™äº›åŠŸèƒ½"}),(0,a.jsx)(A,{icon:(0,a.jsx)(g.Zap,{className:"h-4 w-4"}),title:"å·¥å…·è°ƒç”¨",desc:"å…è®¸AIä½¿ç”¨æœç´¢ã€ä»£ç æ‰§è¡Œç­‰å·¥å…·",value:K.toolsEnabled,onChange:e=>X({...K,toolsEnabled:e})}),(0,a.jsx)(A,{icon:(0,a.jsx)(C.Image,{className:"h-4 w-4"}),title:"ç»˜å›¾åŠŸèƒ½",desc:"æ–‡ç”Ÿå›¾ã€å›¾ç”Ÿå›¾ç­‰",value:K.imageGenEnabled,onChange:e=>X({...K,imageGenEnabled:e})}),"on"===K.imageGenEnabled&&(0,a.jsx)(G,{label:"ç»˜å›¾æ¨¡åž‹",value:K.imageGenModel,models:Y,onChange:e=>X({...K,imageGenModel:e})}),(0,a.jsx)(A,{icon:(0,a.jsx)(w.MessageSquare,{className:"h-4 w-4"}),title:"ç¾¤èŠæ€»ç»“",desc:"å…è®¸ä½¿ç”¨ç¾¤èŠæ€»ç»“",value:K.summaryEnabled,onChange:e=>X({...K,summaryEnabled:e})}),"on"===K.summaryEnabled&&(0,a.jsx)(G,{label:"æ€»ç»“æ¨¡åž‹",value:K.summaryModel,models:Y,onChange:e=>X({...K,summaryModel:e})}),(0,a.jsx)(A,{icon:(0,a.jsx)(I.PartyPopper,{className:"h-4 w-4"}),title:"äº‹ä»¶å¤„ç†",desc:"å…¥ç¾¤æ¬¢è¿Žã€é€€ç¾¤æé†’",value:K.eventEnabled,onChange:e=>X({...K,eventEnabled:e})}),"off"!==K.eventEnabled&&(0,a.jsxs)("div",{className:"ml-4 pl-4 border-l-2 border-muted space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(M.UserPlus,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)(r.Label,{className:"text-sm font-medium",children:"å…¥ç¾¤æ¬¢è¿Ž"})]}),(0,a.jsxs)(h.Select,{value:K.welcomeEnabled,onValueChange:e=>X({...K,welcomeEnabled:e}),children:[(0,a.jsx)(h.SelectTrigger,{className:"w-24",children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(h.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(h.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===K.welcomeEnabled&&(0,a.jsxs)("div",{className:"space-y-2 pl-6",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"å›ºå®šæ¬¢è¿Žè¯­ï¼ˆä¸ä½¿ç”¨AIç”Ÿæˆï¼‰"}),(0,a.jsx)(c.Textarea,{value:K.welcomeMessage,placeholder:"ç•™ç©ºåˆ™ä½¿ç”¨AIç”Ÿæˆï¼Œæ”¯æŒ {nickname} {at} å˜é‡",onChange:e=>X({...K,welcomeMessage:e.target.value}),rows:2,className:"text-sm"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"AIæ¬¢è¿Žæç¤ºè¯"}),(0,a.jsx)(c.Textarea,{value:K.welcomePrompt,placeholder:"ä¸ºæ–°æˆå‘˜ç”Ÿæˆæ¬¢è¿Žæ¶ˆæ¯æ—¶çš„æç¤º...",onChange:e=>X({...K,welcomePrompt:e.target.value}),rows:2,className:"text-sm"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(L.UserMinus,{className:"h-4 w-4 text-red-500"}),(0,a.jsx)(r.Label,{className:"text-sm font-medium",children:"é€€ç¾¤æé†’"})]}),(0,a.jsxs)(h.Select,{value:K.goodbyeEnabled,onValueChange:e=>X({...K,goodbyeEnabled:e}),children:[(0,a.jsx)(h.SelectTrigger,{className:"w-24",children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(h.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(h.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===K.goodbyeEnabled&&(0,a.jsxs)("div",{className:"space-y-1 pl-6",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"AIå‘Šåˆ«æç¤ºè¯"}),(0,a.jsx)(c.Textarea,{value:K.goodbyePrompt,placeholder:"ä¸ºç¦»å¼€æˆå‘˜ç”Ÿæˆå‘Šåˆ«æ¶ˆæ¯æ—¶çš„æç¤º...",onChange:e=>X({...K,goodbyePrompt:e.target.value}),rows:2,className:"text-sm"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(k.Hand,{className:"h-4 w-4 text-blue-500"}),(0,a.jsx)(r.Label,{className:"text-sm font-medium",children:"æˆ³ä¸€æˆ³å›žå¤"})]}),(0,a.jsxs)(h.Select,{value:K.pokeEnabled,onValueChange:e=>X({...K,pokeEnabled:e}),children:[(0,a.jsx)(h.SelectTrigger,{className:"w-24",children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(h.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(h.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===K.pokeEnabled&&(0,a.jsxs)("div",{className:"flex items-center gap-2 pl-6",children:[(0,a.jsx)(d.Switch,{checked:K.pokeBack,onCheckedChange:e=>X({...K,pokeBack:e})}),(0,a.jsx)(r.Label,{className:"text-xs",children:"æˆ³å›žåŽ»ï¼ˆè€Œéžæ–‡å­—å›žå¤ï¼‰"})]})]})]}),(0,a.jsx)(A,{icon:(0,a.jsx)(T.Palette,{className:"h-4 w-4"}),title:"è¡¨æƒ…å°å·",desc:"æ”¶é›†å¹¶å‘é€è¡¨æƒ…åŒ…",value:K.emojiThiefEnabled,onChange:e=>X({...K,emojiThiefEnabled:e})}),"off"!==K.emojiThiefEnabled&&(0,a.jsxs)("div",{className:"ml-4 pl-4 border-l-2 border-muted space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.Label,{className:"text-sm",children:"ç‹¬ç«‹å­˜å‚¨"}),(0,a.jsx)(d.Switch,{checked:K.emojiThiefSeparateFolder,onCheckedChange:e=>X({...K,emojiThiefSeparateFolder:e})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"æœ€å¤§æ•°é‡"}),(0,a.jsx)(i.Input,{type:"number",min:10,max:5e3,value:K.emojiThiefMaxCount,onChange:e=>X({...K,emojiThiefMaxCount:parseInt(e.target.value)||500})})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"å·å–æ¦‚çŽ‡ (%)"}),(0,a.jsx)(i.Input,{type:"number",min:1,max:100,value:Math.round(100*K.emojiThiefStealRate),onChange:e=>X({...K,emojiThiefStealRate:parseInt(e.target.value)/100})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"å‘é€æ¨¡å¼"}),(0,a.jsxs)(h.Select,{value:K.emojiThiefTriggerMode||"off",onValueChange:e=>X({...K,emojiThiefTriggerMode:e}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"off",children:"å…³é—­"}),(0,a.jsx)(h.SelectItem,{value:"chat_follow",children:"èŠå¤©è§¦å‘"}),(0,a.jsx)(h.SelectItem,{value:"chat_random",children:"èŠå¤©éšæœº"}),(0,a.jsx)(h.SelectItem,{value:"bym_follow",children:"ä¼ªäººè§¦å‘"}),(0,a.jsx)(h.SelectItem,{value:"bym_random",children:"ä¼ªäººéšæœº"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"å‘é€æ¦‚çŽ‡ (%)"}),(0,a.jsx)(i.Input,{type:"number",min:1,max:100,value:Math.round((K.emojiThiefTriggerRate??.05)*100),onChange:e=>X({...K,emojiThiefTriggerRate:parseInt(e.target.value)/100}),disabled:"off"===K.emojiThiefTriggerMode||"chat_follow"===K.emojiThiefTriggerMode||"bym_follow"===K.emojiThiefTriggerMode})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"è§¦å‘æ¨¡å¼100%å‘é€ï¼Œéšæœºæ¨¡å¼æŒ‰æ¦‚çŽ‡å‘é€"})]}),(0,a.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-md bg-muted",children:(0,a.jsx)(_.Users,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"ç”¨æˆ·æƒé™ç®¡ç†"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"è®¾ç½®é»‘ç™½åå•"})]})]}),(0,a.jsxs)(h.Select,{value:K.listMode,onValueChange:e=>X({...K,listMode:e}),children:[(0,a.jsx)(h.SelectTrigger,{className:"w-28",children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"none",children:"ä¸å¯ç”¨"}),(0,a.jsx)(h.SelectItem,{value:"blacklist",children:"é»‘åå•"}),(0,a.jsx)(h.SelectItem,{value:"whitelist",children:"ç™½åå•"})]})]})]}),"blacklist"===K.listMode&&(0,a.jsx)(c.Textarea,{className:"mt-2 font-mono",placeholder:"æ¯è¡Œä¸€ä¸ªQQå·",value:K.blacklist.join("\n"),onChange:e=>X({...K,blacklist:e.target.value.split("\n").filter(Boolean)})}),"whitelist"===K.listMode&&(0,a.jsx)(c.Textarea,{className:"mt-2 font-mono",placeholder:"æ¯è¡Œä¸€ä¸ªQQå·",value:K.whitelist.join("\n"),onChange:e=>X({...K,whitelist:e.target.value.split("\n").filter(Boolean)})})]}),(0,a.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-md bg-muted",children:(0,a.jsx)(E.Clock,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"å®šæ—¶æ€»ç»“æŽ¨é€"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"å®šæœŸæŽ¨é€ç¾¤èŠæ€»ç»“æŠ¥å‘Š"})]})]}),(0,a.jsx)(d.Switch,{checked:K.summaryPushEnabled,onCheckedChange:e=>X({...K,summaryPushEnabled:e})})]}),K.summaryPushEnabled&&(0,a.jsxs)("div",{className:"ml-4 pl-4 border-l-2 border-muted space-y-3 mt-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"é—´éš”ç±»åž‹"}),(0,a.jsxs)(h.Select,{value:K.summaryPushIntervalType,onValueChange:e=>X({...K,summaryPushIntervalType:e}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"day",children:"æŒ‰å¤©"}),(0,a.jsx)(h.SelectItem,{value:"hour",children:"æŒ‰å°æ—¶"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"é—´éš”å€¼"}),(0,a.jsx)(i.Input,{type:"number",min:1,value:K.summaryPushIntervalValue,onChange:e=>X({...K,summaryPushIntervalValue:parseInt(e.target.value)||1})})]})]}),"day"===K.summaryPushIntervalType&&(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"æŽ¨é€æ—¶é—´ (0-23ç‚¹)"}),(0,a.jsx)(i.Input,{type:"number",min:0,max:23,value:K.summaryPushHour,onChange:e=>X({...K,summaryPushHour:parseInt(e.target.value)}),className:"w-24"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"æ¶ˆæ¯æ•°é‡"}),(0,a.jsx)(i.Input,{type:"number",min:10,max:500,value:K.summaryPushMessageCount,onChange:e=>X({...K,summaryPushMessageCount:parseInt(e.target.value)||100}),className:"w-24"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"æ¯æ¬¡æ€»ç»“èŽ·å–æŒ‡å®šæ•°é‡çš„æ–°æ¶ˆæ¯ï¼Œä¸ä¼šé‡å¤æ€»ç»“å·²å¤„ç†çš„æ¶ˆæ¯"})]})]})]}),(0,a.jsxs)(o.TabsContent,{value:"bym",className:"space-y-4 mt-0",children:[(0,a.jsx)(A,{icon:(0,a.jsx)(v.Sparkles,{className:"h-4 w-4 text-purple-500"}),title:"ä¼ªäººæ¨¡å¼",desc:"éšæœºå›žå¤ï¼Œæ¨¡æ‹ŸçœŸäººèŠå¤©",value:K.bymEnabled,onChange:e=>X({...K,bymEnabled:e})}),"off"!==K.bymEnabled&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"ä¼ªäººäººè®¾"}),(0,a.jsxs)(h.Select,{value:K.bymPresetId,onValueChange:e=>X({...K,bymPresetId:e}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{placeholder:"é€‰æ‹©äººè®¾..."})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"__default__",children:"ä½¿ç”¨é»˜è®¤é¢„è®¾"}),(0,a.jsx)(h.SelectItem,{value:"__custom__",children:"è‡ªå®šä¹‰æç¤ºè¯"}),Z.map(e=>(0,a.jsx)(h.SelectItem,{value:e.id,children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:e.name}),e.description&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.description})]})},e.id))]})]}),K.bymPresetId&&"__default__"!==K.bymPresetId&&"__custom__"!==K.bymPresetId&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:Z.find(e=>e.id===K.bymPresetId)?.systemPromptPreview||""})]}),"__custom__"===K.bymPresetId&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"è‡ªå®šä¹‰æç¤ºè¯"}),(0,a.jsx)(c.Textarea,{value:K.bymPrompt,onChange:e=>X({...K,bymPrompt:e.target.value}),placeholder:"ä½ æ˜¯ä¸€ä¸ªçœŸå®žçš„ç¾¤å‹...",rows:3,className:"font-mono text-sm"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{className:"text-sm",children:"è§¦å‘æ¦‚çŽ‡"}),"inherit"===K.bymProbability?(0,a.jsx)(t.Button,{variant:"outline",size:"sm",className:"w-full",onClick:()=>X({...K,bymProbability:.02}),children:"ç»§æ‰¿å…¨å±€"}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Input,{type:"number",min:0,max:100,className:"w-20",value:"number"==typeof K.bymProbability?Math.round(100*K.bymProbability):2,onChange:e=>X({...K,bymProbability:parseInt(e.target.value)/100})}),(0,a.jsx)("span",{className:"text-sm",children:"%"}),(0,a.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:()=>X({...K,bymProbability:"inherit"}),children:(0,a.jsx)(S.X,{className:"h-3 w-3"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{className:"text-sm",children:"ä½¿ç”¨æ¨¡åž‹"}),(0,a.jsxs)(h.Select,{value:K.bymModel||"__default__",onValueChange:e=>X({...K,bymModel:"__default__"===e?"":e}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{placeholder:"ç»§æ‰¿"})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"__default__",children:"ç»§æ‰¿å…¨å±€"}),Y.map(e=>(0,a.jsx)(h.SelectItem,{value:e,children:e},e))]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{className:"text-sm",children:"æ¸©åº¦"}),"inherit"===K.bymTemperature?(0,a.jsx)(t.Button,{variant:"outline",size:"sm",className:"w-full",onClick:()=>X({...K,bymTemperature:.9}),children:"ç»§æ‰¿å…¨å±€"}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Input,{type:"number",min:0,max:2,step:.1,value:"number"==typeof K.bymTemperature?K.bymTemperature:.9,onChange:e=>X({...K,bymTemperature:parseFloat(e.target.value)})}),(0,a.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:()=>X({...K,bymTemperature:"inherit"}),children:(0,a.jsx)(S.X,{className:"h-3 w-3"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{className:"text-sm",children:"æœ€å¤§Token"}),"inherit"===K.bymMaxTokens?(0,a.jsx)(t.Button,{variant:"outline",size:"sm",className:"w-full",onClick:()=>X({...K,bymMaxTokens:100}),children:"ç»§æ‰¿å…¨å±€"}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Input,{type:"number",min:10,max:2e3,value:"number"==typeof K.bymMaxTokens?K.bymMaxTokens:100,onChange:e=>X({...K,bymMaxTokens:parseInt(e.target.value)})}),(0,a.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:()=>X({...K,bymMaxTokens:"inherit"}),children:(0,a.jsx)(S.X,{className:"h-3 w-3"})})]})]})]})]})]}),(0,a.jsx)(o.TabsContent,{value:"proactive",className:"space-y-4 mt-0",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.Label,{children:"ä¸»åŠ¨èŠå¤©"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"å…è®¸æœºå™¨äººåœ¨æœ¬ç¾¤ä¸»åŠ¨å‘è¨€"})]}),(0,a.jsxs)(h.Select,{value:K.proactiveChatEnabled,onValueChange:e=>X({...K,proactiveChatEnabled:e}),children:[(0,a.jsx)(h.SelectTrigger,{className:"w-28",children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"inherit",children:"ç»§æ‰¿å…¨å±€"}),(0,a.jsx)(h.SelectItem,{value:"on",children:"å¯ç”¨"}),(0,a.jsx)(h.SelectItem,{value:"off",children:"ç¦ç”¨"})]})]})]}),"off"!==K.proactiveChatEnabled&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"è§¦å‘æ¦‚çŽ‡"}),(0,a.jsxs)(h.Select,{value:"inherit"===K.proactiveChatProbability?"inherit":String(K.proactiveChatProbability),onValueChange:e=>X({...K,proactiveChatProbability:"inherit"===e?"inherit":parseFloat(e)}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"inherit",children:"ç»§æ‰¿å…¨å±€è®¾ç½®"}),(0,a.jsx)(h.SelectItem,{value:"0.01",children:"1%"}),(0,a.jsx)(h.SelectItem,{value:"0.02",children:"2%"}),(0,a.jsx)(h.SelectItem,{value:"0.05",children:"5%"}),(0,a.jsx)(h.SelectItem,{value:"0.1",children:"10%"}),(0,a.jsx)(h.SelectItem,{value:"0.15",children:"15%"}),(0,a.jsx)(h.SelectItem,{value:"0.2",children:"20%"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"å†·å´æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰"}),(0,a.jsxs)(h.Select,{value:"inherit"===K.proactiveChatCooldown?"inherit":String(K.proactiveChatCooldown),onValueChange:e=>X({...K,proactiveChatCooldown:"inherit"===e?"inherit":parseInt(e)}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"inherit",children:"ç»§æ‰¿å…¨å±€è®¾ç½®"}),(0,a.jsx)(h.SelectItem,{value:"10",children:"10åˆ†é’Ÿ"}),(0,a.jsx)(h.SelectItem,{value:"30",children:"30åˆ†é’Ÿ"}),(0,a.jsx)(h.SelectItem,{value:"60",children:"1å°æ—¶"}),(0,a.jsx)(h.SelectItem,{value:"120",children:"2å°æ—¶"}),(0,a.jsx)(h.SelectItem,{value:"360",children:"6å°æ—¶"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"æ¯æ—¥æœ€å¤§æ¬¡æ•°"}),(0,a.jsxs)(h.Select,{value:"inherit"===K.proactiveChatMaxDaily?"inherit":String(K.proactiveChatMaxDaily),onValueChange:e=>X({...K,proactiveChatMaxDaily:"inherit"===e?"inherit":parseInt(e)}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"inherit",children:"ç»§æ‰¿å…¨å±€è®¾ç½®"}),(0,a.jsx)(h.SelectItem,{value:"5",children:"5æ¬¡"}),(0,a.jsx)(h.SelectItem,{value:"10",children:"10æ¬¡"}),(0,a.jsx)(h.SelectItem,{value:"20",children:"20æ¬¡"}),(0,a.jsx)(h.SelectItem,{value:"50",children:"50æ¬¡"}),(0,a.jsx)(h.SelectItem,{value:"100",children:"100æ¬¡"})]})]})]})]})]})}),(0,a.jsxs)(o.TabsContent,{value:"advanced",className:"space-y-4 mt-0",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.Bot,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)(r.Label,{children:"æ¨¡åž‹é…ç½®"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"ä¸ºæœ¬ç¾¤é…ç½®å„åœºæ™¯ç‹¬ç«‹æ¨¡åž‹ï¼ˆç•™ç©ºä½¿ç”¨å…¨å±€é…ç½®ï¼‰"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(R,{label:"å¯¹è¯æ¨¡åž‹",desc:"ä¸»æ¨¡åž‹",value:K.chatModel,models:Y,onChange:e=>X({...K,chatModel:e})}),(0,a.jsx)(R,{label:"æ€»ç»“æ¨¡åž‹",desc:"ç¾¤èŠæ€»ç»“",value:K.summaryModel,models:Y,onChange:e=>X({...K,summaryModel:e})})]})]}),$.length>0&&(0,a.jsxs)("div",{className:"space-y-3 border-t pt-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(V.Brain,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)(r.Label,{children:"çŸ¥è¯†åº“"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"ä¸ºæœ¬ç¾¤å…³è”çŸ¥è¯†åº“ï¼ŒAIå›žå¤æ—¶å¯å‚è€ƒçŸ¥è¯†åº“å†…å®¹"}),(0,a.jsx)("div",{className:"space-y-2",children:$.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded border bg-card",children:[(0,a.jsx)(d.Switch,{checked:K.knowledgeIds.includes(e.id),onCheckedChange:a=>{a?X({...K,knowledgeIds:[...K.knowledgeIds,e.id]}):X({...K,knowledgeIds:K.knowledgeIds.filter(a=>a!==e.id)})}}),(0,a.jsx)("span",{className:"text-sm",children:e.name})]},e.id))})]}),(0,a.jsx)("div",{className:"border-t pt-4 mt-4",children:(0,a.jsx)("div",{className:"p-3 rounded-lg bg-muted/50 text-sm text-muted-foreground",children:(0,a.jsx)("p",{children:"ðŸ’¡ æ›´å¤šé«˜çº§è®¾ç½®ï¼ˆå¦‚MCPæœåŠ¡ã€å·¥å…·ç»„é…ç½®ç­‰ï¼‰è¯·åœ¨ä¸»ç®¡ç†é¢æ¿ä¸­é…ç½®"})})})]})]})]})})}),(0,a.jsx)("div",{className:"mt-6 text-center text-sm text-gray-500",children:(0,a.jsxs)("p",{children:["ChatGPT Plugin ç¾¤ç®¡ç†é¢æ¿ Â· ç¾¤ ",D]})})]})})}function A({icon:e,title:s,desc:l,value:t,onChange:i}){return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-md bg-muted",children:e}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:s}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:l})]})]}),(0,a.jsxs)(h.Select,{value:t,onValueChange:i,children:[(0,a.jsx)(h.SelectTrigger,{className:"w-28",children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(h.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(h.SelectItem,{value:"off",children:"å…³é—­"})]})]})]})}function G({label:e,value:s,models:l,onChange:t}){return(0,a.jsxs)("div",{className:"ml-4 pl-4 border-l-2 border-muted space-y-2",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:e}),(0,a.jsxs)(h.Select,{value:s||"__default__",onValueChange:e=>t("__default__"===e?"":e),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{placeholder:"ç»§æ‰¿å…¨å±€"})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"__default__",children:"ç»§æ‰¿å…¨å±€"}),l.map(e=>(0,a.jsx)(h.SelectItem,{value:e,children:e},e))]})]})]})}function R({label:e,desc:s,value:l,models:t,onChange:i}){return(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)(r.Label,{className:"text-xs",children:[e," ",(0,a.jsxs)("span",{className:"text-muted-foreground",children:["ï¼ˆ",s,"ï¼‰"]})]}),(0,a.jsxs)(h.Select,{value:l||"__default__",onValueChange:e=>i("__default__"===e?"":e),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{placeholder:"ä½¿ç”¨å…¨å±€é…ç½®"})}),(0,a.jsxs)(h.SelectContent,{className:"max-h-[200px] overflow-y-auto",children:[(0,a.jsx)(h.SelectItem,{value:"__default__",children:"ä½¿ç”¨å…¨å±€é…ç½®"}),t.map(e=>(0,a.jsx)(h.SelectItem,{value:e,children:e},e))]})]})]})}e.s(["default",()=>B])}]);