(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,60381,e=>{"use strict";let t=(0,e.i(50974).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],60381)},84519,e=>{"use strict";var t=e.i(33169),a=e.i(60844),r=e.i(27069),l=e.i(91967),i=e.i(69343),s=e.i(57314),n=e.i(40807),o=e.i(92308),d=e.i(50474),c=e.i(56503),u=e.i(79085),h=e.i(77175),p=["PageUp","PageDown"],m=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],y={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},x="Slider",[f,v,g]=(0,h.createCollection)(x),[k,j]=(0,s.createContextScope)(x,[g]),[b,w]=k(x),S=a.forwardRef((e,i)=>{let{name:s,min:o=0,max:d=100,step:c=1,orientation:u="horizontal",disabled:h=!1,minStepsBetweenThumbs:y=0,defaultValue:x=[o],value:v,onValueChange:g=()=>{},onValueCommit:k=()=>{},inverted:j=!1,form:w,...S}=e,C=a.useRef(new Set),M=a.useRef(0),D="horizontal"===u,[A=[],R]=(0,n.useControllableState)({prop:v,defaultProp:x,onChange:e=>{let t=[...C.current];t[M.current]?.focus(),g(e)}}),I=a.useRef(A);function z(e,t,{commit:a}={commit:!1}){let l,i=(String(c).split(".")[1]||"").length,s=Math.round((Math.round((e-o)/c)*c+o)*(l=Math.pow(10,i)))/l,n=(0,r.clamp)(s,[o,d]);R((e=[])=>{let r=function(e=[],t,a){let r=[...e];return r[a]=t,r.sort((e,t)=>e-t)}(e,n,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,a)=>e[a+1]-t))>=t;return!0}(r,y*c))return e;{M.current=r.indexOf(n);let t=String(r)!==String(e);return t&&a&&k(r),t?r:e}})}return(0,t.jsx)(b,{scope:e.__scopeSlider,name:s,disabled:h,min:o,max:d,valueIndexToChangeRef:M,thumbs:C.current,values:A,orientation:u,form:w,children:(0,t.jsx)(f.Provider,{scope:e.__scopeSlider,children:(0,t.jsx)(f.Slot,{scope:e.__scopeSlider,children:(0,t.jsx)(D?N:P,{"aria-disabled":h,"data-disabled":h?"":void 0,...S,ref:i,onPointerDown:(0,l.composeEventHandlers)(S.onPointerDown,()=>{h||(I.current=A)}),min:o,max:d,inverted:j,onSlideStart:h?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let a=e.map(e=>Math.abs(e-t)),r=Math.min(...a);return a.indexOf(r)}(A,e);z(e,t)},onSlideMove:h?void 0:function(e){z(e,M.current)},onSlideEnd:h?void 0:function(){let e=I.current[M.current];A[M.current]!==e&&k(A)},onHomeKeyDown:()=>!h&&z(o,0,{commit:!0}),onEndKeyDown:()=>!h&&z(d,A.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!h){let a=p.includes(e.key)||e.shiftKey&&m.includes(e.key),r=M.current;z(A[r]+c*(a?10:1)*t,r,{commit:!0})}}})})})})});S.displayName=x;var[C,M]=k(x,{startEdge:"left",endEdge:"right",size:"width",direction:1}),N=a.forwardRef((e,r)=>{let{min:l,max:s,dir:n,inverted:d,onSlideStart:c,onSlideMove:u,onSlideEnd:h,onStepKeyDown:p,...m}=e,[x,f]=a.useState(null),v=(0,i.useComposedRefs)(r,e=>f(e)),g=a.useRef(void 0),k=(0,o.useDirection)(n),j="ltr"===k,b=j&&!d||!j&&d;function w(e){let t=g.current||x.getBoundingClientRect(),a=K([0,t.width],b?[l,s]:[s,l]);return g.current=t,a(e-t.left)}return(0,t.jsx)(C,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:(0,t.jsx)(D,{dir:k,"data-orientation":"horizontal",...m,ref:v,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=w(e.clientX);c?.(t)},onSlideMove:e=>{let t=w(e.clientX);u?.(t)},onSlideEnd:()=>{g.current=void 0,h?.()},onStepKeyDown:e=>{let t=y[b?"from-left":"from-right"].includes(e.key);p?.({event:e,direction:t?-1:1})}})})}),P=a.forwardRef((e,r)=>{let{min:l,max:s,inverted:n,onSlideStart:o,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...h}=e,p=a.useRef(null),m=(0,i.useComposedRefs)(r,p),x=a.useRef(void 0),f=!n;function v(e){let t=x.current||p.current.getBoundingClientRect(),a=K([0,t.height],f?[s,l]:[l,s]);return x.current=t,a(e-t.top)}return(0,t.jsx)(C,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:(0,t.jsx)(D,{"data-orientation":"vertical",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=v(e.clientY);o?.(t)},onSlideMove:e=>{let t=v(e.clientY);d?.(t)},onSlideEnd:()=>{x.current=void 0,c?.()},onStepKeyDown:e=>{let t=y[f?"from-bottom":"from-top"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),D=a.forwardRef((e,a)=>{let{__scopeSlider:r,onSlideStart:i,onSlideMove:s,onSlideEnd:n,onHomeKeyDown:o,onEndKeyDown:d,onStepKeyDown:c,...h}=e,y=w(x,r);return(0,t.jsx)(u.Primitive.span,{...h,ref:a,onKeyDown:(0,l.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(d(e),e.preventDefault()):p.concat(m).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,l.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),y.thumbs.has(t)?t.focus():i(e)}),onPointerMove:(0,l.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&s(e)}),onPointerUp:(0,l.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),n(e))})})}),A="SliderTrack",R=a.forwardRef((e,a)=>{let{__scopeSlider:r,...l}=e,i=w(A,r);return(0,t.jsx)(u.Primitive.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...l,ref:a})});R.displayName=A;var I="SliderRange",z=a.forwardRef((e,r)=>{let{__scopeSlider:l,...s}=e,n=w(I,l),o=M(I,l),d=a.useRef(null),c=(0,i.useComposedRefs)(r,d),h=n.values.length,p=n.values.map(e=>T(e,n.min,n.max)),m=h>1?Math.min(...p):0,y=100-Math.max(...p);return(0,t.jsx)(u.Primitive.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...s,ref:c,style:{...e.style,[o.startEdge]:m+"%",[o.endEdge]:y+"%"}})});z.displayName=I;var E="SliderThumb",L=a.forwardRef((e,r)=>{let l=v(e.__scopeSlider),[s,n]=a.useState(null),o=(0,i.useComposedRefs)(r,e=>n(e)),d=a.useMemo(()=>s?l().findIndex(e=>e.ref.current===s):-1,[l,s]);return(0,t.jsx)(H,{...e,ref:o,index:d})}),H=a.forwardRef((e,r)=>{var s,n,o,d,h;let p,m,{__scopeSlider:y,index:x,name:v,...g}=e,k=w(E,y),j=M(E,y),[b,S]=a.useState(null),C=(0,i.useComposedRefs)(r,e=>S(e)),N=!b||k.form||!!b.closest("form"),P=(0,c.useSize)(b),D=k.values[x],A=void 0===D?0:T(D,k.min,k.max),R=(s=x,(n=k.values.length)>2?`Value ${s+1} of ${n}`:2===n?["Minimum","Maximum"][s]:void 0),I=P?.[j.size],z=I?(o=I,d=A,h=j.direction,m=K([0,50],[0,p=o/2]),(p-m(d)*h)*h):0;return a.useEffect(()=>{if(b)return k.thumbs.add(b),()=>{k.thumbs.delete(b)}},[b,k.thumbs]),(0,t.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[j.startEdge]:`calc(${A}% + ${z}px)`},children:[(0,t.jsx)(f.ItemSlot,{scope:e.__scopeSlider,children:(0,t.jsx)(u.Primitive.span,{role:"slider","aria-label":e["aria-label"]||R,"aria-valuemin":k.min,"aria-valuenow":D,"aria-valuemax":k.max,"aria-orientation":k.orientation,"data-orientation":k.orientation,"data-disabled":k.disabled?"":void 0,tabIndex:k.disabled?void 0:0,...g,ref:C,style:void 0===D?{display:"none"}:e.style,onFocus:(0,l.composeEventHandlers)(e.onFocus,()=>{k.valueIndexToChangeRef.current=x})})}),N&&(0,t.jsx)(B,{name:v??(k.name?k.name+(k.values.length>1?"[]":""):void 0),form:k.form,value:D},x)]})});L.displayName=E;var B=a.forwardRef(({__scopeSlider:e,value:r,...l},s)=>{let n=a.useRef(null),o=(0,i.useComposedRefs)(n,s),c=(0,d.usePrevious)(r);return a.useEffect(()=>{let e=n.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(c!==r&&t){let a=new Event("input",{bubbles:!0});t.call(e,r),e.dispatchEvent(a)}},[c,r]),(0,t.jsx)(u.Primitive.input,{style:{display:"none"},...l,ref:o,defaultValue:r})});function T(e,t,a){return(0,r.clamp)(100/(a-t)*(e-t),[0,100])}function K(e,t){return a=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(a-e[0])}}B.displayName="RadioBubbleInput";var U=e.i(17171);function q({className:e,defaultValue:r,value:l,min:i=0,max:s=100,...n}){let o=a.useMemo(()=>Array.isArray(l)?l:Array.isArray(r)?r:[i,s],[l,r,i,s]);return(0,t.jsxs)(S,{"data-slot":"slider",defaultValue:r,value:l,min:i,max:s,className:(0,U.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...n,children:[(0,t.jsx)(R,{"data-slot":"slider-track",className:(0,U.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,t.jsx)(z,{"data-slot":"slider-range",className:(0,U.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(e,a)=>(0,t.jsx)(L,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},a))]})}e.s(["Slider",()=>q],84519)},64775,e=>{"use strict";let t=(0,e.i(50974).default)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);e.s(["Brain",()=>t],64775)},15204,e=>{"use strict";let t=(0,e.i(50974).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>t],15204)},82251,e=>{"use strict";let t=(0,e.i(50974).default)("gamepad-2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);e.s(["Gamepad2",()=>t],82251)},10148,e=>{"use strict";let t=(0,e.i(50974).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserPlus",()=>t],10148)},17286,e=>{"use strict";let t=(0,e.i(50974).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["Image",()=>t],17286)},32308,e=>{"use strict";let t=(0,e.i(50974).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>t],32308)},79923,e=>{"use strict";let t=(0,e.i(50974).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],79923)},72024,e=>{"use strict";let t=(0,e.i(50974).default)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);e.s(["Server",()=>t],72024)},70620,e=>{"use strict";let t=(0,e.i(50974).default)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);e.s(["Bot",()=>t],70620)},96173,e=>{"use strict";let t=(0,e.i(50974).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>t],96173)},40204,e=>{"use strict";let t=(0,e.i(50974).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],40204)},63959,e=>{"use strict";let t=(0,e.i(50974).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);e.s(["BookOpen",()=>t],63959)},14775,e=>{"use strict";let t=(0,e.i(50974).default)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);e.s(["Palette",()=>t],14775)},57345,36393,13795,e=>{"use strict";var t=e.i(50974);let a=(0,t.default)("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserMinus",()=>a],57345);let r=(0,t.default)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);e.s(["Smile",()=>r],36393);var l=e.i(33169),i=e.i(60844),s=e.i(94518),n=e.i(72029),o=e.i(30243),d=e.i(99573),c=e.i(10201),u=e.i(20308),h=e.i(34358),p=e.i(47686),m=e.i(61176),y=e.i(84518),x=e.i(97058),f=e.i(79342);function v({open:e,onOpenChange:t,channelForm:a,onChannelFormChange:r,onSave:v,isEditing:g,onFetchModels:k,authToken:j}){let[b,w]=(0,i.useState)(!1),[S,C]=(0,i.useState)(!1),[M,N]=(0,i.useState)(!1),[P,D]=(0,i.useState)([]),[A,R]=(0,i.useState)([]),[I,z]=(0,i.useState)(!1),E=async()=>{if(!a.baseUrl||!a.apiKey)return void f.toast.error("请先填写 Base URL 和 API Key");C(!0);try{if(k){let e=await k();D(e),R(a.models.split(",").map(e=>e.trim()).filter(Boolean)),N(!0)}else{let e=j?"/api/group-admin/models/fetch":"/api/admin/models/fetch",t={"Content-Type":"application/json"};j&&(t.Authorization=`Bearer ${j}`);let r=await fetch(e,{method:"POST",headers:t,body:JSON.stringify({baseUrl:a.baseUrl,apiKey:a.apiKey,adapterType:a.adapterType})}),l=await r.json();0===l.code?(D(l.data),R(a.models.split(",").map(e=>e.trim()).filter(Boolean)),N(!0)):f.toast.error(l.message||"获取失败")}}catch{f.toast.error("获取失败")}finally{C(!1)}},L=e=>{r({...a,...e})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.Dialog,{open:e,onOpenChange:t,children:(0,l.jsxs)(s.DialogContent,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,l.jsx)(s.DialogHeader,{children:(0,l.jsx)(s.DialogTitle,{children:g?"编辑渠道":"添加渠道"})}),(0,l.jsxs)("div",{className:"space-y-4 py-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d.Label,{children:"渠道名称"}),(0,l.jsx)(o.Input,{value:a.name,onChange:e=>L({name:e.target.value}),placeholder:"例如：OpenAI-1"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d.Label,{children:"适配器类型"}),(0,l.jsxs)(c.Select,{value:a.adapterType,onValueChange:e=>L({adapterType:e}),children:[(0,l.jsx)(c.SelectTrigger,{children:(0,l.jsx)(c.SelectValue,{})}),(0,l.jsxs)(c.SelectContent,{children:[(0,l.jsx)(c.SelectItem,{value:"openai",children:"OpenAI"}),(0,l.jsx)(c.SelectItem,{value:"azure",children:"Azure"}),(0,l.jsx)(c.SelectItem,{value:"claude",children:"Claude"}),(0,l.jsx)(c.SelectItem,{value:"gemini",children:"Gemini"}),(0,l.jsx)(c.SelectItem,{value:"ollama",children:"Ollama"}),(0,l.jsx)(c.SelectItem,{value:"deepseek",children:"DeepSeek"})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d.Label,{children:"API 地址"}),(0,l.jsx)(o.Input,{value:a.baseUrl,onChange:e=>L({baseUrl:e.target.value}),placeholder:"https://api.openai.com/v1"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d.Label,{children:"API Key"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(o.Input,{type:b?"text":"password",value:a.apiKey,onChange:e=>L({apiKey:e.target.value}),placeholder:"sk-..."}),(0,l.jsx)(n.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>w(!b),children:b?(0,l.jsx)(y.EyeOff,{className:"h-4 w-4"}):(0,l.jsx)(m.Eye,{className:"h-4 w-4"})})]}),a.apiKey.startsWith("****")&&(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"当前为掩码显示，不修改则保留原值"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d.Label,{children:"模型列表"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(o.Input,{value:a.models,onChange:e=>L({models:e.target.value}),placeholder:"模型名称，用逗号分隔。如：gpt-4, gpt-3.5-turbo",className:"flex-1"}),(0,l.jsx)(n.Button,{variant:"outline",size:"icon",onClick:E,disabled:S,children:(0,l.jsx)(x.RefreshCw,{className:S?"h-4 w-4 animate-spin":"h-4 w-4"})})]}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"点击刷新按钮可自动获取可用模型"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,l.jsx)(d.Label,{children:"启用此渠道"}),(0,l.jsx)(u.Switch,{checked:a.enabled,onCheckedChange:e=>L({enabled:e})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d.Label,{children:"权重"}),(0,l.jsx)(o.Input,{type:"number",value:a.priority,onChange:e=>L({priority:parseInt(e.target.value)||0})})]})]}),(0,l.jsx)("div",{className:"border-t pt-4",children:(0,l.jsxs)(n.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>z(!I),className:"w-full",children:[I?"收起":"展开","高级配置"]})}),I&&(0,l.jsxs)("div",{className:"space-y-4 p-4 rounded-lg bg-muted/30",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d.Label,{className:"text-xs",children:"模型列表路径"}),(0,l.jsx)(o.Input,{value:a.modelsPath||"",onChange:e=>L({modelsPath:e.target.value}),placeholder:"/models",className:"h-9"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d.Label,{className:"text-xs",children:"对话接口路径"}),(0,l.jsx)(o.Input,{value:a.chatPath||"",onChange:e=>L({chatPath:e.target.value}),placeholder:"/chat/completions",className:"h-9"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d.Label,{className:"text-xs",children:"图片传输方式"}),(0,l.jsxs)(c.Select,{value:a.imageTransferMode||"auto",onValueChange:e=>L({imageTransferMode:e}),children:[(0,l.jsx)(c.SelectTrigger,{className:"h-9",children:(0,l.jsx)(c.SelectValue,{})}),(0,l.jsxs)(c.SelectContent,{children:[(0,l.jsx)(c.SelectItem,{value:"auto",children:"自动检测"}),(0,l.jsx)(c.SelectItem,{value:"base64",children:"Base64"}),(0,l.jsx)(c.SelectItem,{value:"url",children:"URL"})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 rounded border",children:[(0,l.jsx)(d.Label,{className:"text-xs",children:"压缩图片"}),(0,l.jsx)(u.Switch,{checked:a.imageCompress??!0,onCheckedChange:e=>L({imageCompress:e})})]})]})]}),(0,l.jsxs)(s.DialogFooter,{children:[(0,l.jsx)(n.Button,{variant:"outline",onClick:()=>t(!1),children:"取消"}),(0,l.jsx)(n.Button,{onClick:v,children:g?"更新":"添加"})]})]})}),(0,l.jsx)(s.Dialog,{open:M,onOpenChange:N,children:(0,l.jsxs)(s.DialogContent,{children:[(0,l.jsx)(s.DialogHeader,{children:(0,l.jsx)(s.DialogTitle,{children:"选择模型"})}),(0,l.jsx)(p.ScrollArea,{className:"h-[300px] pr-4",children:(0,l.jsx)("div",{className:"space-y-2",children:P.map(e=>(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(h.Checkbox,{checked:A.includes(e),onCheckedChange:t=>{t?R([...A,e]):R(A.filter(t=>t!==e))}}),(0,l.jsx)(d.Label,{className:"text-sm font-normal",children:e})]},e))})}),(0,l.jsxs)(s.DialogFooter,{children:[(0,l.jsx)(n.Button,{variant:"outline",onClick:()=>R(P),children:"全选"}),(0,l.jsx)(n.Button,{variant:"outline",onClick:()=>R([]),children:"清空"}),(0,l.jsxs)(n.Button,{onClick:()=>{L({models:A.join(", ")}),N(!1)},children:["确认 (",A.length,")"]})]})]})})]})}e.s(["ChannelDialog",()=>v],13795)},44697,77759,e=>{"use strict";var t=e.i(50974);let a=(0,t.default)("party-popper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);e.s(["PartyPopper",()=>a],44697);let r=(0,t.default)("hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);e.s(["Hand",()=>r],77759)}]);