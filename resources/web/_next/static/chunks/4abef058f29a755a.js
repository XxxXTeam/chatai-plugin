(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41049,e=>{"use strict";var s=e.i(69287),t=e.i(45030);function a({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function l({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function n({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...a})}function c({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...a})}function r({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>r,"CardDescription",()=>c,"CardHeader",()=>l,"CardTitle",()=>n])},89908,e=>{"use strict";var s=e.i(79333);e.s(["Loader2",()=>s.default])},71205,e=>{"use strict";var s=e.i(69287),t=e.i(45030);function a({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"skeleton",className:(0,t.cn)("bg-accent animate-pulse rounded-md",e),...a})}e.s(["Skeleton",()=>a])},41012,e=>{"use strict";var s=e.i(69287),t=e.i(23337),a=e.i(71418),l=e.i(45030);function n({...e}){return(0,s.jsx)(t.Root,{"data-slot":"dialog",...e})}function c({...e}){return(0,s.jsx)(t.Trigger,{"data-slot":"dialog-trigger",...e})}function r({...e}){return(0,s.jsx)(t.Portal,{"data-slot":"dialog-portal",...e})}function i({className:e,...a}){return(0,s.jsx)(t.Overlay,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function d({className:e,children:n,showCloseButton:c=!0,...d}){return(0,s.jsxs)(r,{"data-slot":"dialog-portal",children:[(0,s.jsx)(i,{}),(0,s.jsxs)(t.Content,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...d,children:[n,c&&(0,s.jsxs)(t.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(a.XIcon,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function o({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function x({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function m({className:e,...a}){return(0,s.jsx)(t.Title,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",e),...a})}function h({className:e,...a}){return(0,s.jsx)(t.Description,{"data-slot":"dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",e),...a})}e.s(["Dialog",()=>n,"DialogContent",()=>d,"DialogDescription",()=>h,"DialogFooter",()=>x,"DialogHeader",()=>o,"DialogTitle",()=>m,"DialogTrigger",()=>c])},97058,e=>{"use strict";let s=(0,e.i(50974).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>s],97058)},35771,e=>{"use strict";let s=(0,e.i(50974).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],35771)},18841,e=>{"use strict";var s=e.i(69287),t=e.i(45030);function a({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,t.cn)("w-full caption-bottom text-sm",e),...a})})}function l({className:e,...a}){return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,t.cn)("[&_tr]:border-b",e),...a})}function n({className:e,...a}){return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,t.cn)("[&_tr:last-child]:border-0",e),...a})}function c({className:e,...a}){return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,t.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...a})}function r({className:e,...a}){return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,t.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function i({className:e,...a}){return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,t.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}e.s(["Table",()=>a,"TableBody",()=>n,"TableCell",()=>i,"TableHead",()=>r,"TableHeader",()=>l,"TableRow",()=>c])},79923,e=>{"use strict";let s=(0,e.i(50974).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>s],79923)},72024,e=>{"use strict";let s=(0,e.i(50974).default)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);e.s(["Server",()=>s],72024)},4084,e=>{"use strict";let s=(0,e.i(50974).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],4084)},62754,e=>{"use strict";let s=(0,e.i(50974).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],62754)},96173,e=>{"use strict";let s=(0,e.i(50974).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>s],96173)},73151,e=>{"use strict";let s=(0,e.i(50974).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],73151)},72928,e=>{"use strict";var s=e.i(69287),t=e.i(71317),a=e.i(41049),l=e.i(61375),n=e.i(9641),c=e.i(71205),r=e.i(4210),i=e.i(41012),d=e.i(35860),o=e.i(18841),x=e.i(34852),m=e.i(79342),h=e.i(97058),u=e.i(4084),j=e.i(62754),g=e.i(79923),p=e.i(89908),f=e.i(35771),N=e.i(82018),b=e.i(96173),v=e.i(73151),y=e.i(72024),C=e.i(90907);function k(e){return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}function w(e){return new Date(e).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function T(e){return e?e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":String(e):"0"}function S(){let[e,S]=(0,t.useState)(!0),[I,H]=(0,t.useState)(!1),[D,z]=(0,t.useState)(null),[_,A]=(0,t.useState)([]),[B,M]=(0,t.useState)(null),[R,F]=(0,t.useState)(!1),[K,L]=(0,t.useState)(!1),[P,O]=(0,t.useState)({source:"all",status:"all"}),V=async()=>{try{let[e,s]=await Promise.all([x.usageStatsApi.get(),x.usageStatsApi.getRecent(100,{source:"all"!==P.source?P.source:void 0,status:"all"!==P.status?P.status:void 0})]);z(e?.data||null),A(s?.data||[])}catch(e){console.error("Failed to fetch usage stats:",e)}finally{S(!1),H(!1)}};(0,t.useEffect)(()=>{V()},[P]);let $=async()=>{L(!0);try{await x.usageStatsApi.clear(),m.toast.success("调用记录已清除"),F(!1),V()}catch(e){m.toast.error("清除失败")}finally{L(!1)}},q=D?.today,U=D?[{title:"今日调用",value:T(q?.totalCalls||0),icon:N.Activity,color:"text-blue-500"},{title:"成功率",value:q?.totalCalls?`${(q.successCalls/q.totalCalls*100).toFixed(1)}%`:"0%",icon:u.CheckCircle,color:"text-green-500"},{title:"Token消耗",value:T((q?.totalInputTokens||0)+(q?.totalOutputTokens||0)),icon:b.Zap,color:"text-yellow-500"},{title:"平均耗时",value:k(q?.avgDuration||0),icon:g.Clock,color:"text-purple-500"}]:[],X=D?.modelRanking?D.modelRanking.map(e=>({name:e.model,calls:e.calls,tokens:e.tokens})).slice(0,5):[],Z=D?.channelRanking?D.channelRanking.map(e=>({name:e.channelName||e.channelId,calls:e.calls,tokens:e.tokens})).slice(0,5):[];return e?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Skeleton,{className:"h-8 w-32"}),(0,s.jsx)(c.Skeleton,{className:"h-4 w-48 mt-2"})]})}),(0,s.jsx)("div",{className:"grid gap-4 grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(e=>(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{className:"pb-2",children:(0,s.jsx)(c.Skeleton,{className:"h-4 w-20"})}),(0,s.jsx)(a.CardContent,{children:(0,s.jsx)(c.Skeleton,{className:"h-8 w-16"})})]},e))})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10",children:(0,s.jsx)(N.Activity,{className:"h-5 w-5 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-bold sm:text-2xl",children:"调用统计"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"API请求统计与历史记录"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{H(!0),V()},disabled:I,children:[(0,s.jsx)(h.RefreshCw,{className:`h-4 w-4 mr-2 ${I?"animate-spin":""}`}),"刷新"]}),(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>F(!0),children:[(0,s.jsx)(f.Trash2,{className:"h-4 w-4 mr-2"}),"清除"]})]})]}),(0,s.jsx)("div",{className:"grid gap-4 grid-cols-2 lg:grid-cols-4",children:U.map((e,t)=>(0,s.jsxs)(a.Card,{children:[(0,s.jsxs)(a.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(a.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:e.title}),(0,s.jsx)(e.icon,{className:`h-4 w-4 ${e.color}`})]}),(0,s.jsx)(a.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.value})})]},t))}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)(a.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,s.jsx)(v.TrendingUp,{className:"h-4 w-4"}),"模型调用排行"]})}),(0,s.jsx)(a.CardContent,{children:X.length>0?(0,s.jsx)("div",{className:"space-y-3",children:X.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-muted-foreground w-5",children:t+1}),(0,s.jsx)("span",{className:"text-sm font-medium truncate max-w-[150px]",children:e.name})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(n.Badge,{variant:"secondary",children:[e.calls,"次"]}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:[T(e.tokens)," tokens"]})]})]},e.name))}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"暂无数据"})})]}),(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)(a.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,s.jsx)(y.Server,{className:"h-4 w-4"}),"渠道调用排行"]})}),(0,s.jsx)(a.CardContent,{children:Z.length>0?(0,s.jsx)("div",{className:"space-y-3",children:Z.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-muted-foreground w-5",children:t+1}),(0,s.jsx)("span",{className:"text-sm font-medium truncate max-w-[150px]",children:e.name})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(n.Badge,{variant:"secondary",children:[e.calls,"次"]}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:[T(e.tokens)," tokens"]})]})]},e.name))}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"暂无数据"})})]})]}),(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)(a.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,s.jsx)(C.BarChart3,{className:"h-4 w-4"}),"调用记录"]}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,s.jsxs)(d.Select,{value:P.source,onValueChange:e=>O(s=>({...s,source:e})),children:[(0,s.jsx)(d.SelectTrigger,{className:"w-[130px] h-8",children:(0,s.jsx)(d.SelectValue,{placeholder:"来源"})}),(0,s.jsxs)(d.SelectContent,{children:[(0,s.jsx)(d.SelectItem,{value:"all",children:"全部来源"}),(0,s.jsx)(d.SelectItem,{value:"chat",children:"对话"}),(0,s.jsx)(d.SelectItem,{value:"bym",children:"伪人"}),(0,s.jsx)(d.SelectItem,{value:"test",children:"测试"}),(0,s.jsx)(d.SelectItem,{value:"health_check",children:"健康检查"}),(0,s.jsx)(d.SelectItem,{value:"imagegen",children:"绘图"}),(0,s.jsx)(d.SelectItem,{value:"memory_group",children:"群记忆"}),(0,s.jsx)(d.SelectItem,{value:"memory_user",children:"用户记忆"}),(0,s.jsx)(d.SelectItem,{value:"memory_extract",children:"记忆提取"}),(0,s.jsx)(d.SelectItem,{value:"api",children:"API"})]})]}),(0,s.jsxs)(d.Select,{value:P.status,onValueChange:e=>O(s=>({...s,status:e})),children:[(0,s.jsx)(d.SelectTrigger,{className:"w-[120px] h-8",children:(0,s.jsx)(d.SelectValue,{placeholder:"状态"})}),(0,s.jsxs)(d.SelectContent,{children:[(0,s.jsx)(d.SelectItem,{value:"all",children:"全部状态"}),(0,s.jsx)(d.SelectItem,{value:"success",children:"成功"}),(0,s.jsx)(d.SelectItem,{value:"failed",children:"失败"})]})]})]})]})}),(0,s.jsx)(a.CardContent,{children:(0,s.jsx)(r.ScrollArea,{className:"h-[400px]",children:(0,s.jsxs)(o.Table,{children:[(0,s.jsx)(o.TableHeader,{children:(0,s.jsxs)(o.TableRow,{children:[(0,s.jsx)(o.TableHead,{className:"w-[100px]",children:"时间"}),(0,s.jsx)(o.TableHead,{children:"渠道"}),(0,s.jsx)(o.TableHead,{children:"模型"}),(0,s.jsx)(o.TableHead,{className:"hidden lg:table-cell",children:"Key"}),(0,s.jsx)(o.TableHead,{className:"hidden md:table-cell text-center",children:"流式"}),(0,s.jsx)(o.TableHead,{className:"hidden lg:table-cell text-right",children:"输入"}),(0,s.jsx)(o.TableHead,{className:"hidden lg:table-cell text-right",children:"输出"}),(0,s.jsx)(o.TableHead,{className:"hidden sm:table-cell",children:"来源"}),(0,s.jsx)(o.TableHead,{className:"text-right",children:"耗时"}),(0,s.jsx)(o.TableHead,{className:"hidden xl:table-cell",children:"切换"}),(0,s.jsx)(o.TableHead,{className:"text-center",children:"状态"})]})}),(0,s.jsx)(o.TableBody,{children:_.length>0?_.map(e=>(0,s.jsxs)(o.TableRow,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>M(e),children:[(0,s.jsx)(o.TableCell,{className:"text-xs whitespace-nowrap",children:w(e.timestamp)}),(0,s.jsx)(o.TableCell,{children:(0,s.jsx)("span",{className:"truncate max-w-[80px] inline-block text-sm",children:e.channelName||e.channelId})}),(0,s.jsx)(o.TableCell,{children:(0,s.jsx)("span",{className:"truncate max-w-[100px] inline-block text-sm",children:e.model})}),(0,s.jsx)(o.TableCell,{className:"hidden lg:table-cell",children:(0,s.jsxs)(n.Badge,{variant:"outline",className:"text-xs",children:["Key ",e.keyIndex>=0?e.keyIndex+1:0]})}),(0,s.jsx)(o.TableCell,{className:"hidden md:table-cell text-center",children:e.stream?(0,s.jsx)(n.Badge,{variant:"secondary",className:"text-xs",children:"流"}):(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:"-"})}),(0,s.jsx)(o.TableCell,{className:"hidden lg:table-cell text-right text-xs",children:T(e.inputTokens)}),(0,s.jsx)(o.TableCell,{className:"hidden lg:table-cell text-right text-xs",children:T(e.outputTokens)}),(0,s.jsx)(o.TableCell,{className:"hidden sm:table-cell",children:(0,s.jsx)(n.Badge,{variant:"chat"===e.source||"bym"===e.source?"default":"test"===e.source||"health_check"===e.source?"secondary":"imagegen"===e.source?"default":(e.source?.startsWith("memory"),"outline"),className:"text-xs",children:"chat"===e.source?"对话":"bym"===e.source?"伪人":"test"===e.source?"测试":"health_check"===e.source?"检查":"imagegen"===e.source?"绘图":"memory_group"===e.source?"群记忆":"memory_user"===e.source?"用户记忆":"memory_extract"===e.source?"记忆提取":e.source})}),(0,s.jsx)(o.TableCell,{className:"text-right text-sm whitespace-nowrap",children:k(e.duration)}),(0,s.jsx)(o.TableCell,{className:"hidden xl:table-cell text-xs",children:e.channelSwitched?(0,s.jsxs)("span",{className:"text-orange-500",children:[e.previousChannelId," → ",e.channelId]}):(0,s.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,s.jsx)(o.TableCell,{className:"text-center",children:e.success?(0,s.jsx)(u.CheckCircle,{className:"h-4 w-4 text-green-500 inline"}):(0,s.jsx)(j.XCircle,{className:"h-4 w-4 text-red-500 inline"})})]},e.id)):(0,s.jsx)(o.TableRow,{children:(0,s.jsx)(o.TableCell,{colSpan:11,className:"text-center text-muted-foreground py-8",children:"暂无调用记录"})})})]})})})]}),(0,s.jsx)(i.Dialog,{open:!!B,onOpenChange:()=>M(null),children:(0,s.jsxs)(i.DialogContent,{className:"max-w-lg",children:[(0,s.jsx)(i.DialogHeader,{children:(0,s.jsx)(i.DialogTitle,{children:"调用详情"})}),B&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"时间"}),(0,s.jsx)("p",{className:"font-medium",children:w(B.timestamp)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"状态"}),(0,s.jsx)("p",{className:"font-medium flex items-center gap-1",children:B.success?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.CheckCircle,{className:"h-4 w-4 text-green-500"})," 成功"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.XCircle,{className:"h-4 w-4 text-red-500"})," 失败"]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"渠道"}),(0,s.jsx)("p",{className:"font-medium",children:B.channelName||B.channelId})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"模型"}),(0,s.jsx)("p",{className:"font-medium",children:B.model})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"API Key"}),(0,s.jsx)("p",{className:"font-medium",children:B.keyName||`Key ${B.keyIndex+1}`})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"轮询策略"}),(0,s.jsx)("p",{className:"font-medium",children:B.strategy||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"耗时"}),(0,s.jsx)("p",{className:"font-medium",children:k(B.duration)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"来源"}),(0,s.jsx)("p",{className:"font-medium",children:B.source||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"输入Token"}),(0,s.jsx)("p",{className:"font-medium",children:T(B.inputTokens)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"输出Token"}),(0,s.jsx)("p",{className:"font-medium",children:T(B.outputTokens)})]})]}),B.error&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"错误信息"}),(0,s.jsx)("p",{className:"text-sm text-red-500 bg-red-50 dark:bg-red-950/20 p-2 rounded mt-1",children:B.error})]})]})]})}),(0,s.jsx)(i.Dialog,{open:R,onOpenChange:F,children:(0,s.jsxs)(i.DialogContent,{children:[(0,s.jsx)(i.DialogHeader,{children:(0,s.jsx)(i.DialogTitle,{children:"确认清除"})}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"确定要清除所有调用记录吗？此操作不可撤销。"}),(0,s.jsxs)(i.DialogFooter,{children:[(0,s.jsx)(l.Button,{variant:"outline",onClick:()=>F(!1),children:"取消"}),(0,s.jsxs)(l.Button,{variant:"destructive",onClick:$,disabled:K,children:[K&&(0,s.jsx)(p.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"确认清除"]})]})]})})]})}e.s(["default",()=>S])}]);