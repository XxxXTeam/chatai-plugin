(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,65590,e=>{"use strict";var s=e.i(18050),a=e.i(71645),l=e.i(70065),t=e.i(67881),i=e.i(23750),r=e.i(10708),n=e.i(94179),d=e.i(71428),c=e.i(19036),o=e.i(84762),x=e.i(71435),m=e.i(30374),h=e.i(47627),p=e.i(27341),j=e.i(69035),u=e.i(62870),g=e.i(63209),N=e.i(75254);let v=(0,N.default)("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);var b=e.i(40160),C=e.i(73708),w=e.i(31278);let f=(0,N.default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var y=e.i(7233),k=e.i(16715),T=e.i(39616),S=e.i(27612),I=e.i(33060),B=e.i(72664),M=e.i(37727),L=e.i(18393);let P=(0,N.default)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),H=(0,N.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var R=e.i(21345);let A=(0,N.default)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);var G=e.i(54858),D=e.i(46696),z=e.i(40208),U=e.i(11369);function K(){let[e,N]=(0,a.useState)(!0),[K,O]=(0,a.useState)([]),[q,$]=(0,a.useState)(null),[F,W]=(0,a.useState)(null),[_,V]=(0,a.useState)(!1),[Q,E]=(0,a.useState)("presets"),[X,Z]=(0,a.useState)(!1),[J,Y]=(0,a.useState)(!1),[ee,es]=(0,a.useState)(!1),[ea,el]=(0,a.useState)(!1),[et,ei]=(0,a.useState)(!1),[er,en]=(0,a.useState)(!1),[ed,ec]=(0,a.useState)(!1),[eo,ex]=(0,a.useState)({name:"",url:"",enabled:!0}),[em,eh]=(0,a.useState)({keywords:"",prompt:"",needImage:!0,enableSplit:!1,splitCols:6,splitRows:4,splitPadding:0}),[ep,ej]=(0,a.useState)(null),eu=async(e=!0)=>{e&&N(!0);try{let[e,s]=await Promise.all([G.imageGenApi.getPresets(),G.imageGenApi.getConfig()]);O(e.data?.presets||[]),$(e.data?.stats||null),W(s.data||null)}catch(e){D.toast.error("加载失败",{description:e.message})}finally{e&&N(!1)}};(0,a.useEffect)(()=>{eu()},[]);let eg=async()=>{V(!0);try{let e=await G.imageGenApi.reloadPresets();$(e.data?.stats||null),D.toast.success("预设重载成功"),await eu(!1)}catch(e){D.toast.error("重载失败",{description:e.message})}finally{V(!1)}},eN=async()=>{V(!0);try{let e=await G.imageGenApi.updatePresets(),s=e.data?.results||[],a=s.filter(e=>e.success).length;D.toast.success(`更新完成`,{description:`成功 ${a}/${s.length} 个来源`}),await eu(!1)}catch(e){D.toast.error("更新失败",{description:e.message})}finally{V(!1)}},ev=async()=>{if(!eo.name||!eo.url)return void D.toast.error("请填写完整信息");try{await G.imageGenApi.addSource(eo),D.toast.success("来源添加成功"),ei(!1),ex({name:"",url:"",enabled:!0}),await eu(!1)}catch(e){D.toast.error("添加失败",{description:e.message})}},eb=async e=>{try{await G.imageGenApi.deleteSource(e),D.toast.success("来源已删除"),await eu(!1)}catch(e){D.toast.error("删除失败",{description:e.message})}},eC=async()=>{if(!em.keywords||!em.prompt)return void D.toast.error("请填写完整信息");try{let e={keywords:em.keywords.split(/[,，\s]+/).filter(e=>e.trim()),prompt:em.prompt,needImage:em.needImage};em.enableSplit&&(e.splitGrid={cols:em.splitCols,rows:em.splitRows,padding:em.splitPadding}),await G.imageGenApi.addCustomPreset(e),D.toast.success("预设添加成功"),en(!1),eh({keywords:"",prompt:"",needImage:!0,enableSplit:!1,splitCols:6,splitRows:4,splitPadding:0}),await eu(!1)}catch(e){D.toast.error("添加失败",{description:e.message})}},ew=async e=>{try{await G.imageGenApi.deleteCustomPreset(e),D.toast.success("预设已删除"),await eu(!1)}catch(e){D.toast.error("删除失败",{description:e.message})}},ef=async e=>{try{await G.imageGenApi.deleteBuiltinPreset(e),D.toast.success("预设已删除"),await eu(!1)}catch(e){D.toast.error("删除失败",{description:e.message})}},ey=async(e,s)=>{try{await G.imageGenApi.deleteRemotePreset(e,s),D.toast.success("预设已删除"),await eu(!1)}catch(e){D.toast.error("删除失败",{description:e.message})}},ek=async()=>{if(ep){if(!ep.keywords||!ep.prompt)return void D.toast.error("请填写完整信息");try{let e={keywords:ep.keywords.split(/[,，\s]+/).filter(e=>e.trim()),prompt:ep.prompt,needImage:ep.needImage};ep.enableSplit?e.splitGrid={cols:ep.splitCols,rows:ep.splitRows,padding:ep.splitPadding||0}:e.splitGrid=null,"custom"===ep.source?await G.imageGenApi.updateCustomPreset(ep.uid,e):"builtin"===ep.source?await G.imageGenApi.updateBuiltinPreset(ep.uid,e):await G.imageGenApi.updateRemotePreset(ep.source,ep.uid,e),D.toast.success("预设已更新"),ec(!1),ej(null),await eu(!1)}catch(e){D.toast.error("保存失败",{description:e.message})}}},eT=async e=>{try{await G.imageGenApi.updateConfig(e),W(s=>s?{...s,...e}:s),D.toast.success("配置已保存")}catch(e){D.toast.error("保存失败",{description:e.message})}};return e?(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 py-4 sm:py-6 space-y-4 sm:space-y-6",children:[(0,s.jsx)(d.Skeleton,{className:"h-8 w-48"}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-4",children:[1,2,3,4].map(e=>(0,s.jsx)(d.Skeleton,{className:"h-24"},e))}),(0,s.jsx)(d.Skeleton,{className:"h-96"})]}):(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 py-4 sm:py-6 space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold flex items-center gap-2",children:[(0,s.jsx)(I.Wand2,{className:"h-6 w-6 sm:h-8 sm:w-8"}),"绘图预设管理"]}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1 text-sm sm:text-base",children:"管理 AI 绘图的预设模板和来源"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:eg,disabled:_,children:[_?(0,s.jsx)(w.Loader2,{className:"h-4 w-4 mr-1 sm:mr-2 animate-spin"}):(0,s.jsx)(k.RefreshCw,{className:"h-4 w-4 mr-1 sm:mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"重载预设"}),(0,s.jsx)("span",{className:"sm:hidden",children:"重载"})]}),(0,s.jsxs)(t.Button,{size:"sm",className:"flex-1 sm:flex-none",onClick:eN,disabled:_,children:[_?(0,s.jsx)(w.Loader2,{className:"h-4 w-4 mr-1 sm:mr-2 animate-spin"}):(0,s.jsx)(b.Download,{className:"h-4 w-4 mr-1 sm:mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"从云端更新"}),(0,s.jsx)("span",{className:"sm:hidden",children:"更新"})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 md:grid-cols-4",children:[(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{className:"pb-2",children:(0,s.jsx)(l.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"总预设数"})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:q?.total||0})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{className:"pb-2",children:(0,s.jsx)(l.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"内置预设"})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:q?.builtin||0})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{className:"pb-2",children:(0,s.jsx)(l.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"云端预设"})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:q?.remote||0})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{className:"pb-2",children:(0,s.jsx)(l.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"自定义预设"})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:q?.custom||0})})]})]}),(0,s.jsxs)(p.Tabs,{value:Q,onValueChange:E,className:"space-y-4",children:[(0,s.jsxs)(p.TabsList,{className:"w-full sm:w-auto flex flex-wrap h-auto gap-1 p-1",children:[(0,s.jsx)(p.TabsTrigger,{value:"presets",className:"flex-1 sm:flex-none text-xs sm:text-sm",children:"预设列表"}),(0,s.jsx)(p.TabsTrigger,{value:"sources",className:"flex-1 sm:flex-none text-xs sm:text-sm",children:"预设来源"}),(0,s.jsx)(p.TabsTrigger,{value:"custom",className:"flex-1 sm:flex-none text-xs sm:text-sm",children:"自定义"}),(0,s.jsx)(p.TabsTrigger,{value:"settings",className:"flex-1 sm:flex-none text-xs sm:text-sm",children:"设置"})]}),(0,s.jsx)(p.TabsContent,{value:"presets",children:(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"所有预设"}),(0,s.jsx)(l.CardDescription,{children:"当前已加载的所有绘图预设模板"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)(x.ScrollArea,{className:"h-[400px] sm:h-[500px]",children:(0,s.jsx)("div",{className:"min-w-[600px]",children:(0,s.jsxs)(h.Table,{children:[(0,s.jsx)(h.TableHeader,{children:(0,s.jsxs)(h.TableRow,{children:[(0,s.jsx)(h.TableHead,{className:"w-12",children:"#"}),(0,s.jsx)(h.TableHead,{className:"w-48",children:"关键词"}),(0,s.jsx)(h.TableHead,{children:"提示词"}),(0,s.jsx)(h.TableHead,{className:"w-24",children:"需要图片"}),(0,s.jsx)(h.TableHead,{className:"w-24",children:"切割"}),(0,s.jsx)(h.TableHead,{className:"w-32",children:"来源"}),(0,s.jsx)(h.TableHead,{className:"w-16",children:"操作"})]})}),(0,s.jsx)(h.TableBody,{children:K.map((e,a)=>{var l;return(0,s.jsxs)(h.TableRow,{children:[(0,s.jsx)(h.TableCell,{className:"font-mono text-muted-foreground",children:a+1}),(0,s.jsx)(h.TableCell,{children:(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:e.keywords.map((e,a)=>(0,s.jsx)(n.Badge,{variant:"outline",className:"text-xs",children:e},a))})}),(0,s.jsx)(h.TableCell,{className:"max-w-md",children:(0,s.jsxs)("p",{className:"truncate text-sm text-muted-foreground",title:e.prompt,children:[e.prompt.substring(0,100),"..."]})}),(0,s.jsx)(h.TableCell,{children:e.needImage?(0,s.jsxs)(n.Badge,{variant:"secondary",children:[(0,s.jsx)(C.Image,{className:"w-3 h-3 mr-1"}),"需要"]}):(0,s.jsx)(n.Badge,{variant:"outline",children:"不需要"})}),(0,s.jsx)(h.TableCell,{children:e.splitGrid?(0,s.jsxs)(n.Badge,{variant:"secondary",children:[(0,s.jsx)(P,{className:"w-3 h-3 mr-1"}),e.splitGrid.cols,"×",e.splitGrid.rows]}):(0,s.jsx)(n.Badge,{variant:"outline",children:"-"})}),(0,s.jsx)(h.TableCell,{children:"builtin"===(l=e.source)?(0,s.jsxs)(n.Badge,{variant:"secondary",children:[(0,s.jsx)(B.Box,{className:"w-3 h-3 mr-1"}),"内置"]}):"custom"===l?(0,s.jsxs)(n.Badge,{variant:"default",children:[(0,s.jsx)(f,{className:"w-3 h-3 mr-1"}),"自定义"]}):(0,s.jsxs)(n.Badge,{variant:"outline",children:[(0,s.jsx)(v,{className:"w-3 h-3 mr-1"}),l]})}),(0,s.jsx)(h.TableCell,{children:(0,s.jsxs)("div",{className:"flex gap-1",children:[e.uid&&(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>{ej({uid:e.uid||"",source:e.source,keywords:e.keywords.join(", "),prompt:e.prompt,needImage:e.needImage,enableSplit:!!(e.splitGrid?.cols&&e.splitGrid?.rows),splitCols:e.splitGrid?.cols||6,splitRows:e.splitGrid?.rows||4,splitPadding:e.splitGrid?.padding||0,outputWidth:e.outputWidth||0,outputHeight:e.outputHeight||0}),ec(!0)},children:(0,s.jsx)(f,{className:"h-4 w-4"})}),"custom"===e.source&&(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>{let s=F?.customPresets?.findIndex(s=>s.uid===e.uid);void 0!==s&&s>=0&&ew(s)},children:(0,s.jsx)(S.Trash2,{className:"h-4 w-4 text-destructive"})}),"builtin"===e.source&&e.uid&&(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>ef(e.uid),children:(0,s.jsx)(S.Trash2,{className:"h-4 w-4 text-destructive"})}),"builtin"!==e.source&&"custom"!==e.source&&e.uid&&(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>ey(e.source,e.uid),children:(0,s.jsx)(S.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},a)})})]})})})})]})}),(0,s.jsx)(p.TabsContent,{value:"sources",children:(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.CardTitle,{children:"预设来源"}),(0,s.jsx)(l.CardDescription,{children:"管理远程预设数据源"})]}),(0,s.jsxs)(t.Button,{onClick:()=>ei(!0),children:[(0,s.jsx)(y.Plus,{className:"h-4 w-4 mr-2"}),"添加来源"]})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)(h.Table,{children:[(0,s.jsx)(h.TableHeader,{children:(0,s.jsxs)(h.TableRow,{children:[(0,s.jsx)(h.TableHead,{children:"名称"}),(0,s.jsx)(h.TableHead,{children:"URL"}),(0,s.jsx)(h.TableHead,{className:"w-24",children:"状态"}),(0,s.jsx)(h.TableHead,{className:"w-24",children:"预设数"}),(0,s.jsx)(h.TableHead,{className:"w-24",children:"操作"})]})}),(0,s.jsxs)(h.TableBody,{children:[F?.presetSources?.map((e,a)=>(0,s.jsxs)(h.TableRow,{children:[(0,s.jsx)(h.TableCell,{className:"font-medium",children:e.name}),(0,s.jsx)(h.TableCell,{className:"font-mono text-sm text-muted-foreground",children:e.url}),(0,s.jsx)(h.TableCell,{children:e.enabled?(0,s.jsx)(n.Badge,{variant:"default",children:"启用"}):(0,s.jsx)(n.Badge,{variant:"secondary",children:"禁用"})}),(0,s.jsx)(h.TableCell,{children:q?.sources?.find(s=>s.name===e.name)?.count||0}),(0,s.jsx)(h.TableCell,{children:(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>eb(a),children:(0,s.jsx)(S.Trash2,{className:"h-4 w-4 text-destructive"})})})]},a)),(!F?.presetSources||0===F.presetSources.length)&&(0,s.jsx)(h.TableRow,{children:(0,s.jsx)(h.TableCell,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"暂无预设来源，点击上方按钮添加"})})]})]})})]})}),(0,s.jsx)(p.TabsContent,{value:"custom",children:(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.CardTitle,{children:"自定义预设"}),(0,s.jsx)(l.CardDescription,{children:"创建自己的绘图预设模板"})]}),(0,s.jsxs)(t.Button,{onClick:()=>en(!0),children:[(0,s.jsx)(y.Plus,{className:"h-4 w-4 mr-2"}),"添加预设"]})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)(h.Table,{children:[(0,s.jsx)(h.TableHeader,{children:(0,s.jsxs)(h.TableRow,{children:[(0,s.jsx)(h.TableHead,{className:"w-48",children:"关键词"}),(0,s.jsx)(h.TableHead,{children:"提示词"}),(0,s.jsx)(h.TableHead,{className:"w-24",children:"需要图片"}),(0,s.jsx)(h.TableHead,{className:"w-24",children:"操作"})]})}),(0,s.jsxs)(h.TableBody,{children:[F?.customPresets?.map((e,a)=>(0,s.jsxs)(h.TableRow,{children:[(0,s.jsx)(h.TableCell,{children:(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:e.keywords.map((e,a)=>(0,s.jsx)(n.Badge,{variant:"outline",className:"text-xs",children:e},a))})}),(0,s.jsx)(h.TableCell,{className:"max-w-md",children:(0,s.jsxs)("p",{className:"truncate text-sm",title:e.prompt,children:[e.prompt.substring(0,80),"..."]})}),(0,s.jsx)(h.TableCell,{children:e.needImage?(0,s.jsx)(n.Badge,{variant:"secondary",children:"需要"}):(0,s.jsx)(n.Badge,{variant:"outline",children:"不需要"})}),(0,s.jsx)(h.TableCell,{children:(0,s.jsxs)("div",{className:"flex gap-1",children:[e.uid&&(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>{ej({uid:e.uid,source:"custom",keywords:e.keywords.join(", "),prompt:e.prompt,needImage:e.needImage,enableSplit:!!(e.splitGrid?.cols&&e.splitGrid?.rows),splitCols:e.splitGrid?.cols||6,splitRows:e.splitGrid?.rows||4,splitPadding:e.splitGrid?.padding||0,outputWidth:0,outputHeight:0}),ec(!0)},children:(0,s.jsx)(f,{className:"h-4 w-4"})}),(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>ew(a),children:(0,s.jsx)(S.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},a)),(!F?.customPresets||0===F.customPresets.length)&&(0,s.jsx)(h.TableRow,{children:(0,s.jsx)(h.TableCell,{colSpan:4,className:"text-center text-muted-foreground py-8",children:"暂无自定义预设，点击上方按钮添加"})})]})]})})]})}),(0,s.jsxs)(p.TabsContent,{value:"settings",className:"space-y-4",children:[(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsx)(l.CardTitle,{children:"功能开关"})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.Label,{children:"启用绘图功能"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"可使用 #文生图、#图生图、#文生视频、#图生视频 等命令"})]}),(0,s.jsx)(c.Switch,{checked:F?.enabled??!0,onCheckedChange:e=>eT({enabled:e})})]})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(L.Server,{className:"h-5 w-5"}),"API配置"]}),(0,s.jsx)(l.CardDescription,{children:"支持多个API，会按顺序轮询和故障转移"})]}),(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:()=>{let e=[...F?.apis||[],{baseUrl:"",apiKey:"",models:[]}];W(s=>s?{...s,apis:e}:s),eT({apis:e})},children:[(0,s.jsx)(y.Plus,{className:"h-4 w-4 mr-1"})," 添加API"]})]}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(F?.apis||[]).map((e,a)=>(0,s.jsxs)("div",{className:"p-4 border rounded-lg space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-sm font-medium",children:["API ",a+1]}),(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{let e=[...F?.apis||[]];e.splice(a,1),W(s=>s?{...s,apis:e}:s),eT({apis:e})},children:(0,s.jsx)(M.X,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{className:"text-xs",children:"API地址"}),(0,s.jsx)(i.Input,{value:e.baseUrl||"",onChange:e=>{let s=[...F?.apis||[]];s[a]={...s[a],baseUrl:e.target.value},W(e=>e?{...e,apis:s}:e)},onBlur:()=>F&&eT({apis:F.apis}),placeholder:"https://api.openai.com"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{className:"text-xs",children:"API密钥"}),(0,s.jsx)(i.Input,{type:"password",value:e.apiKey||"",onChange:e=>{let s=[...F?.apis||[]];s[a]={...s[a],apiKey:e.target.value},W(e=>e?{...e,apis:s}:e)},onBlur:()=>F&&eT({apis:F.apis}),placeholder:"sk-..."})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(r.Label,{className:"text-xs",children:["可用模型 (",e.models?.length||0,")"]}),(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",className:"h-7 text-xs",disabled:!e.baseUrl,onClick:async()=>{if(e.baseUrl)try{let s=await G.channelsApi.fetchModels({adapterType:"openai",baseUrl:e.baseUrl,apiKey:e.apiKey}),l=s?.data?.models||[],t=[...F?.apis||[]];t[a]={...t[a],models:l},W(e=>e?{...e,apis:t}:e),eT({apis:t}),D.toast.success(`获取到 ${l.length} 个模型`)}catch{D.toast.error("获取模型失败")}},children:[(0,s.jsx)(k.RefreshCw,{className:"h-3 w-3 mr-1"})," 获取模型"]})]}),e.models&&e.models.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto p-2 bg-muted/50 rounded",children:[e.models.slice(0,30).map(e=>(0,s.jsx)(n.Badge,{variant:"secondary",className:"text-xs",children:e},e)),e.models.length>30&&(0,s.jsxs)(n.Badge,{variant:"outline",className:"text-xs",children:["+",e.models.length-30]})]})]})]},a)),(!F?.apis||0===F.apis.length)&&(0,s.jsx)("div",{className:"text-center py-6 text-sm text-muted-foreground border border-dashed rounded-lg",children:"暂无API配置，点击上方按钮添加"})]})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(H,{className:"h-5 w-5"}),"发送模式"]}),(0,s.jsx)(l.CardDescription,{children:"配置绘图结果的发送方式"})]}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"发送模式"}),(0,s.jsxs)(u.Select,{value:F?.sendMode||"direct",onValueChange:e=>eT({sendMode:e}),children:[(0,s.jsx)(u.SelectTrigger,{className:"w-full",children:(0,s.jsx)(u.SelectValue,{placeholder:"选择发送模式"})}),(0,s.jsxs)(u.SelectContent,{children:[(0,s.jsx)(u.SelectItem,{value:"direct",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(C.Image,{className:"h-4 w-4"}),"直接发送图片"]})}),(0,s.jsx)(u.SelectItem,{value:"link_qrcode",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(A,{className:"h-4 w-4"}),"占位图 + 链接 + 二维码"]})}),(0,s.jsx)(u.SelectItem,{value:"hybrid",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(R.Link,{className:"h-4 w-4"}),"图片 + 链接 + 二维码"]})})]})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:F?.sendMode==="link_qrcode"?"发送默认占位图，附带图片访问链接和二维码，适合需要查看高清原图的场景":F?.sendMode==="hybrid"?"同时发送原图和访问链接+二维码，方便用户在其他设备查看高清图片":"直接发送生成的图片，不附带链接（默认模式）"})]}),(F?.sendMode==="link_qrcode"||F?.sendMode==="hybrid")&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Separator,{}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"默认占位图"}),(0,s.jsx)(i.Input,{value:F?.defaultImage||"",onChange:e=>W(s=>s?{...s,defaultImage:e.target.value}:s),onBlur:()=>F&&eT({defaultImage:F.defaultImage}),placeholder:"留空使用内置默认图片"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"link_qrcode 模式下替代原图发送的占位图，支持本地路径或URL"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"图片访问基础URL"}),(0,s.jsx)(i.Input,{value:F?.imageBaseUrl||"",onChange:e=>W(s=>s?{...s,imageBaseUrl:e.target.value}:s),onBlur:()=>F&&eT({imageBaseUrl:F.imageBaseUrl}),placeholder:"留空自动获取（推荐）"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"用于生成图片访问链接的基础URL，留空将自动从公网URL或本地地址获取"})]})]})]})]})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"模型配置"}),(0,s.jsx)(l.CardDescription,{children:"选择用于图片和视频生成的模型"})]}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"图片模型"}),(0,s.jsxs)(U.Collapsible,{open:X,onOpenChange:Z,children:[(0,s.jsx)(U.CollapsibleTrigger,{asChild:!0,children:(0,s.jsxs)(t.Button,{variant:"outline",className:"w-full justify-between",children:[(0,s.jsx)("span",{className:"truncate",children:F?.model||"选择模型"}),(0,s.jsx)(T.Settings,{className:`h-4 w-4 shrink-0 transition-transform ${X?"rotate-90":""}`})]})}),(0,s.jsx)(U.CollapsibleContent,{className:"mt-2",children:(0,s.jsx)("div",{className:"border rounded-lg p-3",children:(0,s.jsx)(z.ModelSelector,{value:F?.model?[F.model]:[],allModels:Array.from(new Set((F?.apis||[]).flatMap(e=>e.models||[]))),onChange:e=>{eT({model:e[0]||""}),e.length>0&&Z(!1)},singleSelect:!0,allowCustom:!0})})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"视频模型"}),(0,s.jsxs)(U.Collapsible,{open:ea,onOpenChange:el,children:[(0,s.jsx)(U.CollapsibleTrigger,{asChild:!0,children:(0,s.jsxs)(t.Button,{variant:"outline",className:"w-full justify-between",children:[(0,s.jsx)("span",{className:"truncate",children:F?.videoModel||"选择模型"}),(0,s.jsx)(T.Settings,{className:`h-4 w-4 shrink-0 transition-transform ${ea?"rotate-90":""}`})]})}),(0,s.jsx)(U.CollapsibleContent,{className:"mt-2",children:(0,s.jsx)("div",{className:"border rounded-lg p-3",children:(0,s.jsx)(z.ModelSelector,{value:F?.videoModel?[F.videoModel]:[],allModels:Array.from(new Set((F?.apis||[]).flatMap(e=>e.models||[]))),onChange:e=>{eT({videoModel:e[0]||""}),e.length>0&&el(!1)},singleSelect:!0,allowCustom:!0})})})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"文生图独立模型"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"留空则使用通用图片模型"}),(0,s.jsxs)(U.Collapsible,{open:J,onOpenChange:Y,children:[(0,s.jsx)(U.CollapsibleTrigger,{asChild:!0,children:(0,s.jsxs)(t.Button,{variant:"outline",className:"w-full justify-between",children:[(0,s.jsx)("span",{className:"truncate",children:F?.text2imgModel||"(使用通用模型)"}),(0,s.jsx)(T.Settings,{className:`h-4 w-4 shrink-0 transition-transform ${J?"rotate-90":""}`})]})}),(0,s.jsx)(U.CollapsibleContent,{className:"mt-2",children:(0,s.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,s.jsx)(z.ModelSelector,{value:F?.text2imgModel?[F.text2imgModel]:[],allModels:Array.from(new Set((F?.apis||[]).flatMap(e=>e.models||[]))),onChange:e=>{eT({text2imgModel:e[0]||""}),e.length>0&&Y(!1)},singleSelect:!0,allowCustom:!0}),F?.text2imgModel&&(0,s.jsx)(t.Button,{variant:"ghost",size:"sm",className:"mt-2 text-xs",onClick:()=>{eT({text2imgModel:""}),Y(!1)},children:"清除（使用通用模型）"})]})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"图生图独立模型"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"留空则使用通用图片模型"}),(0,s.jsxs)(U.Collapsible,{open:ee,onOpenChange:es,children:[(0,s.jsx)(U.CollapsibleTrigger,{asChild:!0,children:(0,s.jsxs)(t.Button,{variant:"outline",className:"w-full justify-between",children:[(0,s.jsx)("span",{className:"truncate",children:F?.img2imgModel||"(使用通用模型)"}),(0,s.jsx)(T.Settings,{className:`h-4 w-4 shrink-0 transition-transform ${ee?"rotate-90":""}`})]})}),(0,s.jsx)(U.CollapsibleContent,{className:"mt-2",children:(0,s.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,s.jsx)(z.ModelSelector,{value:F?.img2imgModel?[F.img2imgModel]:[],allModels:Array.from(new Set((F?.apis||[]).flatMap(e=>e.models||[]))),onChange:e=>{eT({img2imgModel:e[0]||""}),e.length>0&&es(!1)},singleSelect:!0,allowCustom:!0}),F?.img2imgModel&&(0,s.jsx)(t.Button,{variant:"ghost",size:"sm",className:"mt-2 text-xs",onClick:()=>{eT({img2imgModel:""}),es(!1)},children:"清除（使用通用模型）"})]})})]})]})]}),(0,s.jsx)(j.Separator,{}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"超时时间 (毫秒)"}),(0,s.jsx)(i.Input,{type:"number",value:F?.timeout||6e5,onChange:e=>W(s=>s?{...s,timeout:parseInt(e.target.value)||6e5}:s),onBlur:()=>F&&eT({timeout:F.timeout})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"最大图片数"}),(0,s.jsx)(i.Input,{type:"number",value:F?.maxImages||3,onChange:e=>W(s=>s?{...s,maxImages:parseInt(e.target.value)||3}:s),onBlur:()=>F&&eT({maxImages:F.maxImages})})]})]})]})]})]})]}),(0,s.jsx)(m.Dialog,{open:et,onOpenChange:ei,children:(0,s.jsxs)(m.DialogContent,{className:"w-[95vw] max-w-lg",children:[(0,s.jsxs)(m.DialogHeader,{children:[(0,s.jsx)(m.DialogTitle,{children:"添加预设来源"}),(0,s.jsx)(m.DialogDescription,{children:"添加一个新的远程预设数据源"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"名称"}),(0,s.jsx)(i.Input,{value:eo.name,onChange:e=>ex(s=>({...s,name:e.target.value})),placeholder:"例如：云端预设"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"URL"}),(0,s.jsx)(i.Input,{value:eo.url,onChange:e=>ex(s=>({...s,url:e.target.value})),placeholder:"https://example.com/presets.json"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c.Switch,{checked:eo.enabled,onCheckedChange:e=>ex(s=>({...s,enabled:e}))}),(0,s.jsx)(r.Label,{children:"立即启用"})]})]}),(0,s.jsxs)(m.DialogFooter,{children:[(0,s.jsx)(t.Button,{variant:"outline",onClick:()=>ei(!1),children:"取消"}),(0,s.jsx)(t.Button,{onClick:ev,children:"添加"})]})]})}),(0,s.jsx)(m.Dialog,{open:er,onOpenChange:en,children:(0,s.jsxs)(m.DialogContent,{className:"w-[95vw] max-w-2xl",children:[(0,s.jsxs)(m.DialogHeader,{children:[(0,s.jsx)(m.DialogTitle,{children:"添加自定义预设"}),(0,s.jsx)(m.DialogDescription,{children:"创建一个新的绘图预设模板"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"触发关键词"}),(0,s.jsx)(i.Input,{value:em.keywords,onChange:e=>eh(s=>({...s,keywords:e.target.value})),placeholder:"用逗号或空格分隔，例如：风景化, 风景"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"用户发送这些关键词会触发此预设"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"提示词 (Prompt)"}),(0,s.jsx)(o.Textarea,{value:em.prompt,onChange:e=>eh(s=>({...s,prompt:e.target.value})),placeholder:"请输入发送给 AI 的提示词...",rows:6})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c.Switch,{checked:em.needImage,onCheckedChange:e=>eh(s=>({...s,needImage:e}))}),(0,s.jsx)(r.Label,{children:"需要用户提供图片"})]}),(0,s.jsx)(j.Separator,{}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c.Switch,{checked:em.enableSplit,onCheckedChange:e=>eh(s=>({...s,enableSplit:e}))}),(0,s.jsx)(r.Label,{children:"启用图片切割（表情包模式）"})]}),em.enableSplit&&(0,s.jsxs)(n.Badge,{variant:"secondary",children:[(0,s.jsx)(P,{className:"w-3 h-3 mr-1"}),em.splitCols,"×",em.splitRows," ="," ",em.splitCols*em.splitRows,"个"]})]}),em.enableSplit&&(0,s.jsxs)("div",{className:"p-4 border rounded-lg bg-muted/30 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-blue-50 dark:bg-blue-950/30 rounded text-xs text-blue-700 dark:text-blue-300",children:[(0,s.jsx)(g.AlertCircle,{className:"h-4 w-4 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"表情切割说明"}),(0,s.jsx)("p",{children:"生成的图片将按网格切割成多个小图，通常用于Q版表情包生成。建议在提示词中指定生成 4K/16:9 图片以获得最佳效果。"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{className:"text-sm",children:"列数 (cols)"}),(0,s.jsx)(i.Input,{type:"number",min:1,max:10,value:em.splitCols,onChange:e=>eh(s=>({...s,splitCols:parseInt(e.target.value)||6}))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{className:"text-sm",children:"行数 (rows)"}),(0,s.jsx)(i.Input,{type:"number",min:1,max:10,value:em.splitRows,onChange:e=>eh(s=>({...s,splitRows:parseInt(e.target.value)||4}))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{className:"text-sm",children:"边距 (px)"}),(0,s.jsx)(i.Input,{type:"number",min:0,max:50,value:em.splitPadding,onChange:e=>eh(s=>({...s,splitPadding:parseInt(e.target.value)||0}))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"p-2 bg-muted rounded",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"总表情数："}),(0,s.jsxs)("span",{className:"font-medium ml-1",children:[em.splitCols*em.splitRows," 个"]})]}),(0,s.jsxs)("div",{className:"p-2 bg-muted rounded",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"单个尺寸(4K)："}),(0,s.jsxs)("span",{className:"font-medium ml-1",children:["约 ",Math.floor(3840/em.splitCols),"×",Math.floor(2160/em.splitRows)," px"]})]})]})]})]})]}),(0,s.jsxs)(m.DialogFooter,{children:[(0,s.jsx)(t.Button,{variant:"outline",onClick:()=>en(!1),children:"取消"}),(0,s.jsx)(t.Button,{onClick:eC,children:"添加"})]})]})}),(0,s.jsx)(m.Dialog,{open:ed,onOpenChange:ec,children:(0,s.jsxs)(m.DialogContent,{className:"w-[95vw] max-w-2xl",children:[(0,s.jsxs)(m.DialogHeader,{children:[(0,s.jsx)(m.DialogTitle,{children:"编辑预设"}),(0,s.jsxs)(m.DialogDescription,{children:["修改",ep?.source==="custom"?"自定义":"云端","预设的内容"]})]}),ep&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"触发关键词"}),(0,s.jsx)(i.Input,{value:ep.keywords,onChange:e=>ej(s=>s?{...s,keywords:e.target.value}:null),placeholder:"用逗号或空格分隔，例如：风景化, 风景"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"用户发送这些关键词会触发此预设"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{children:"提示词 (Prompt)"}),(0,s.jsx)(o.Textarea,{value:ep.prompt,onChange:e=>ej(s=>s?{...s,prompt:e.target.value}:null),placeholder:"请输入发送给 AI 的提示词...",rows:8})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c.Switch,{checked:ep.needImage,onCheckedChange:e=>ej(s=>s?{...s,needImage:e}:null)}),(0,s.jsx)(r.Label,{children:"需要用户提供图片"})]}),(0,s.jsx)(j.Separator,{}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c.Switch,{checked:ep.enableSplit,onCheckedChange:e=>ej(s=>s?{...s,enableSplit:e}:null)}),(0,s.jsx)(r.Label,{children:"启用图片切割（表情包模式）"})]}),ep.enableSplit&&(0,s.jsxs)(n.Badge,{variant:"secondary",children:[(0,s.jsx)(P,{className:"w-3 h-3 mr-1"}),ep.splitCols,"×",ep.splitRows," ="," ",ep.splitCols*ep.splitRows,"个"]})]}),ep.enableSplit&&(0,s.jsxs)("div",{className:"p-4 border rounded-lg bg-muted/30 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-blue-50 dark:bg-blue-950/30 rounded text-xs text-blue-700 dark:text-blue-300",children:[(0,s.jsx)(g.AlertCircle,{className:"h-4 w-4 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"表情切割说明"}),(0,s.jsx)("p",{children:"生成的图片将按网格切割成多个小图，通常用于Q版表情包生成。建议在提示词中指定生成 4K/16:9 图片以获得最佳效果。"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{className:"text-sm",children:"列数 (cols)"}),(0,s.jsx)(i.Input,{type:"number",min:1,max:10,value:ep.splitCols,onChange:e=>ej(s=>s?{...s,splitCols:parseInt(e.target.value)||6}:null)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{className:"text-sm",children:"行数 (rows)"}),(0,s.jsx)(i.Input,{type:"number",min:1,max:10,value:ep.splitRows,onChange:e=>ej(s=>s?{...s,splitRows:parseInt(e.target.value)||4}:null)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Label,{className:"text-sm",children:"边距 (px)"}),(0,s.jsx)(i.Input,{type:"number",min:0,max:50,value:ep.splitPadding,onChange:e=>ej(s=>s?{...s,splitPadding:parseInt(e.target.value)||0}:null)})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"p-2 bg-muted rounded",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"总表情数："}),(0,s.jsxs)("span",{className:"font-medium ml-1",children:[ep.splitCols*ep.splitRows," 个"]})]}),(0,s.jsxs)("div",{className:"p-2 bg-muted rounded",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"单个尺寸(4K)："}),(0,s.jsxs)("span",{className:"font-medium ml-1",children:["约 ",Math.floor(3840/ep.splitCols),"×",Math.floor(2160/ep.splitRows)," px"]})]})]})]})]})]}),(0,s.jsxs)(m.DialogFooter,{children:[(0,s.jsx)(t.Button,{variant:"outline",onClick:()=>{ec(!1),ej(null)},children:"取消"}),(0,s.jsx)(t.Button,{onClick:ek,children:"保存"})]})]})})]})}e.s(["default",()=>K],65590)}]);