(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63503,e=>{"use strict";let t,r;var n=e.i(42548),o=e.i(8573),a=e.i(84636),s=e.i(45030),i=e.i(50974);let l=(0,i.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var d=e.i(40204),c=e.i(10273),u=e.i(32308),p=e.i(35670),f=e.i(70620),h=e.i(83949),m=e.i(17969),x=e.i(14775);let g=(0,i.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var v=e.i(88233);let y=(0,i.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),w=(0,i.default)("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var b=e.i(64775),j=e.i(63959),k=e.i(61375),C=e.i(5614);let R=e=>{let t,r=new Set,n=(e,n)=>{let o="function"==typeof e?e(t):e;if(!Object.is(o,t)){let e=t;t=(null!=n?n:"object"!=typeof o||null===o)?o:Object.assign({},t,o),r.forEach(r=>r(t,e))}},o=()=>t,a={setState:n,getState:o,getInitialState:()=>s,subscribe:e=>(r.add(e),()=>r.delete(e))},s=t=e(n,o,a);return a},E=e=>{let t=e?R(e):R,r=e=>(function(e,t=e=>e){let r=C.default.useSyncExternalStore(e.subscribe,C.default.useCallback(()=>t(e.getState()),[e,t]),C.default.useCallback(()=>t(e.getInitialState()),[e,t]));return C.default.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},M=e=>e?E(e):E,N=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>N(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>N(t)(e)}}},P=M()((t=e=>({token:null,isAuthenticated:!1,setToken:t=>e({token:t,isAuthenticated:!!t}),logout:()=>{localStorage.removeItem("chaite_token"),e({token:null,isAuthenticated:!1})}}),r={name:"chaite-auth"},(e,n,o)=>{let a,s={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let n=e=>null===e?null:JSON.parse(e,void 0),o=null!=(t=r.getItem(e))?t:null;return o instanceof Promise?o.then(n):n(o)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...r},i=!1,l=new Set,d=new Set,c=s.storage;if(!c)return t((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),e(...t)},n,o);let u=()=>{let e=s.partialize({...n()});return c.setItem(s.name,{state:e,version:s.version})},p=o.setState;o.setState=(e,t)=>(p(e,t),u());let f=t((...t)=>(e(...t),u()),n,o);o.getInitialState=()=>f;let h=()=>{var t,r;if(!c)return;i=!1,l.forEach(e=>{var t;return e(null!=(t=n())?t:f)});let o=(null==(r=s.onRehydrateStorage)?void 0:r.call(s,null!=(t=n())?t:f))||void 0;return N(c.getItem.bind(c))(s.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===s.version)return[!1,e.state];else{if(s.migrate){let t=s.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(t=>{var r;let[o,i]=t;if(e(a=s.merge(i,null!=(r=n())?r:f),!0),o)return u()}).then(()=>{null==o||o(a,void 0),a=n(),i=!0,d.forEach(e=>e(a))}).catch(e=>{null==o||o(void 0,e)})};return o.persist={setOptions:e=>{s={...s,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>h(),hasHydrated:()=>i,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},s.skipHydration||h(),a||f}));M()(e=>({config:null,loading:!1,setConfig:t=>e({config:t}),setLoading:t=>e({loading:t})}));let S=M()(e=>({sidebarOpen:!0,setSidebarOpen:t=>e({sidebarOpen:t}),toggleSidebar:()=>e(e=>({sidebarOpen:!e.sidebarOpen}))}));var T=e.i(4210),_=e.i(23337),D=e.i(71418);function I({...e}){return(0,n.jsx)(_.Root,{"data-slot":"sheet",...e})}function O({...e}){return(0,n.jsx)(_.Portal,{"data-slot":"sheet-portal",...e})}function H({className:e,...t}){return(0,n.jsx)(_.Overlay,{"data-slot":"sheet-overlay",className:(0,s.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function L({className:e,children:t,side:r="right",...o}){return(0,n.jsxs)(O,{children:[(0,n.jsx)(H,{}),(0,n.jsxs)(_.Content,{"data-slot":"sheet-content",className:(0,s.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...o,children:[t,(0,n.jsxs)(_.Close,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,n.jsx)(D.XIcon,{className:"size-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function A({className:e,...t}){return(0,n.jsx)("div",{"data-slot":"sheet-header",className:(0,s.cn)("flex flex-col gap-1.5 p-4",e),...t})}function F({className:e,...t}){return(0,n.jsx)(_.Title,{"data-slot":"sheet-title",className:(0,s.cn)("text-foreground font-semibold",e),...t})}var z=e.i(91967),K=e.i(89268),B=e.i(94185),U=e.i(95895),G=e.i(20344),V=e.i(5037),X=e.i(38389),q=e.i(20092),Y=e.i(92480),W=e.i(68018),J=e.i(70672),Z=e.i(90563),[$,Q]=(0,B.createContextScope)("Tooltip",[V.createPopperScope]),ee=(0,V.createPopperScope)(),et="TooltipProvider",er="tooltip.open",[en,eo]=$(et),ea=e=>{let{__scopeTooltip:t,delayDuration:r=700,skipDelayDuration:o=300,disableHoverableContent:a=!1,children:s}=e,i=C.useRef(!0),l=C.useRef(!1),d=C.useRef(0);return C.useEffect(()=>{let e=d.current;return()=>window.clearTimeout(e)},[]),(0,n.jsx)(en,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(d.current),i.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>i.current=!0,o)},[o]),isPointerInTransitRef:l,onPointerInTransitChange:C.useCallback(e=>{l.current=e},[]),disableHoverableContent:a,children:s})};ea.displayName=et;var es="Tooltip",[ei,el]=$(es),ed=e=>{let{__scopeTooltip:t,children:r,open:o,defaultOpen:a,onOpenChange:s,disableHoverableContent:i,delayDuration:l}=e,d=eo(es,e.__scopeTooltip),c=ee(t),[u,p]=C.useState(null),f=(0,G.useId)(),h=C.useRef(0),m=i??d.disableHoverableContent,x=l??d.delayDuration,g=C.useRef(!1),[v,y]=(0,J.useControllableState)({prop:o,defaultProp:a??!1,onChange:e=>{e?(d.onOpen(),document.dispatchEvent(new CustomEvent(er))):d.onClose(),s?.(e)},caller:es}),w=C.useMemo(()=>v?g.current?"delayed-open":"instant-open":"closed",[v]),b=C.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,y(!0)},[y]),j=C.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y(!1)},[y]),k=C.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,y(!0),h.current=0},x)},[x,y]);return C.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),(0,n.jsx)(V.Root,{...c,children:(0,n.jsx)(ei,{scope:t,contentId:f,open:v,stateAttribute:w,trigger:u,onTriggerChange:p,onTriggerEnter:C.useCallback(()=>{d.isOpenDelayedRef.current?k():b()},[d.isOpenDelayedRef,k,b]),onTriggerLeave:C.useCallback(()=>{m?j():(window.clearTimeout(h.current),h.current=0)},[j,m]),onOpen:b,onClose:j,disableHoverableContent:m,children:r})})};ed.displayName=es;var ec="TooltipTrigger",eu=C.forwardRef((e,t)=>{let{__scopeTooltip:r,...o}=e,a=el(ec,r),s=eo(ec,r),i=ee(r),l=C.useRef(null),d=(0,K.useComposedRefs)(t,l,a.onTriggerChange),c=C.useRef(!1),u=C.useRef(!1),p=C.useCallback(()=>c.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),(0,n.jsx)(V.Anchor,{asChild:!0,...i,children:(0,n.jsx)(Y.Primitive.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...o,ref:d,onPointerMove:(0,z.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(u.current||s.isPointerInTransitRef.current||(a.onTriggerEnter(),u.current=!0))}),onPointerLeave:(0,z.composeEventHandlers)(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:(0,z.composeEventHandlers)(e.onPointerDown,()=>{a.open&&a.onClose(),c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:(0,z.composeEventHandlers)(e.onFocus,()=>{c.current||a.onOpen()}),onBlur:(0,z.composeEventHandlers)(e.onBlur,a.onClose),onClick:(0,z.composeEventHandlers)(e.onClick,a.onClose)})})});eu.displayName=ec;var ep="TooltipPortal",[ef,eh]=$(ep,{forceMount:void 0}),em=e=>{let{__scopeTooltip:t,forceMount:r,children:o,container:a}=e,s=el(ep,t);return(0,n.jsx)(ef,{scope:t,forceMount:r,children:(0,n.jsx)(q.Presence,{present:r||s.open,children:(0,n.jsx)(X.Portal,{asChild:!0,container:a,children:o})})})};em.displayName=ep;var ex="TooltipContent",eg=C.forwardRef((e,t)=>{let r=eh(ex,e.__scopeTooltip),{forceMount:o=r.forceMount,side:a="top",...s}=e,i=el(ex,e.__scopeTooltip);return(0,n.jsx)(q.Presence,{present:o||i.open,children:i.disableHoverableContent?(0,n.jsx)(ej,{side:a,...s,ref:t}):(0,n.jsx)(ev,{side:a,...s,ref:t})})}),ev=C.forwardRef((e,t)=>{let r=el(ex,e.__scopeTooltip),o=eo(ex,e.__scopeTooltip),a=C.useRef(null),s=(0,K.useComposedRefs)(t,a),[i,l]=C.useState(null),{trigger:d,onClose:c}=r,u=a.current,{onPointerInTransitChange:p}=o,f=C.useCallback(()=>{l(null),p(!1)},[p]),h=C.useCallback((e,t)=>{let r,n=e.currentTarget,o={x:e.clientX,y:e.clientY},a=function(e,t){let r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,o,a)){case a:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw Error("unreachable")}}(o,n.getBoundingClientRect());l(((r=[...function(e,t,r=5){let n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(o,a),...function(e){let{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let n=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x))t.pop();else break}t.push(n)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let n=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(n.y-t.y)>=(e.y-t.y)*(n.x-t.x))r.pop();else break}r.push(n)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(r))),p(!0)},[p]);return C.useEffect(()=>()=>f(),[f]),C.useEffect(()=>{if(d&&u){let e=e=>h(e,u),t=e=>h(e,d);return d.addEventListener("pointerleave",e),u.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),u.removeEventListener("pointerleave",t)}}},[d,u,h,f]),C.useEffect(()=>{if(i){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},n=d?.contains(t)||u?.contains(t),o=!function(e,t){let{x:r,y:n}=e,o=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let s=t[e],i=t[a],l=s.x,d=s.y,c=i.x,u=i.y;d>n!=u>n&&r<(c-l)*(n-d)/(u-d)+l&&(o=!o)}return o}(r,i);n?f():o&&(f(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,u,i,c,f]),(0,n.jsx)(ej,{...e,ref:s})}),[ey,ew]=$(es,{isInside:!1}),eb=(0,W.createSlottable)("TooltipContent"),ej=C.forwardRef((e,t)=>{let{__scopeTooltip:r,children:o,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:i,...l}=e,d=el(ex,r),c=ee(r),{onClose:u}=d;return C.useEffect(()=>(document.addEventListener(er,u),()=>document.removeEventListener(er,u)),[u]),C.useEffect(()=>{if(d.trigger){let e=e=>{let t=e.target;t?.contains(d.trigger)&&u()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[d.trigger,u]),(0,n.jsx)(U.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:(0,n.jsxs)(V.Content,{"data-state":d.stateAttribute,...c,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,n.jsx)(eb,{children:o}),(0,n.jsx)(ey,{scope:r,isInside:!0,children:(0,n.jsx)(Z.Root,{id:d.contentId,role:"tooltip",children:a||o})})]})})});eg.displayName=ex;var ek="TooltipArrow",eC=C.forwardRef((e,t)=>{let{__scopeTooltip:r,...o}=e,a=ee(r);return ew(ek,r).isInside?null:(0,n.jsx)(V.Arrow,{...a,...o,ref:t})});function eR({delayDuration:e=0,...t}){return(0,n.jsx)(ea,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function eE({...e}){return(0,n.jsx)(eR,{children:(0,n.jsx)(ed,{"data-slot":"tooltip",...e})})}function eM({...e}){return(0,n.jsx)(eu,{"data-slot":"tooltip-trigger",...e})}function eN({className:e,sideOffset:t=0,children:r,...o}){return(0,n.jsx)(em,{children:(0,n.jsxs)(eg,{"data-slot":"tooltip-content",sideOffset:t,className:(0,s.cn)("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...o,children:[r,(0,n.jsx)(eC,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}eC.displayName=ek;let eP=[{href:"/",label:"仪表盘",icon:l},{href:"/settings",label:"系统设置",icon:d.Settings,children:[{href:"/settings",label:"基础设置"},{href:"/settings/trigger",label:"触发配置"},{href:"/settings/context",label:"上下文"},{href:"/settings/proxy",label:"代理设置"},{href:"/settings/links",label:"登录链接"}]},{href:"/channels",label:"渠道管理",icon:p.Plug},{href:"/presets",label:"预设管理",icon:x.Palette},{href:"/knowledge",label:"知识库",icon:j.BookOpen},{href:"/tools",label:"工具配置",icon:h.Wrench},{href:"/mcp",label:"MCP服务",icon:f.Bot},{href:"/conversations",label:"对话历史",icon:c.MessageSquare},{href:"/history",label:"调用记录",icon:m.History},{href:"/memory",label:"记忆管理",icon:b.Brain},{href:"/scope",label:"人设管理",icon:w},{href:"/users",label:"用户管理",icon:u.Users},{href:"/groups",label:"群组管理",icon:v.UsersRound}];function eS({pathname:e,onNavClick:t}){return(0,n.jsx)("nav",{className:"p-4 space-y-1",children:eP.map(r=>{let a=e===r.href||e.startsWith(r.href+"/"),i=r.children&&r.children.length>0;return(0,n.jsxs)("div",{children:[(0,n.jsxs)(o.default,{href:r.href,className:(0,s.cn)("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200",a?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-accent hover:text-accent-foreground hover:translate-x-1"),onClick:()=>{!i&&t&&t()},children:[(0,n.jsx)(r.icon,{className:"h-5 w-5 shrink-0"}),(0,n.jsx)("span",{className:"truncate",children:r.label}),i&&(0,n.jsx)(y,{className:(0,s.cn)("h-4 w-4 ml-auto transition-transform",a&&"rotate-90")})]}),i&&a&&(0,n.jsx)("div",{className:"ml-6 mt-1 space-y-1 animate-in slide-in-from-left-2",children:r.children.map(r=>{let a=e===r.href;return(0,n.jsx)(o.default,{href:r.href,className:(0,s.cn)("block px-3 py-2 rounded-lg text-sm transition-colors",a?"bg-accent text-accent-foreground font-medium":"text-muted-foreground hover:bg-accent/50 hover:text-accent-foreground"),onClick:t,children:r.label},r.href)})})]},r.href)})})}function eT(){let e=(0,a.usePathname)(),{sidebarOpen:t,toggleSidebar:r,setSidebarOpen:s}=S();return(0,n.jsxs)(eR,{children:[(0,n.jsxs)("aside",{className:"hidden lg:block w-64 bg-card border-r h-screen sticky top-0",children:[(0,n.jsx)("div",{className:"flex h-16 items-center px-4 border-b",children:(0,n.jsxs)(o.default,{href:"/",className:"flex items-center gap-2 group",children:[(0,n.jsx)(f.Bot,{className:"h-6 w-6 text-primary group-hover:scale-110 transition-transform"}),(0,n.jsx)("span",{className:"font-bold text-lg",children:"Chaite"})]})}),(0,n.jsx)(T.ScrollArea,{className:"h-[calc(100vh-4rem)]",children:(0,n.jsx)(eS,{pathname:e})})]}),(0,n.jsx)(I,{open:t,onOpenChange:s,children:(0,n.jsxs)(L,{side:"left",className:"w-72 p-0",children:[(0,n.jsxs)(A,{className:"h-16 flex flex-row items-center px-4 border-b",children:[(0,n.jsx)(f.Bot,{className:"h-6 w-6 text-primary mr-2"}),(0,n.jsx)(F,{className:"font-bold text-lg",children:"Chaite"})]}),(0,n.jsx)(T.ScrollArea,{className:"h-[calc(100vh-4rem)]",children:(0,n.jsx)(eS,{pathname:e,onNavClick:()=>s(!1)})})]})}),(0,n.jsxs)(eE,{children:[(0,n.jsx)(eM,{asChild:!0,children:(0,n.jsx)(k.Button,{variant:"default",size:"icon",className:"fixed bottom-4 right-4 z-40 lg:hidden shadow-lg rounded-full h-12 w-12",onClick:r,children:(0,n.jsx)(g,{className:"h-5 w-5"})})}),(0,n.jsx)(eN,{side:"left",children:(0,n.jsx)("p",{children:"打开菜单"})})]})]})}let e_=(0,i.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var eD=e.i(29720),eI=e.i(44533),eO=e.i(67500),eH=e.i(78518),eL=e.i(38801),eA=e.i(63822),eF=e.i(67768),ez=e.i(73772),eK=e.i(8825),eB=["Enter"," "],eU=["ArrowUp","PageDown","End"],eG=["ArrowDown","PageUp","Home",...eU],eV={ltr:[...eB,"ArrowRight"],rtl:[...eB,"ArrowLeft"]},eX={ltr:["ArrowLeft"],rtl:["ArrowRight"]},eq="Menu",[eY,eW,eJ]=(0,eI.createCollection)(eq),[eZ,e$]=(0,B.createContextScope)(eq,[eJ,V.createPopperScope,eA.createRovingFocusGroupScope]),eQ=(0,V.createPopperScope)(),e0=(0,eA.createRovingFocusGroupScope)(),[e1,e2]=eZ(eq),[e4,e3]=eZ(eq),e5=e=>{let{__scopeMenu:t,open:r=!1,children:o,dir:a,onOpenChange:s,modal:i=!0}=e,l=eQ(t),[d,c]=C.useState(null),u=C.useRef(!1),p=(0,eF.useCallbackRef)(s),f=(0,eO.useDirection)(a);return C.useEffect(()=>{let e=()=>{u.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>u.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,n.jsx)(V.Root,{...l,children:(0,n.jsx)(e1,{scope:t,open:r,onOpenChange:p,content:d,onContentChange:c,children:(0,n.jsx)(e4,{scope:t,onClose:C.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:u,dir:f,modal:i,children:o})})})};e5.displayName=eq;var e8=C.forwardRef((e,t)=>{let{__scopeMenu:r,...o}=e,a=eQ(r);return(0,n.jsx)(V.Anchor,{...a,...o,ref:t})});e8.displayName="MenuAnchor";var e6="MenuPortal",[e9,e7]=eZ(e6,{forceMount:void 0}),te=e=>{let{__scopeMenu:t,forceMount:r,children:o,container:a}=e,s=e2(e6,t);return(0,n.jsx)(e9,{scope:t,forceMount:r,children:(0,n.jsx)(q.Presence,{present:r||s.open,children:(0,n.jsx)(X.Portal,{asChild:!0,container:a,children:o})})})};te.displayName=e6;var tt="MenuContent",[tr,tn]=eZ(tt),to=C.forwardRef((e,t)=>{let r=e7(tt,e.__scopeMenu),{forceMount:o=r.forceMount,...a}=e,s=e2(tt,e.__scopeMenu),i=e3(tt,e.__scopeMenu);return(0,n.jsx)(eY.Provider,{scope:e.__scopeMenu,children:(0,n.jsx)(q.Presence,{present:o||s.open,children:(0,n.jsx)(eY.Slot,{scope:e.__scopeMenu,children:i.modal?(0,n.jsx)(ta,{...a,ref:t}):(0,n.jsx)(ts,{...a,ref:t})})})})}),ta=C.forwardRef((e,t)=>{let r=e2(tt,e.__scopeMenu),o=C.useRef(null),a=(0,K.useComposedRefs)(t,o);return C.useEffect(()=>{let e=o.current;if(e)return(0,ez.hideOthers)(e)},[]),(0,n.jsx)(tl,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:(0,z.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ts=C.forwardRef((e,t)=>{let r=e2(tt,e.__scopeMenu);return(0,n.jsx)(tl,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ti=(0,W.createSlot)("MenuContent.ScrollLock"),tl=C.forwardRef((e,t)=>{let{__scopeMenu:r,loop:o=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:f,onDismiss:h,disableOutsideScroll:m,...x}=e,g=e2(tt,r),v=e3(tt,r),y=eQ(r),w=e0(r),b=eW(r),[j,k]=C.useState(null),R=C.useRef(null),E=(0,K.useComposedRefs)(t,R,g.onContentChange),M=C.useRef(0),N=C.useRef(""),P=C.useRef(0),S=C.useRef(null),T=C.useRef("right"),_=C.useRef(0),D=m?eK.RemoveScroll:C.Fragment;C.useEffect(()=>()=>window.clearTimeout(M.current),[]),(0,eH.useFocusGuards)();let I=C.useCallback(e=>{var t,r;return T.current===S.current?.side&&(t=e,!!(r=S.current?.area)&&function(e,t){let{x:r,y:n}=e,o=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let s=t[e],i=t[a],l=s.x,d=s.y,c=i.x,u=i.y;d>n!=u>n&&r<(c-l)*(n-d)/(u-d)+l&&(o=!o)}return o}({x:t.clientX,y:t.clientY},r))},[]);return(0,n.jsx)(tr,{scope:r,searchRef:N,onItemEnter:C.useCallback(e=>{I(e)&&e.preventDefault()},[I]),onItemLeave:C.useCallback(e=>{I(e)||(R.current?.focus(),k(null))},[I]),onTriggerLeave:C.useCallback(e=>{I(e)&&e.preventDefault()},[I]),pointerGraceTimerRef:P,onPointerGraceIntentChange:C.useCallback(e=>{S.current=e},[]),children:(0,n.jsx)(D,{...m?{as:ti,allowPinchZoom:!0}:void 0,children:(0,n.jsx)(eL.FocusScope,{asChild:!0,trapped:a,onMountAutoFocus:(0,z.composeEventHandlers)(s,e=>{e.preventDefault(),R.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:(0,n.jsx)(U.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:f,onDismiss:h,children:(0,n.jsx)(eA.Root,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:o,currentTabStopId:j,onCurrentTabStopIdChange:k,onEntryFocus:(0,z.composeEventHandlers)(d,e=>{v.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,n.jsx)(V.Content,{role:"menu","aria-orientation":"vertical","data-state":tI(g.open),"data-radix-menu-content":"",dir:v.dir,...y,...x,ref:E,style:{outline:"none",...x.style},onKeyDown:(0,z.composeEventHandlers)(x.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;if(t){var o;let t,a,s,i,l,d;"Tab"===e.key&&e.preventDefault(),!r&&n&&(o=e.key,t=N.current+o,a=b().filter(e=>!e.disabled),s=document.activeElement,i=a.find(e=>e.ref.current===s)?.textValue,l=function(e,t,r){var n;let o=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1,s=(n=Math.max(a,0),e.map((t,r)=>e[(n+r)%e.length]));1===o.length&&(s=s.filter(e=>e!==r));let i=s.find(e=>e.toLowerCase().startsWith(o.toLowerCase()));return i!==r?i:void 0}(a.map(e=>e.textValue),t,i),d=a.find(e=>e.textValue===l)?.ref.current,function e(t){N.current=t,window.clearTimeout(M.current),""!==t&&(M.current=window.setTimeout(()=>e(""),1e3))}(t),d&&setTimeout(()=>d.focus()))}let a=R.current;if(e.target!==a||!eG.includes(e.key))return;e.preventDefault();let s=b().filter(e=>!e.disabled).map(e=>e.ref.current);eU.includes(e.key)&&s.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(s)}),onBlur:(0,z.composeEventHandlers)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(M.current),N.current="")}),onPointerMove:(0,z.composeEventHandlers)(e.onPointerMove,tL(e=>{let t=e.target,r=_.current!==e.clientX;e.currentTarget.contains(t)&&r&&(T.current=e.clientX>_.current?"right":"left",_.current=e.clientX)}))})})})})})})});to.displayName=tt;var td=C.forwardRef((e,t)=>{let{__scopeMenu:r,...o}=e;return(0,n.jsx)(Y.Primitive.div,{role:"group",...o,ref:t})});td.displayName="MenuGroup";var tc=C.forwardRef((e,t)=>{let{__scopeMenu:r,...o}=e;return(0,n.jsx)(Y.Primitive.div,{...o,ref:t})});tc.displayName="MenuLabel";var tu="MenuItem",tp="menu.itemSelect",tf=C.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:o,...a}=e,s=C.useRef(null),i=e3(tu,e.__scopeMenu),l=tn(tu,e.__scopeMenu),d=(0,K.useComposedRefs)(t,s),c=C.useRef(!1);return(0,n.jsx)(th,{...a,ref:d,disabled:r,onClick:(0,z.composeEventHandlers)(e.onClick,()=>{let e=s.current;if(!r&&e){let t=new CustomEvent(tp,{bubbles:!0,cancelable:!0});e.addEventListener(tp,e=>o?.(e),{once:!0}),(0,Y.dispatchDiscreteCustomEvent)(e,t),t.defaultPrevented?c.current=!1:i.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),c.current=!0},onPointerUp:(0,z.composeEventHandlers)(e.onPointerUp,e=>{c.current||e.currentTarget?.click()}),onKeyDown:(0,z.composeEventHandlers)(e.onKeyDown,e=>{let t=""!==l.searchRef.current;r||t&&" "===e.key||eB.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});tf.displayName=tu;var th=C.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:o=!1,textValue:a,...s}=e,i=tn(tu,r),l=e0(r),d=C.useRef(null),c=(0,K.useComposedRefs)(t,d),[u,p]=C.useState(!1),[f,h]=C.useState("");return C.useEffect(()=>{let e=d.current;e&&h((e.textContent??"").trim())},[s.children]),(0,n.jsx)(eY.ItemSlot,{scope:r,disabled:o,textValue:a??f,children:(0,n.jsx)(eA.Item,{asChild:!0,...l,focusable:!o,children:(0,n.jsx)(Y.Primitive.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...s,ref:c,onPointerMove:(0,z.composeEventHandlers)(e.onPointerMove,tL(e=>{o?i.onItemLeave(e):(i.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,z.composeEventHandlers)(e.onPointerLeave,tL(e=>i.onItemLeave(e))),onFocus:(0,z.composeEventHandlers)(e.onFocus,()=>p(!0)),onBlur:(0,z.composeEventHandlers)(e.onBlur,()=>p(!1))})})})}),tm=C.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:o,...a}=e;return(0,n.jsx)(tk,{scope:e.__scopeMenu,checked:r,children:(0,n.jsx)(tf,{role:"menuitemcheckbox","aria-checked":tO(r)?"mixed":r,...a,ref:t,"data-state":tH(r),onSelect:(0,z.composeEventHandlers)(a.onSelect,()=>o?.(!!tO(r)||!r),{checkForDefaultPrevented:!1})})})});tm.displayName="MenuCheckboxItem";var tx="MenuRadioGroup",[tg,tv]=eZ(tx,{value:void 0,onValueChange:()=>{}}),ty=C.forwardRef((e,t)=>{let{value:r,onValueChange:o,...a}=e,s=(0,eF.useCallbackRef)(o);return(0,n.jsx)(tg,{scope:e.__scopeMenu,value:r,onValueChange:s,children:(0,n.jsx)(td,{...a,ref:t})})});ty.displayName=tx;var tw="MenuRadioItem",tb=C.forwardRef((e,t)=>{let{value:r,...o}=e,a=tv(tw,e.__scopeMenu),s=r===a.value;return(0,n.jsx)(tk,{scope:e.__scopeMenu,checked:s,children:(0,n.jsx)(tf,{role:"menuitemradio","aria-checked":s,...o,ref:t,"data-state":tH(s),onSelect:(0,z.composeEventHandlers)(o.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});tb.displayName=tw;var tj="MenuItemIndicator",[tk,tC]=eZ(tj,{checked:!1}),tR=C.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:o,...a}=e,s=tC(tj,r);return(0,n.jsx)(q.Presence,{present:o||tO(s.checked)||!0===s.checked,children:(0,n.jsx)(Y.Primitive.span,{...a,ref:t,"data-state":tH(s.checked)})})});tR.displayName=tj;var tE=C.forwardRef((e,t)=>{let{__scopeMenu:r,...o}=e;return(0,n.jsx)(Y.Primitive.div,{role:"separator","aria-orientation":"horizontal",...o,ref:t})});tE.displayName="MenuSeparator";var tM=C.forwardRef((e,t)=>{let{__scopeMenu:r,...o}=e,a=eQ(r);return(0,n.jsx)(V.Arrow,{...a,...o,ref:t})});tM.displayName="MenuArrow";var[tN,tP]=eZ("MenuSub"),tS="MenuSubTrigger",tT=C.forwardRef((e,t)=>{let r=e2(tS,e.__scopeMenu),o=e3(tS,e.__scopeMenu),a=tP(tS,e.__scopeMenu),s=tn(tS,e.__scopeMenu),i=C.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=s,c={__scopeMenu:e.__scopeMenu},u=C.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return C.useEffect(()=>u,[u]),C.useEffect(()=>{let e=l.current;return()=>{window.clearTimeout(e),d(null)}},[l,d]),(0,n.jsx)(e8,{asChild:!0,...c,children:(0,n.jsx)(th,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":tI(r.open),...e,ref:(0,K.composeRefs)(t,a.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:(0,z.composeEventHandlers)(e.onPointerMove,tL(t=>{s.onItemEnter(t),!t.defaultPrevented&&(e.disabled||r.open||i.current||(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100)))})),onPointerLeave:(0,z.composeEventHandlers)(e.onPointerLeave,tL(e=>{u();let t=r.content?.getBoundingClientRect();if(t){let n=r.content?.dataset.side,o="right"===n,a=t[o?"left":"right"],i=t[o?"right":"left"];s.onPointerGraceIntentChange({area:[{x:e.clientX+(o?-5:5),y:e.clientY},{x:a,y:t.top},{x:i,y:t.top},{x:i,y:t.bottom},{x:a,y:t.bottom}],side:n}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(e),e.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:(0,z.composeEventHandlers)(e.onKeyDown,t=>{let n=""!==s.searchRef.current;e.disabled||n&&" "===t.key||eV[o.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())})})})});tT.displayName=tS;var t_="MenuSubContent",tD=C.forwardRef((e,t)=>{let r=e7(tt,e.__scopeMenu),{forceMount:o=r.forceMount,...a}=e,s=e2(tt,e.__scopeMenu),i=e3(tt,e.__scopeMenu),l=tP(t_,e.__scopeMenu),d=C.useRef(null),c=(0,K.useComposedRefs)(t,d);return(0,n.jsx)(eY.Provider,{scope:e.__scopeMenu,children:(0,n.jsx)(q.Presence,{present:o||s.open,children:(0,n.jsx)(eY.Slot,{scope:e.__scopeMenu,children:(0,n.jsx)(tl,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:c,align:"start",side:"rtl"===i.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{i.isUsingKeyboardRef.current&&d.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,z.composeEventHandlers)(e.onFocusOutside,e=>{e.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:(0,z.composeEventHandlers)(e.onEscapeKeyDown,e=>{i.onClose(),e.preventDefault()}),onKeyDown:(0,z.composeEventHandlers)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=eX[i.dir].includes(e.key);t&&r&&(s.onOpenChange(!1),l.trigger?.focus(),e.preventDefault())})})})})})});function tI(e){return e?"open":"closed"}function tO(e){return"indeterminate"===e}function tH(e){return tO(e)?"indeterminate":e?"checked":"unchecked"}function tL(e){return t=>"mouse"===t.pointerType?e(t):void 0}tD.displayName=t_;var tA="DropdownMenu",[tF,tz]=(0,B.createContextScope)(tA,[e$]),tK=e$(),[tB,tU]=tF(tA),tG=e=>{let{__scopeDropdownMenu:t,children:r,dir:o,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,d=tK(t),c=C.useRef(null),[u,p]=(0,J.useControllableState)({prop:a,defaultProp:s??!1,onChange:i,caller:tA});return(0,n.jsx)(tB,{scope:t,triggerId:(0,G.useId)(),triggerRef:c,contentId:(0,G.useId)(),open:u,onOpenChange:p,onOpenToggle:C.useCallback(()=>p(e=>!e),[p]),modal:l,children:(0,n.jsx)(e5,{...d,open:u,onOpenChange:p,dir:o,modal:l,children:r})})};tG.displayName=tA;var tV="DropdownMenuTrigger",tX=C.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:o=!1,...a}=e,s=tU(tV,r),i=tK(r);return(0,n.jsx)(e8,{asChild:!0,...i,children:(0,n.jsx)(Y.Primitive.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...a,ref:(0,K.composeRefs)(t,s.triggerRef),onPointerDown:(0,z.composeEventHandlers)(e.onPointerDown,e=>{!o&&0===e.button&&!1===e.ctrlKey&&(s.onOpenToggle(),s.open||e.preventDefault())}),onKeyDown:(0,z.composeEventHandlers)(e.onKeyDown,e=>{!o&&(["Enter"," "].includes(e.key)&&s.onOpenToggle(),"ArrowDown"===e.key&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});tX.displayName=tV;var tq=e=>{let{__scopeDropdownMenu:t,...r}=e,o=tK(t);return(0,n.jsx)(te,{...o,...r})};tq.displayName="DropdownMenuPortal";var tY="DropdownMenuContent",tW=C.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...o}=e,a=tU(tY,r),s=tK(r),i=C.useRef(!1);return(0,n.jsx)(to,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...o,ref:t,onCloseAutoFocus:(0,z.composeEventHandlers)(e.onCloseAutoFocus,e=>{i.current||a.triggerRef.current?.focus(),i.current=!1,e.preventDefault()}),onInteractOutside:(0,z.composeEventHandlers)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;(!a.modal||n)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tW.displayName=tY,C.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...o}=e,a=tK(r);return(0,n.jsx)(td,{...a,...o,ref:t})}).displayName="DropdownMenuGroup",C.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...o}=e,a=tK(r);return(0,n.jsx)(tc,{...a,...o,ref:t})}).displayName="DropdownMenuLabel";var tJ=C.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...o}=e,a=tK(r);return(0,n.jsx)(tf,{...a,...o,ref:t})});tJ.displayName="DropdownMenuItem",C.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...o}=e,a=tK(r);return(0,n.jsx)(tm,{...a,...o,ref:t})}).displayName="DropdownMenuCheckboxItem",C.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...o}=e,a=tK(r);return(0,n.jsx)(ty,{...a,...o,ref:t})}).displayName="DropdownMenuRadioGroup",C.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...o}=e,a=tK(r);return(0,n.jsx)(tb,{...a,...o,ref:t})}).displayName="DropdownMenuRadioItem",C.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...o}=e,a=tK(r);return(0,n.jsx)(tR,{...a,...o,ref:t})}).displayName="DropdownMenuItemIndicator";var tZ=C.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...o}=e,a=tK(r);return(0,n.jsx)(tE,{...a,...o,ref:t})});function t$({...e}){return(0,n.jsx)(tG,{"data-slot":"dropdown-menu",...e})}function tQ({...e}){return(0,n.jsx)(tX,{"data-slot":"dropdown-menu-trigger",...e})}function t0({className:e,sideOffset:t=4,...r}){return(0,n.jsx)(tq,{children:(0,n.jsx)(tW,{"data-slot":"dropdown-menu-content",sideOffset:t,className:(0,s.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function t1({className:e,inset:t,variant:r="default",...o}){return(0,n.jsx)(tJ,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:(0,s.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...o})}function t2({className:e,...t}){return(0,n.jsx)(tZ,{"data-slot":"dropdown-menu-separator",className:(0,s.cn)("bg-border -mx-1 my-1 h-px",e),...t})}tZ.displayName="DropdownMenuSeparator",C.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...o}=e,a=tK(r);return(0,n.jsx)(tM,{...a,...o,ref:t})}).displayName="DropdownMenuArrow",C.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...o}=e,a=tK(r);return(0,n.jsx)(tT,{...a,...o,ref:t})}).displayName="DropdownMenuSubTrigger",C.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...o}=e,a=tK(r);return(0,n.jsx)(tD,{...a,...o,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="DropdownMenuSubContent",e.i(95761),(0,i.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);let t4=(0,i.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),t3=(0,i.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var t5=e.i(8430);function t8(){let{setTheme:e}=(0,t5.useTheme)();return(0,n.jsxs)(t$,{children:[(0,n.jsx)(tQ,{asChild:!0,children:(0,n.jsxs)(k.Button,{variant:"ghost",size:"icon",children:[(0,n.jsx)(t3,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,n.jsx)(t4,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,n.jsx)("span",{className:"sr-only",children:"切换主题"})]})}),(0,n.jsxs)(t0,{align:"end",children:[(0,n.jsx)(t1,{onClick:()=>e("light"),children:"浅色"}),(0,n.jsx)(t1,{onClick:()=>e("dark"),children:"深色"}),(0,n.jsx)(t1,{onClick:()=>e("system"),children:"跟随系统"})]})]})}function t6({title:e="Chaite 管理面板"}){let{toggleSidebar:t}=S(),{logout:r}=P(),o=(0,a.useRouter)();return(0,n.jsxs)("header",{className:"sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-background px-4 md:px-6",children:[(0,n.jsx)(k.Button,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:t,children:(0,n.jsx)(g,{className:"h-5 w-5"})}),(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("h1",{className:"text-lg font-semibold md:text-xl",children:e})}),(0,n.jsx)(t8,{}),(0,n.jsxs)(t$,{children:[(0,n.jsx)(tQ,{asChild:!0,children:(0,n.jsx)(k.Button,{variant:"ghost",size:"icon",className:"rounded-full",children:(0,n.jsx)(eD.User,{className:"h-5 w-5"})})}),(0,n.jsxs)(t0,{align:"end",children:[(0,n.jsxs)(t1,{disabled:!0,children:[(0,n.jsx)(eD.User,{className:"mr-2 h-4 w-4"}),"管理员"]}),(0,n.jsx)(t2,{}),(0,n.jsxs)(t1,{onClick:()=>{r(),o.push("/login")},className:"text-destructive",children:[(0,n.jsx)(e_,{className:"mr-2 h-4 w-4"}),"退出登录"]})]})]})]})}var t9=e.i(34852);function t7({children:e}){let t=(0,a.useRouter)(),[r,o]=(0,C.useState)(!0),[s,i]=(0,C.useState)(!1);return((0,C.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("auth_token");(e&&(localStorage.setItem("chaite_token",e),window.history.replaceState({},"",window.location.pathname)),localStorage.getItem("chaite_token"))?t9.systemApi.getState().then(()=>{i(!0),o(!1)}).catch(()=>{localStorage.removeItem("chaite_token"),t.push("/login/")}):t.push("/login/")},[t]),r)?(0,n.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s?(0,n.jsxs)("div",{className:"flex h-screen overflow-hidden bg-background",children:[(0,n.jsx)(eT,{}),(0,n.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,n.jsx)(t6,{}),(0,n.jsx)("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:e})]})]}):null}e.s(["default",()=>t7],63503)}]);