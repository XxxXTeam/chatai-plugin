(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5945,e=>{"use strict";var a=e.i(52542),l=e.i(40418),s=e.i(44728),i=e.i(51200),t=e.i(72029),n=e.i(30243),r=e.i(99573),d=e.i(13107),o=e.i(20308),c=e.i(20650),m=e.i(81080),h=e.i(10201),b=e.i(79342),x=e.i(64625),u=e.i(89908),p=e.i(5850),g=e.i(40204),y=e.i(96173),j=e.i(15204),v=e.i(63959),C=e.i(98858),f=e.i(74940),N=e.i(17286),P=e.i(10273),E=e.i(70620),T=e.i(32308),w=e.i(79923),S=e.i(10148),M=e.i(57345),k=e.i(36393),I=e.i(72024),L=e.i(60001),_=e.i(60713),R=e.i(35771),G=e.i(97058),B=e.i(61176),K=e.i(84518),V=e.i(14775);let U=(0,e.i(50974).default)("mouse-pointer-2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);var A=e.i(75979),D=e.i(94518),H=e.i(47686),z=e.i(34358);function Q({icon:e,title:l,desc:s,value:i,onChange:t,children:n}){return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-md bg-muted",children:e}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:l}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:s})]})]}),(0,a.jsxs)(h.Select,{value:i,onValueChange:t,children:[(0,a.jsx)(h.SelectTrigger,{className:"w-24",children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(h.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(h.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),n]})}var F=e.i(84519);function O({label:e="æ¦‚ç‡",value:l,onChange:s,disabled:i=!1,className:t}){let n="inherit"===l?1:l;return(0,a.jsxs)("div",{className:`flex items-center gap-2 ${t} ${i?"opacity-50 pointer-events-none":""}`,children:[(0,a.jsx)(r.Label,{className:"text-xs w-16",children:e}),(0,a.jsx)(F.Slider,{value:[n],onValueChange:([e])=>s(e),min:0,max:1,step:.05,disabled:i,className:"flex-1"}),(0,a.jsxs)("span",{className:"text-xs w-10 text-right",children:[Math.round(100*n),"%"]})]})}function $({icon:e,title:l,enabled:s,onEnabledChange:i,probability:t,onProbabilityChange:n,children:r}){return(0,a.jsxs)("div",{className:"rounded-lg border overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e,(0,a.jsx)("span",{className:"text-sm font-medium",children:l})]}),(0,a.jsxs)(h.Select,{value:s,onValueChange:i,children:[(0,a.jsx)(h.SelectTrigger,{className:"w-24 h-8",children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(h.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(h.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===s&&(0,a.jsxs)("div",{className:"p-3 space-y-3 border-t",children:[(0,a.jsx)(O,{value:t,onChange:n}),r]})]})}var q=e.i(17171);function X({label:e,value:l,onChange:s,min:i,max:t,step:d,placeholder:o,className:c,containerClassName:m,description:h,...b}){return(0,a.jsxs)("div",{className:(0,q.cn)("space-y-1",m),children:[(0,a.jsx)(r.Label,{className:"text-xs",children:e}),(0,a.jsx)(n.Input,{type:"number",value:l,onChange:s,min:i,max:t,step:d,placeholder:o,className:(0,q.cn)("h-8",c),...b}),h&&(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground",children:h})]})}function Z({label:e,value:l,models:s,onChange:i,placeholder:t="ä½¿ç”¨å…¨å±€é…ç½®",className:n}){return(0,a.jsxs)("div",{className:(0,q.cn)("space-y-1",n),children:[(0,a.jsx)(r.Label,{className:"text-xs",children:e}),(0,a.jsxs)(h.Select,{value:l||"__default__",onValueChange:e=>i("__default__"===e?"":e),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{placeholder:t})}),(0,a.jsxs)(h.SelectContent,{className:"max-h-[200px]",children:[(0,a.jsx)(h.SelectItem,{value:"__default__",children:t}),s.map(e=>(0,a.jsx)(h.SelectItem,{value:e,children:e},e))]})]})]})}function J({id:e}){let F=(0,s.useRouter)(),q="new"===e,[J,W]=(0,l.useState)(!q),[Y,ee]=(0,l.useState)(!1),[ea,el]=(0,l.useState)([]),[es,ei]=(0,l.useState)([]),[et,en]=(0,l.useState)([]),[er,ed]=(0,l.useState)(!1),[eo,ec]=(0,l.useState)(null),[em,eh]=(0,l.useState)({name:"",baseUrl:"",apiKey:"",adapterType:"openai",models:"",enabled:!0,priority:0,modelsPath:"",chatPath:"",imageTransferMode:"auto",imageCompress:!0,imageQuality:85,imageMaxSize:4096}),[eb,ex]=(0,l.useState)(!1),[eu,ep]=(0,l.useState)(!1),[eg,ey]=(0,l.useState)(!1),[ej,ev]=(0,l.useState)([]),[eC,ef]=(0,l.useState)([]),[eN,eP]=(0,l.useState)({groupId:"",groupName:"",enabled:!0,presetId:"",systemPrompt:"",triggerMode:"default",customPrefix:"",chatModel:"",summaryModel:"",bymModel:"",imageGenModel:"",toolsEnabled:"inherit",imageGenEnabled:"inherit",summaryEnabled:"inherit",eventEnabled:"inherit",bymEnabled:"inherit",bymPresetId:"",bymPrompt:"",bymProbability:"inherit",bymTemperature:"inherit",bymMaxTokens:"inherit",bymReplyLength:"medium",bymUseEmoji:!0,proactiveChatEnabled:"inherit",proactiveChatProbability:"inherit",proactiveChatCooldown:"inherit",proactiveChatMaxDaily:"inherit",proactiveChatMinMessages:5,proactiveChatTimeStart:8,proactiveChatTimeEnd:23,welcomeEnabled:"inherit",welcomeMessage:"",welcomePrompt:"",welcomeProbability:"inherit",goodbyeEnabled:"inherit",goodbyePrompt:"",goodbyeProbability:"inherit",pokeEnabled:"inherit",pokeBack:!1,pokeProbability:"inherit",recallEnabled:"inherit",recallProbability:"inherit",banEnabled:"inherit",banProbability:"inherit",luckyKingEnabled:"inherit",luckyKingProbability:"inherit",honorEnabled:"inherit",honorProbability:"inherit",essenceEnabled:"inherit",essenceProbability:"inherit",adminEnabled:"inherit",adminProbability:"inherit",emojiThiefEnabled:"inherit",emojiThiefSeparateFolder:!0,emojiThiefMaxCount:500,emojiThiefStealRate:1,emojiThiefTriggerRate:.05,emojiThiefTriggerMode:"off",chatContextLength:20,chatStreamReply:!0,chatQuoteReply:!1,chatShowThinking:!0,listMode:"none",blacklist:[],whitelist:[],summaryPushEnabled:!1,summaryPushIntervalType:"day",summaryPushIntervalValue:1,summaryPushHour:20,summaryPushMessageCount:100,independentChannels:[],forbidGlobalModel:!1,dailyGroupLimit:0,dailyUserLimit:0,usageLimitMessage:"",knowledgeIds:[]});(0,l.useEffect)(()=>{eE()},[e]);let eE=async()=>{try{let[a,l,s]=await Promise.all([A.presetsApi.list(),A.channelsApi.list(),A.knowledgeApi.list()]);el(a?.data||[]),ei((s?.data||[]).map(e=>({id:e.id,name:e.name})));let i=new Set;if((l?.data||[]).forEach(e=>{Array.isArray(e.models)&&e.models.forEach(e=>i.add(e))}),en(Array.from(i).sort()),!q){let a=await A.scopeApi.getGroups(),l=(a?.data||[]).find(a=>a.groupId===e);if(l){let e=l.settings||{};eP({groupId:l.groupId,groupName:l.groupName||"",enabled:!1!==l.enabled,presetId:l.presetId||"",systemPrompt:l.systemPrompt||"",triggerMode:e.triggerMode||"default",customPrefix:e.customPrefix||"",chatModel:e.chatModel||"",summaryModel:e.summaryModel||"",bymModel:e.bymModel||"",imageGenModel:e.imageGenModel||"",toolsEnabled:void 0===e.toolsEnabled?"inherit":e.toolsEnabled?"on":"off",imageGenEnabled:void 0===e.imageGenEnabled?"inherit":e.imageGenEnabled?"on":"off",summaryEnabled:void 0===e.summaryEnabled?"inherit":e.summaryEnabled?"on":"off",eventEnabled:void 0===e.eventEnabled?"inherit":e.eventEnabled?"on":"off",bymEnabled:void 0===e.bymEnabled?"inherit":e.bymEnabled?"on":"off",bymPresetId:e.bymPresetId||"",bymPrompt:e.bymPrompt||"",bymProbability:void 0===e.bymProbability||"inherit"===e.bymProbability?"inherit":Number(e.bymProbability),bymTemperature:void 0===e.bymTemperature||"inherit"===e.bymTemperature?"inherit":Number(e.bymTemperature),bymMaxTokens:void 0===e.bymMaxTokens||"inherit"===e.bymMaxTokens?"inherit":Number(e.bymMaxTokens),proactiveChatEnabled:void 0===e.proactiveChatEnabled?"inherit":e.proactiveChatEnabled?"on":"off",proactiveChatProbability:e.proactiveChatProbability??"inherit",proactiveChatCooldown:e.proactiveChatCooldown??"inherit",proactiveChatMaxDaily:e.proactiveChatMaxDaily??"inherit",welcomeEnabled:void 0===e.welcomeEnabled?"inherit":e.welcomeEnabled?"on":"off",welcomeMessage:e.welcomeMessage||"",welcomePrompt:e.welcomePrompt||"",welcomeProbability:e.welcomeProbability??"inherit",goodbyeEnabled:void 0===e.goodbyeEnabled?"inherit":e.goodbyeEnabled?"on":"off",goodbyePrompt:e.goodbyePrompt||"",goodbyeProbability:e.goodbyeProbability??"inherit",pokeEnabled:void 0===e.pokeEnabled?"inherit":e.pokeEnabled?"on":"off",pokeBack:e.pokeBack||!1,pokeProbability:e.pokeProbability??"inherit",recallEnabled:void 0===e.recallEnabled?"inherit":e.recallEnabled?"on":"off",recallProbability:e.recallProbability??"inherit",banEnabled:void 0===e.banEnabled?"inherit":e.banEnabled?"on":"off",banProbability:e.banProbability??"inherit",luckyKingEnabled:void 0===e.luckyKingEnabled?"inherit":e.luckyKingEnabled?"on":"off",luckyKingProbability:e.luckyKingProbability??"inherit",honorEnabled:void 0===e.honorEnabled?"inherit":e.honorEnabled?"on":"off",honorProbability:e.honorProbability??"inherit",essenceEnabled:void 0===e.essenceEnabled?"inherit":e.essenceEnabled?"on":"off",essenceProbability:e.essenceProbability??"inherit",adminEnabled:void 0===e.adminEnabled?"inherit":e.adminEnabled?"on":"off",adminProbability:e.adminProbability??"inherit",emojiThiefEnabled:void 0===e.emojiThiefEnabled?"inherit":e.emojiThiefEnabled?"on":"off",emojiThiefSeparateFolder:e.emojiThiefSeparateFolder??!0,emojiThiefMaxCount:e.emojiThiefMaxCount??500,emojiThiefStealRate:e.emojiThiefStealRate??1,emojiThiefTriggerRate:e.emojiThiefTriggerRate??.05,emojiThiefTriggerMode:e.emojiThiefTriggerMode||"off",bymReplyLength:e.bymReplyLength||"medium",bymUseEmoji:e.bymUseEmoji??!0,proactiveChatMinMessages:e.proactiveChatMinMessages??5,proactiveChatTimeStart:e.proactiveChatTimeStart??8,proactiveChatTimeEnd:e.proactiveChatTimeEnd??23,chatContextLength:e.chatContextLength??20,chatStreamReply:e.chatStreamReply??!0,chatQuoteReply:e.chatQuoteReply??!1,chatShowThinking:e.chatShowThinking??!0,listMode:e.listMode||"none",blacklist:e.blacklist||[],whitelist:e.whitelist||[],summaryPushEnabled:e.summaryPushEnabled??!1,summaryPushIntervalType:e.summaryPushIntervalType||"day",summaryPushIntervalValue:e.summaryPushIntervalValue??1,summaryPushHour:e.summaryPushHour??20,summaryPushMessageCount:e.summaryPushMessageCount??100,independentChannels:e.independentChannels||[],forbidGlobalModel:e.forbidGlobalModel||!1,dailyGroupLimit:e.usageLimit?.dailyGroupLimit||0,dailyUserLimit:e.usageLimit?.dailyUserLimit||0,usageLimitMessage:e.usageLimit?.limitMessage||"",knowledgeIds:l.knowledgeIds||[]})}}}catch(e){console.error("åŠ è½½æ•°æ®å¤±è´¥",e),b.toast.error("åŠ è½½æ•°æ®å¤±è´¥")}finally{W(!1)}},eT=async()=>{if(!eN.groupId)return void b.toast.error("è¯·å¡«å†™ç¾¤å·");ee(!0);try{await A.scopeApi.updateGroup(eN.groupId,{groupName:eN.groupName,presetId:eN.presetId||void 0,systemPrompt:eN.systemPrompt||void 0,enabled:eN.enabled,knowledgeIds:eN.knowledgeIds.length>0?eN.knowledgeIds:void 0,triggerMode:eN.triggerMode,customPrefix:eN.customPrefix||void 0,chatModel:eN.chatModel||void 0,summaryModel:eN.summaryModel||void 0,bymModel:eN.bymModel||void 0,imageGenModel:eN.imageGenModel||void 0,toolsEnabled:"inherit"===eN.toolsEnabled?void 0:"on"===eN.toolsEnabled,imageGenEnabled:"inherit"===eN.imageGenEnabled?void 0:"on"===eN.imageGenEnabled,summaryEnabled:"inherit"===eN.summaryEnabled?void 0:"on"===eN.summaryEnabled,eventEnabled:"inherit"===eN.eventEnabled?void 0:"on"===eN.eventEnabled,bymEnabled:"inherit"===eN.bymEnabled?void 0:"on"===eN.bymEnabled,bymPresetId:eN.bymPresetId||void 0,bymPrompt:eN.bymPrompt||void 0,bymProbability:"inherit"===eN.bymProbability?void 0:eN.bymProbability,bymTemperature:"inherit"===eN.bymTemperature?void 0:eN.bymTemperature,bymMaxTokens:"inherit"===eN.bymMaxTokens?void 0:eN.bymMaxTokens,proactiveChatEnabled:"inherit"===eN.proactiveChatEnabled?void 0:"on"===eN.proactiveChatEnabled,proactiveChatProbability:"inherit"===eN.proactiveChatProbability?void 0:eN.proactiveChatProbability,proactiveChatCooldown:"inherit"===eN.proactiveChatCooldown?void 0:eN.proactiveChatCooldown,proactiveChatMaxDaily:"inherit"===eN.proactiveChatMaxDaily?void 0:eN.proactiveChatMaxDaily,welcomeEnabled:"inherit"===eN.welcomeEnabled?void 0:"on"===eN.welcomeEnabled,welcomeMessage:eN.welcomeMessage||void 0,welcomePrompt:eN.welcomePrompt||void 0,welcomeProbability:"inherit"===eN.welcomeProbability?void 0:eN.welcomeProbability,goodbyeEnabled:"inherit"===eN.goodbyeEnabled?void 0:"on"===eN.goodbyeEnabled,goodbyePrompt:eN.goodbyePrompt||void 0,goodbyeProbability:"inherit"===eN.goodbyeProbability?void 0:eN.goodbyeProbability,pokeEnabled:"inherit"===eN.pokeEnabled?void 0:"on"===eN.pokeEnabled,pokeBack:eN.pokeBack,pokeProbability:"inherit"===eN.pokeProbability?void 0:eN.pokeProbability,recallEnabled:"inherit"===eN.recallEnabled?void 0:"on"===eN.recallEnabled,recallProbability:"inherit"===eN.recallProbability?void 0:eN.recallProbability,banEnabled:"inherit"===eN.banEnabled?void 0:"on"===eN.banEnabled,banProbability:"inherit"===eN.banProbability?void 0:eN.banProbability,luckyKingEnabled:"inherit"===eN.luckyKingEnabled?void 0:"on"===eN.luckyKingEnabled,luckyKingProbability:"inherit"===eN.luckyKingProbability?void 0:eN.luckyKingProbability,honorEnabled:"inherit"===eN.honorEnabled?void 0:"on"===eN.honorEnabled,honorProbability:"inherit"===eN.honorProbability?void 0:eN.honorProbability,essenceEnabled:"inherit"===eN.essenceEnabled?void 0:"on"===eN.essenceEnabled,essenceProbability:"inherit"===eN.essenceProbability?void 0:eN.essenceProbability,adminEnabled:"inherit"===eN.adminEnabled?void 0:"on"===eN.adminEnabled,adminProbability:"inherit"===eN.adminProbability?void 0:eN.adminProbability,emojiThiefEnabled:"inherit"===eN.emojiThiefEnabled?void 0:"on"===eN.emojiThiefEnabled,emojiThiefSeparateFolder:eN.emojiThiefSeparateFolder,emojiThiefMaxCount:eN.emojiThiefMaxCount,emojiThiefStealRate:eN.emojiThiefStealRate,emojiThiefTriggerRate:eN.emojiThiefTriggerRate,emojiThiefTriggerMode:eN.emojiThiefTriggerMode,bymReplyLength:eN.bymReplyLength,bymUseEmoji:eN.bymUseEmoji,proactiveChatMinMessages:eN.proactiveChatMinMessages,proactiveChatTimeStart:eN.proactiveChatTimeStart,proactiveChatTimeEnd:eN.proactiveChatTimeEnd,chatContextLength:eN.chatContextLength,chatStreamReply:eN.chatStreamReply,chatQuoteReply:eN.chatQuoteReply,chatShowThinking:eN.chatShowThinking,listMode:"none"!==eN.listMode?eN.listMode:void 0,blacklist:eN.blacklist.length>0?eN.blacklist:void 0,whitelist:eN.whitelist.length>0?eN.whitelist:void 0,summaryPushEnabled:eN.summaryPushEnabled,summaryPushIntervalType:eN.summaryPushIntervalType,summaryPushIntervalValue:eN.summaryPushIntervalValue,summaryPushHour:eN.summaryPushHour,summaryPushMessageCount:eN.summaryPushMessageCount,independentChannels:eN.independentChannels.length>0?eN.independentChannels:void 0,forbidGlobalModel:eN.forbidGlobalModel,usageLimit:{dailyGroupLimit:eN.dailyGroupLimit,dailyUserLimit:eN.dailyUserLimit,limitMessage:eN.usageLimitMessage||void 0}}),b.toast.success("ä¿å­˜æˆåŠŸ"),q&&F.push("/groups")}catch(e){console.error("ä¿å­˜å¤±è´¥",e),b.toast.error("ä¿å­˜å¤±è´¥")}finally{ee(!1)}};return J?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(u.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):(0,a.jsxs)("div",{className:"container max-w-4xl px-4 sm:px-6 py-4 sm:py-6 space-y-4 sm:space-y-6 flex-1 h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[(0,a.jsx)(t.Button,{variant:"ghost",size:"icon",className:"shrink-0",onClick:()=>F.push("/groups"),children:(0,a.jsx)(x.ArrowLeft,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:q?"æ·»åŠ ç¾¤ç»„":"ç¼–è¾‘ç¾¤ç»„"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:q?"é…ç½®æ–°ç¾¤ç»„çš„ä¸ªæ€§åŒ–è®¾ç½®":`ç¾¤å·: ${eN.groupId}`})]})]}),(0,a.jsxs)(t.Button,{onClick:eT,disabled:Y,size:"sm",className:"shrink-0",children:[Y?(0,a.jsx)(u.Loader2,{className:"h-4 w-4 sm:mr-2 animate-spin"}):(0,a.jsx)(p.Save,{className:"h-4 w-4 sm:mr-2"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"ä¿å­˜"})]})]}),(0,a.jsxs)(m.Tabs,{defaultValue:"basic",className:"space-y-4",children:[(0,a.jsxs)(m.TabsList,{className:"grid w-full grid-cols-5 h-auto",children:[(0,a.jsxs)(m.TabsTrigger,{value:"basic",className:"text-xs sm:text-sm px-1 sm:px-3 py-2",children:[(0,a.jsx)(g.Settings,{className:"h-4 w-4 sm:mr-1"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"åŸºç¡€"})]}),(0,a.jsxs)(m.TabsTrigger,{value:"features",className:"text-xs sm:text-sm px-1 sm:px-3 py-2",children:[(0,a.jsx)(y.Zap,{className:"h-4 w-4 sm:mr-1"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"åŠŸèƒ½"})]}),(0,a.jsxs)(m.TabsTrigger,{value:"bym",className:"text-xs sm:text-sm px-1 sm:px-3 py-2",children:[(0,a.jsx)(k.Smile,{className:"h-4 w-4 sm:mr-1"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"ä¼ªäºº"})]}),(0,a.jsxs)(m.TabsTrigger,{value:"channel",className:"text-xs sm:text-sm px-1 sm:px-3 py-2",children:[(0,a.jsx)(I.Server,{className:"h-4 w-4 sm:mr-1"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"æ¸ é“"})]}),(0,a.jsxs)(m.TabsTrigger,{value:"advanced",className:"text-xs sm:text-sm px-1 sm:px-3 py-2",children:[(0,a.jsx)(j.Sparkles,{className:"h-4 w-4 sm:mr-1"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"é«˜çº§"})]})]}),(0,a.jsxs)(m.TabsContent,{value:"basic",className:"space-y-4",children:[(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(T.Users,{className:"h-4 w-4"}),"åŸºæœ¬ä¿¡æ¯"]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"ç¾¤å· *"}),(0,a.jsx)(n.Input,{value:eN.groupId,onChange:e=>eP({...eN,groupId:e.target.value}),placeholder:"è¾“å…¥ç¾¤å·",disabled:!q})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"ç¾¤åç§°"}),(0,a.jsx)(n.Input,{value:eN.groupName,onChange:e=>eP({...eN,groupName:e.target.value}),placeholder:"ç¾¤åç§°ï¼ˆå¯é€‰ï¼‰"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(C.Power,{className:"h-4 w-4 text-green-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"å¯ç”¨æœ¬ç¾¤"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"å…³é—­åæœºå™¨äººå°†ä¸å“åº”æœ¬ç¾¤æ¶ˆæ¯"})]})]}),(0,a.jsx)(o.Switch,{checked:eN.enabled,onCheckedChange:e=>eP({...eN,enabled:e})})]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(P.MessageSquare,{className:"h-4 w-4"}),"è§¦å‘è®¾ç½®"]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"è§¦å‘æ¨¡å¼"}),(0,a.jsxs)(h.Select,{value:eN.triggerMode,onValueChange:e=>eP({...eN,triggerMode:e}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"default",children:"é»˜è®¤ï¼ˆ@æˆ–å‰ç¼€ï¼‰"}),(0,a.jsx)(h.SelectItem,{value:"at",children:"ä»…@è§¦å‘"}),(0,a.jsx)(h.SelectItem,{value:"prefix",children:"ä»…å‰ç¼€è§¦å‘"}),(0,a.jsx)(h.SelectItem,{value:"all",children:"æ‰€æœ‰æ¶ˆæ¯è§¦å‘"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"è‡ªå®šä¹‰å‰ç¼€"}),(0,a.jsx)(n.Input,{value:eN.customPrefix,onChange:e=>eP({...eN,customPrefix:e.target.value}),placeholder:"ç•™ç©ºä½¿ç”¨å…¨å±€å‰ç¼€"})]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(v.BookOpen,{className:"h-4 w-4"}),"äººè®¾ä¸é¢„è®¾"]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"é€‰æ‹©é¢„è®¾"}),(0,a.jsxs)(h.Select,{value:eN.presetId||"__none__",onValueChange:e=>eP({...eN,presetId:"__none__"===e?"":e}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{placeholder:"ä¸ä½¿ç”¨é¢„è®¾"})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"__none__",children:"ä¸ä½¿ç”¨é¢„è®¾"}),ea.map(e=>(0,a.jsx)(h.SelectItem,{value:e.id,children:e.name},e.id))]})]})]}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)(Z,{label:"å¯¹è¯æ¨¡å‹",value:eN.chatModel,models:et,onChange:e=>eP({...eN,chatModel:e}),placeholder:"ä½¿ç”¨å…¨å±€"})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"ç³»ç»Ÿæç¤ºè¯"}),(0,a.jsx)(c.Textarea,{value:eN.systemPrompt,onChange:e=>eP({...eN,systemPrompt:e.target.value}),placeholder:"ç•™ç©ºä½¿ç”¨é¢„è®¾æˆ–å…¨å±€æç¤ºè¯",rows:3})]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(P.MessageSquare,{className:"h-4 w-4"}),"èŠå¤©é…ç½®"]})}),(0,a.jsx)(i.CardContent,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,a.jsx)(X,{label:"ä¸Šä¸‹æ–‡é•¿åº¦",min:1,max:100,value:eN.chatContextLength,onChange:e=>eP({...eN,chatContextLength:parseInt(e.target.value)||20})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"æµå¼å›å¤"}),(0,a.jsx)(o.Switch,{checked:eN.chatStreamReply,onCheckedChange:e=>eP({...eN,chatStreamReply:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"å¼•ç”¨å›å¤"}),(0,a.jsx)(o.Switch,{checked:eN.chatQuoteReply,onCheckedChange:e=>eP({...eN,chatQuoteReply:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"æ˜¾ç¤ºæ€è€ƒ"}),(0,a.jsx)(o.Switch,{checked:eN.chatShowThinking,onCheckedChange:e=>eP({...eN,chatShowThinking:e})})]})]})})]})]}),(0,a.jsxs)(m.TabsContent,{value:"features",className:"space-y-4",children:[(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{className:"text-base",children:"åŠŸèƒ½å¼€å…³"})}),(0,a.jsxs)(i.CardContent,{className:"space-y-3",children:[(0,a.jsx)(Q,{icon:(0,a.jsx)(y.Zap,{className:"h-4 w-4 text-yellow-500"}),title:"å·¥å…·è°ƒç”¨",desc:"å…è®¸AIè°ƒç”¨å¤–éƒ¨å·¥å…·",value:eN.toolsEnabled,onChange:e=>eP({...eN,toolsEnabled:e})}),(0,a.jsx)(Q,{icon:(0,a.jsx)(N.Image,{className:"h-4 w-4 text-pink-500"}),title:"ç»˜å›¾åŠŸèƒ½",desc:"æ–‡ç”Ÿå›¾ã€å›¾ç”Ÿå›¾ç­‰",value:eN.imageGenEnabled,onChange:e=>eP({...eN,imageGenEnabled:e})}),"on"===eN.imageGenEnabled&&(0,a.jsx)("div",{className:"ml-12 p-3 rounded-lg bg-muted/50 space-y-2",children:(0,a.jsx)(Z,{label:"ç»˜å›¾æ¨¡å‹",value:eN.imageGenModel,models:et.filter(e=>e.includes("dall")||e.includes("flux")||e.includes("image")),onChange:e=>eP({...eN,imageGenModel:e}),placeholder:"ç»§æ‰¿å…¨å±€"})}),(0,a.jsx)(Q,{icon:(0,a.jsx)(v.BookOpen,{className:"h-4 w-4 text-blue-500"}),title:"ç¾¤èŠæ€»ç»“",desc:"è‡ªåŠ¨æ€»ç»“ç¾¤èŠå†…å®¹",value:eN.summaryEnabled,onChange:e=>eP({...eN,summaryEnabled:e})}),"on"===eN.summaryEnabled&&(0,a.jsxs)("div",{className:"ml-12 p-3 rounded-lg bg-muted/50 space-y-3",children:[(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)(Z,{label:"æ€»ç»“æ¨¡å‹",value:eN.summaryModel,models:et,onChange:e=>eP({...eN,summaryModel:e}),placeholder:"ç»§æ‰¿å…¨å±€"})}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"å®šæ—¶æ¨é€"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"è‡ªåŠ¨å®šæ—¶æ¨é€ç¾¤èŠæ€»ç»“"})]}),(0,a.jsx)(o.Switch,{checked:eN.summaryPushEnabled,onCheckedChange:e=>eP({...eN,summaryPushEnabled:e})})]}),eN.summaryPushEnabled&&(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"é—´éš”ç±»å‹"}),(0,a.jsxs)(h.Select,{value:eN.summaryPushIntervalType,onValueChange:e=>eP({...eN,summaryPushIntervalType:e}),children:[(0,a.jsx)(h.SelectTrigger,{className:"h-9",children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"hour",children:"æ¯Xå°æ—¶"}),(0,a.jsx)(h.SelectItem,{value:"day",children:"æ¯Xå¤©"})]})]})]}),(0,a.jsx)(X,{label:"é—´éš”å€¼",min:1,value:eN.summaryPushIntervalValue,onChange:e=>eP({...eN,summaryPushIntervalValue:parseInt(e.target.value)||1})}),"day"===eN.summaryPushIntervalType&&(0,a.jsx)(X,{label:"æ¨é€æ—¶é—´(ç‚¹)",min:0,max:23,value:eN.summaryPushHour,onChange:e=>eP({...eN,summaryPushHour:parseInt(e.target.value)||20})}),(0,a.jsx)(X,{label:"æ¶ˆæ¯æ•°é‡",min:10,value:eN.summaryPushMessageCount,onChange:e=>eP({...eN,summaryPushMessageCount:parseInt(e.target.value)||100})})]})]}),(0,a.jsx)(Q,{icon:(0,a.jsx)(j.Sparkles,{className:"h-4 w-4 text-purple-500"}),title:"äº‹ä»¶å“åº”",desc:"å…¥ç¾¤ã€é€€ç¾¤ã€æˆ³ä¸€æˆ³ç­‰ï¼ˆå¼€å¯ååœ¨ä¸‹æ–¹é…ç½®è¯¦æƒ…ï¼‰",value:eN.eventEnabled,onChange:e=>eP({...eN,eventEnabled:e})}),(0,a.jsx)(Q,{icon:(0,a.jsx)(V.Palette,{className:"h-4 w-4 text-cyan-500"}),title:"è¡¨æƒ…åŒ…å°å·",desc:"è‡ªåŠ¨æ”¶é›†å’Œå‘é€è¡¨æƒ…åŒ…",value:eN.emojiThiefEnabled,onChange:e=>eP({...eN,emojiThiefEnabled:e})}),"on"===eN.emojiThiefEnabled&&(0,a.jsxs)("div",{className:"ml-12 p-4 rounded-lg bg-muted/30 border space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(r.Label,{className:"text-sm font-medium",children:"ç‹¬ç«‹å­˜å‚¨"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"æœ¬ç¾¤è¡¨æƒ…åŒ…ç‹¬ç«‹å­˜å‚¨ï¼Œä¸ä¸å…¶ä»–ç¾¤å…±äº«"})]}),(0,a.jsx)(o.Switch,{checked:eN.emojiThiefSeparateFolder,onCheckedChange:e=>eP({...eN,emojiThiefSeparateFolder:e})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(X,{label:"æœ€å¤§æ”¶é›†æ•°",min:10,max:5e3,value:eN.emojiThiefMaxCount,onChange:e=>eP({...eN,emojiThiefMaxCount:parseInt(e.target.value)||500})}),(0,a.jsx)("div",{className:"flex items-end h-full pb-1",children:(0,a.jsx)(O,{label:"æ”¶é›†æ¦‚ç‡",value:eN.emojiThiefStealRate,onChange:e=>eP({...eN,emojiThiefStealRate:e}),className:"w-full"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"éšæœºå‘å›¾æ¨¡å¼"}),(0,a.jsxs)(h.Select,{value:eN.emojiThiefTriggerMode,onValueChange:e=>eP({...eN,emojiThiefTriggerMode:e}),children:[(0,a.jsx)(h.SelectTrigger,{className:"h-9",children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"off",children:"å…³é—­è‡ªåŠ¨å‘é€"}),(0,a.jsx)(h.SelectItem,{value:"chat_follow",children:"å¯¹è¯è·Ÿéš"}),(0,a.jsx)(h.SelectItem,{value:"chat_random",children:"å¯¹è¯éšæœº"}),(0,a.jsx)(h.SelectItem,{value:"bym_follow",children:"ä¼ªäººè·Ÿéš"}),(0,a.jsx)(h.SelectItem,{value:"bym_random",children:"ä¼ªäººéšæœº"})]})]})]}),(0,a.jsx)("div",{className:"flex items-end h-full pb-1",children:(0,a.jsx)(O,{label:"å‘é€æ¦‚ç‡",value:eN.emojiThiefTriggerRate,onChange:e=>eP({...eN,emojiThiefTriggerRate:e}),disabled:"off"===eN.emojiThiefTriggerMode||"chat_follow"===eN.emojiThiefTriggerMode||"bym_follow"===eN.emojiThiefTriggerMode,className:"w-full"})})]}),(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground bg-muted/50 p-2 rounded",children:"ğŸ’¡ è§¦å‘æ¨¡å¼100%å‘é€ï¼Œéšæœºæ¨¡å¼æŒ‰æ¦‚ç‡å‘é€ã€‚"})]})]})]}),"off"!==eN.eventEnabled&&(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{children:[(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(j.Sparkles,{className:"h-4 w-4"}),"äº‹ä»¶é…ç½®"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"æ¯ä¸ªäº‹ä»¶å¯ç‹¬ç«‹é…ç½®å“åº”æ¦‚ç‡ï¼Œå¼€å¯åé»˜è®¤100%"})]}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)($,{icon:(0,a.jsx)(S.UserPlus,{className:"h-4 w-4 text-green-500"}),title:"å…¥ç¾¤æ¬¢è¿",enabled:eN.welcomeEnabled,onEnabledChange:e=>{let a={welcomeEnabled:e};"on"===e&&"inherit"===eN.welcomeProbability&&(a.welcomeProbability=1),eP({...eN,...a})},probability:eN.welcomeProbability,onProbabilityChange:e=>eP({...eN,welcomeProbability:e}),children:[(0,a.jsx)(n.Input,{value:eN.welcomeMessage,onChange:e=>eP({...eN,welcomeMessage:e.target.value}),placeholder:"å›ºå®šæ¬¢è¿è¯­ï¼ˆç•™ç©ºä½¿ç”¨AIç”Ÿæˆï¼‰",className:"h-8 text-sm"}),(0,a.jsx)(c.Textarea,{value:eN.welcomePrompt,onChange:e=>eP({...eN,welcomePrompt:e.target.value}),placeholder:"AIæ¬¢è¿æç¤ºè¯",rows:2,className:"text-sm"})]}),(0,a.jsx)($,{icon:(0,a.jsx)(M.UserMinus,{className:"h-4 w-4 text-red-500"}),title:"é€€ç¾¤å‘Šåˆ«",enabled:eN.goodbyeEnabled,onEnabledChange:e=>{let a={goodbyeEnabled:e};"on"===e&&"inherit"===eN.goodbyeProbability&&(a.goodbyeProbability=1),eP({...eN,...a})},probability:eN.goodbyeProbability,onProbabilityChange:e=>eP({...eN,goodbyeProbability:e}),children:(0,a.jsx)(c.Textarea,{value:eN.goodbyePrompt,onChange:e=>eP({...eN,goodbyePrompt:e.target.value}),placeholder:"AIå‘Šåˆ«æç¤ºè¯",rows:2,className:"text-sm"})}),(0,a.jsx)($,{icon:(0,a.jsx)(U,{className:"h-4 w-4 text-orange-500"}),title:"æˆ³ä¸€æˆ³",enabled:eN.pokeEnabled,onEnabledChange:e=>{let a={pokeEnabled:e};"on"===e&&"inherit"===eN.pokeProbability&&(a.pokeProbability=1),eP({...eN,...a})},probability:eN.pokeProbability,onProbabilityChange:e=>eP({...eN,pokeProbability:e}),children:(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"æˆ³å›å»"}),(0,a.jsx)(o.Switch,{checked:eN.pokeBack,onCheckedChange:e=>eP({...eN,pokeBack:e})})]})}),(0,a.jsx)($,{icon:(0,a.jsx)("span",{className:"text-sm",children:"ğŸ”„"}),title:"æ’¤å›å“åº”",enabled:eN.recallEnabled,onEnabledChange:e=>{let a={recallEnabled:e};"on"===e&&"inherit"===eN.recallProbability&&(a.recallProbability=1),eP({...eN,...a})},probability:eN.recallProbability,onProbabilityChange:e=>eP({...eN,recallProbability:e})}),(0,a.jsx)($,{icon:(0,a.jsx)("span",{className:"text-sm",children:"ğŸ”‡"}),title:"ç¦è¨€å“åº”",enabled:eN.banEnabled,onEnabledChange:e=>{let a={banEnabled:e};"on"===e&&"inherit"===eN.banProbability&&(a.banProbability=1),eP({...eN,...a})},probability:eN.banProbability,onProbabilityChange:e=>eP({...eN,banProbability:e})}),(0,a.jsx)($,{icon:(0,a.jsx)("span",{className:"text-sm",children:"ğŸ§§"}),title:"è¿æ°”ç‹å“åº”",enabled:eN.luckyKingEnabled,onEnabledChange:e=>{let a={luckyKingEnabled:e};"on"===e&&"inherit"===eN.luckyKingProbability&&(a.luckyKingProbability=1),eP({...eN,...a})},probability:eN.luckyKingProbability,onProbabilityChange:e=>eP({...eN,luckyKingProbability:e})}),(0,a.jsx)($,{icon:(0,a.jsx)("span",{className:"text-sm",children:"ğŸ†"}),title:"è£èª‰å˜æ›´",enabled:eN.honorEnabled,onEnabledChange:e=>{let a={honorEnabled:e};"on"===e&&"inherit"===eN.honorProbability&&(a.honorProbability=1),eP({...eN,...a})},probability:eN.honorProbability,onProbabilityChange:e=>eP({...eN,honorProbability:e})}),(0,a.jsx)($,{icon:(0,a.jsx)("span",{className:"text-sm",children:"â­"}),title:"ç²¾åæ¶ˆæ¯",enabled:eN.essenceEnabled,onEnabledChange:e=>{let a={essenceEnabled:e};"on"===e&&"inherit"===eN.essenceProbability&&(a.essenceProbability=1),eP({...eN,...a})},probability:eN.essenceProbability,onProbabilityChange:e=>eP({...eN,essenceProbability:e})}),(0,a.jsx)($,{icon:(0,a.jsx)("span",{className:"text-sm",children:"ğŸ‘‘"}),title:"ç®¡ç†å‘˜å˜æ›´",enabled:eN.adminEnabled,onEnabledChange:e=>{let a={adminEnabled:e};"on"===e&&"inherit"===eN.adminProbability&&(a.adminProbability=1),eP({...eN,...a})},probability:eN.adminProbability,onProbabilityChange:e=>eP({...eN,adminProbability:e})})]})]})]}),(0,a.jsx)(m.TabsContent,{value:"bym",className:"space-y-4",children:(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{children:[(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(k.Smile,{className:"h-4 w-4"}),"ä¼ªäººæ¨¡å¼"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"æ¨¡æ‹ŸçœŸäººèŠå¤©é£æ ¼ï¼Œéšæœºå‚ä¸ç¾¤èŠ"})]}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsx)(Q,{icon:(0,a.jsx)(k.Smile,{className:"h-4 w-4 text-orange-500"}),title:"å¯ç”¨ä¼ªäºº",desc:"å¼€å¯åæœºå™¨äººä¼šéšæœºå›å¤ç¾¤æ¶ˆæ¯",value:eN.bymEnabled,onChange:e=>eP({...eN,bymEnabled:e})}),"off"!==eN.bymEnabled&&(0,a.jsxs)("div",{className:"space-y-4 ml-4 pl-4 border-l-2 border-muted",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"ä¼ªäººé¢„è®¾"}),(0,a.jsxs)(h.Select,{value:eN.bymPresetId||"__none__",onValueChange:e=>eP({...eN,bymPresetId:"__none__"===e?"":e}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{placeholder:"ä¸ä½¿ç”¨é¢„è®¾"})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"__none__",children:"ä¸ä½¿ç”¨é¢„è®¾"}),ea.map(e=>(0,a.jsx)(h.SelectItem,{value:e.id,children:e.name},e.id))]})]})]}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)(Z,{label:"ä¼ªäººæ¨¡å‹",value:eN.bymModel,models:et,onChange:e=>eP({...eN,bymModel:e}),placeholder:"ä½¿ç”¨å…¨å±€"})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"ä¼ªäººæç¤ºè¯"}),(0,a.jsx)(c.Textarea,{value:eN.bymPrompt,onChange:e=>eP({...eN,bymPrompt:e.target.value}),placeholder:"è‡ªå®šä¹‰ä¼ªäººäººè®¾ï¼ˆç•™ç©ºä½¿ç”¨é¢„è®¾æˆ–å…¨å±€ï¼‰",rows:2})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"å›å¤æ¦‚ç‡"}),(0,a.jsx)(t.Button,{variant:"ghost",size:"sm",className:"h-4 text-[10px] px-1",onClick:()=>eP({...eN,bymProbability:"inherit"===eN.bymProbability?.02:"inherit"}),children:"inherit"===eN.bymProbability?"ç»§æ‰¿":"è‡ªå®šä¹‰"})]}),"inherit"!==eN.bymProbability&&(0,a.jsx)(O,{label:"",value:eN.bymProbability,onChange:e=>eP({...eN,bymProbability:e}),className:"pt-1"}),"inherit"===eN.bymProbability&&(0,a.jsx)("div",{className:"text-xs text-muted-foreground h-8 flex items-center",children:"ä½¿ç”¨å…¨å±€è®¾ç½®"})]}),(0,a.jsx)(X,{label:"æ¸©åº¦",min:0,max:2,step:.1,value:"inherit"===eN.bymTemperature?"":eN.bymTemperature,onChange:e=>eP({...eN,bymTemperature:""===e.target.value?"inherit":Number(e.target.value)}),placeholder:"ç»§æ‰¿"}),(0,a.jsx)(X,{label:"æœ€å¤§Token",min:0,value:"inherit"===eN.bymMaxTokens?"":eN.bymMaxTokens,onChange:e=>eP({...eN,bymMaxTokens:""===e.target.value?"inherit":Number(e.target.value)}),placeholder:"ç»§æ‰¿"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"å›å¤é•¿åº¦"}),(0,a.jsxs)(h.Select,{value:eN.bymReplyLength,onValueChange:e=>eP({...eN,bymReplyLength:e}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"short",children:"ç®€çŸ­"}),(0,a.jsx)(h.SelectItem,{value:"medium",children:"é€‚ä¸­"}),(0,a.jsx)(h.SelectItem,{value:"long",children:"è¯¦ç»†"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.Label,{className:"text-sm",children:"ä½¿ç”¨è¡¨æƒ…"}),(0,a.jsx)(o.Switch,{checked:eN.bymUseEmoji,onCheckedChange:e=>eP({...eN,bymUseEmoji:e})})]})]}),(0,a.jsx)(Q,{icon:(0,a.jsx)(w.Clock,{className:"h-4 w-4 text-blue-500"}),title:"ä¸»åŠ¨å‘è¨€",desc:"æ ¹æ®ç¾¤èŠå†…å®¹ä¸»åŠ¨å‚ä¸è®¨è®º",value:eN.proactiveChatEnabled,onChange:e=>eP({...eN,proactiveChatEnabled:e})}),"off"!==eN.proactiveChatEnabled&&(0,a.jsxs)("div",{className:"space-y-3 ml-4 pl-4 border-l-2 border-muted",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"è§¦å‘æ¦‚ç‡"}),(0,a.jsx)(t.Button,{variant:"ghost",size:"sm",className:"h-6 text-xs px-2",onClick:()=>eP({...eN,proactiveChatProbability:"inherit"===eN.proactiveChatProbability?.05:"inherit"}),children:"inherit"===eN.proactiveChatProbability?"ç»§æ‰¿":"è‡ªå®šä¹‰"})]}),"inherit"!==eN.proactiveChatProbability&&(0,a.jsx)(O,{label:"",value:eN.proactiveChatProbability,onChange:e=>eP({...eN,proactiveChatProbability:e}),className:"pt-1"})]}),(0,a.jsx)(X,{label:"å†·å´æ—¶é—´(ç§’)",min:0,value:"inherit"===eN.proactiveChatCooldown?"":eN.proactiveChatCooldown,onChange:e=>eP({...eN,proactiveChatCooldown:""===e.target.value?"inherit":Number(e.target.value)}),placeholder:"ç»§æ‰¿"}),(0,a.jsx)(X,{label:"æ¯æ—¥ä¸Šé™",min:0,value:"inherit"===eN.proactiveChatMaxDaily?"":eN.proactiveChatMaxDaily,onChange:e=>eP({...eN,proactiveChatMaxDaily:""===e.target.value?"inherit":Number(e.target.value)}),placeholder:"ç»§æ‰¿"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3 pt-2 border-t",children:[(0,a.jsx)(X,{label:"æœ€å°‘æ¶ˆæ¯æ•°",min:1,value:eN.proactiveChatMinMessages,onChange:e=>eP({...eN,proactiveChatMinMessages:parseInt(e.target.value)||5})}),(0,a.jsx)(X,{label:"å¼€å§‹æ—¶é—´",min:0,max:23,value:eN.proactiveChatTimeStart,onChange:e=>eP({...eN,proactiveChatTimeStart:parseInt(e.target.value)||8})}),(0,a.jsx)(X,{label:"ç»“æŸæ—¶é—´",min:0,max:23,value:eN.proactiveChatTimeEnd,onChange:e=>eP({...eN,proactiveChatTimeEnd:parseInt(e.target.value)||23})})]})]})]})]})}),(0,a.jsxs)(m.TabsContent,{value:"channel",className:"space-y-4",children:[(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(I.Server,{className:"h-4 w-4"}),"ç¾¤ç‹¬ç«‹æ¸ é“"]}),(0,a.jsxs)(t.Button,{size:"sm",onClick:()=>{ec(null),eh({name:`æ¸ é“${eN.independentChannels.length+1}`,baseUrl:"",apiKey:"",adapterType:"openai",models:"",enabled:!0,priority:eN.independentChannels.length,modelsPath:"",chatPath:"",imageTransferMode:"auto",imageCompress:!0,imageQuality:85,imageMaxSize:4096}),ex(!1),ed(!0)},children:[(0,a.jsx)(_.Plus,{className:"h-4 w-4 mr-1"}),"æ·»åŠ æ¸ é“"]})]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"ä¸ºæœ¬ç¾¤é…ç½®ç‹¬ç«‹çš„APIæ¸ é“ï¼Œæ”¯æŒå¤šä¸ªæ¸ é“å’Œè·å–æ¨¡å‹åˆ—è¡¨"}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-md bg-orange-500/10",children:(0,a.jsx)(I.Server,{className:"h-4 w-4 text-orange-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"å¼ºåˆ¶ä½¿ç”¨æœ¬ç¾¤æ¸ é“"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"å¼€å¯åæœ¬ç¾¤å°†å®Œå…¨éš”ç¦»å…¨å±€æ¨¡å‹ï¼Œä»…ä½¿ç”¨ä¸‹æ–¹ç‹¬ç«‹é…ç½®"})]})]}),(0,a.jsx)(o.Switch,{checked:eN.forbidGlobalModel,onCheckedChange:e=>eP({...eN,forbidGlobalModel:e})})]}),0===eN.independentChannels.length?(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground border rounded-lg border-dashed",children:[(0,a.jsx)(I.Server,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"æš‚æ— ç‹¬ç«‹æ¸ é“"}),(0,a.jsx)("p",{className:"text-xs",children:"ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ·»åŠ æ¸ é“"})]}):(0,a.jsx)("div",{className:"space-y-3",children:eN.independentChannels.map((e,l)=>(0,a.jsx)("div",{className:"p-4 rounded-lg border bg-card",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.name}),(0,a.jsx)(d.Badge,{variant:e.enabled?"default":"secondary",children:e.enabled?"å¯ç”¨":"ç¦ç”¨"}),(0,a.jsx)(d.Badge,{variant:"outline",children:e.adapterType})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:e.baseUrl||"ä½¿ç”¨é»˜è®¤åœ°å€"}),e.models.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.models.slice(0,3).map(e=>(0,a.jsx)(d.Badge,{variant:"outline",className:"text-xs",children:e},e)),e.models.length>3&&(0,a.jsxs)(d.Badge,{variant:"outline",className:"text-xs",children:["+",e.models.length-3]})]})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(t.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{ec(l),eh({name:e.name,baseUrl:e.baseUrl,apiKey:e.apiKey,adapterType:e.adapterType,models:e.models.join(", "),enabled:e.enabled,priority:e.priority,modelsPath:e.modelsPath||"",chatPath:e.chatPath||"",imageTransferMode:e.imageConfig?.transferMode||"auto",imageCompress:e.imageConfig?.compress??!0,imageQuality:e.imageConfig?.quality??85,imageMaxSize:e.imageConfig?.maxSize??4096}),ex(!1),ed(!0)},children:(0,a.jsx)(g.Settings,{className:"h-4 w-4"})}),(0,a.jsx)(t.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>{eP({...eN,independentChannels:eN.independentChannels.filter((e,a)=>a!==l)})},children:(0,a.jsx)(R.Trash2,{className:"h-4 w-4"})})]})]})},e.id))})]})]}),(0,a.jsx)(D.Dialog,{open:er,onOpenChange:ed,children:(0,a.jsxs)(D.DialogContent,{className:"max-w-lg",children:[(0,a.jsx)(D.DialogHeader,{children:(0,a.jsx)(D.DialogTitle,{children:null!==eo?"ç¼–è¾‘æ¸ é“":"æ·»åŠ æ¸ é“"})}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"æ¸ é“åç§°"}),(0,a.jsx)(n.Input,{value:em.name,onChange:e=>eh({...em,name:e.target.value}),placeholder:"æ¸ é“åç§°"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"é€‚é…å™¨ç±»å‹"}),(0,a.jsxs)(h.Select,{value:em.adapterType,onValueChange:e=>eh({...em,adapterType:e}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"openai",children:"OpenAI"}),(0,a.jsx)(h.SelectItem,{value:"azure",children:"Azure"}),(0,a.jsx)(h.SelectItem,{value:"claude",children:"Claude"}),(0,a.jsx)(h.SelectItem,{value:"gemini",children:"Gemini"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"API åœ°å€"}),(0,a.jsx)(n.Input,{value:em.baseUrl,onChange:e=>eh({...em,baseUrl:e.target.value}),placeholder:"https://api.openai.com/v1ï¼ˆç•™ç©ºä½¿ç”¨é»˜è®¤ï¼‰"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"API Key"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.Input,{type:eb?"text":"password",value:em.apiKey,onChange:e=>eh({...em,apiKey:e.target.value}),placeholder:"sk-...",className:"flex-1"}),(0,a.jsx)(t.Button,{type:"button",variant:"outline",size:"icon",onClick:()=>ex(!eb),children:eb?(0,a.jsx)(K.EyeOff,{className:"h-4 w-4"}):(0,a.jsx)(B.Eye,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.Label,{children:"æ¨¡å‹åˆ—è¡¨"}),(0,a.jsxs)(t.Button,{type:"button",variant:"outline",size:"sm",disabled:!em.apiKey||eu,onClick:async()=>{if(!em.apiKey)return void b.toast.error("è¯·å…ˆå¡«å†™ API Key");ep(!0);try{let e=await A.channelsApi.fetchModels({adapterType:em.adapterType,baseUrl:em.baseUrl||"",apiKey:em.apiKey}),a=e?.data?.models||e?.models||[];if(Array.isArray(a)&&a.length>0){let e=a.map(e=>"string"==typeof e?e:e?.id||e?.name).filter(Boolean);ev(e);let l=em.models.split(",").map(e=>e.trim()).filter(Boolean);ef(l.filter(a=>e.includes(a))),ey(!0),b.toast.success(`è·å–åˆ° ${e.length} ä¸ªæ¨¡å‹`)}else b.toast.error("æœªè·å–åˆ°æ¨¡å‹åˆ—è¡¨")}catch(e){b.toast.error(e.response?.data?.message||"è·å–æ¨¡å‹å¤±è´¥")}finally{ep(!1)}},children:[eu?(0,a.jsx)(u.Loader2,{className:"h-4 w-4 mr-1 animate-spin"}):(0,a.jsx)(G.RefreshCw,{className:"h-4 w-4 mr-1"}),"è·å–æ¨¡å‹"]})]}),(0,a.jsx)(c.Textarea,{value:em.models,onChange:e=>eh({...em,models:e.target.value}),placeholder:"æ¨¡å‹åç§°ï¼Œç”¨é€—å·åˆ†éš”ï¼Œå¦‚ï¼šgpt-4, gpt-3.5-turbo",rows:3})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.Label,{children:"å¯ç”¨æ¸ é“"}),(0,a.jsx)(o.Switch,{checked:em.enabled,onCheckedChange:e=>eh({...em,enabled:e})})]}),(0,a.jsxs)("div",{className:"space-y-3 p-3 rounded-lg border bg-muted/30",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"é«˜çº§é…ç½®"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"æ¨¡å‹åˆ—è¡¨è·¯å¾„"}),(0,a.jsx)(n.Input,{value:em.modelsPath,onChange:e=>eh({...em,modelsPath:e.target.value}),placeholder:"/models",className:"h-8 text-xs"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"å¯¹è¯æ¥å£è·¯å¾„"}),(0,a.jsx)(n.Input,{value:em.chatPath,onChange:e=>eh({...em,chatPath:e.target.value}),placeholder:"/chat/completions",className:"h-8 text-xs"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"å›¾ç‰‡ä¼ é€’æ–¹å¼"}),(0,a.jsxs)(h.Select,{value:em.imageTransferMode,onValueChange:e=>eh({...em,imageTransferMode:e}),children:[(0,a.jsx)(h.SelectTrigger,{className:"h-8",children:(0,a.jsx)(h.SelectValue,{})}),(0,a.jsxs)(h.SelectContent,{children:[(0,a.jsx)(h.SelectItem,{value:"auto",children:"è‡ªåŠ¨æ£€æµ‹"}),(0,a.jsx)(h.SelectItem,{value:"base64",children:"Base64ç¼–ç "}),(0,a.jsx)(h.SelectItem,{value:"url",children:"URLé“¾æ¥"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.Label,{className:"text-xs",children:"å‹ç¼©å›¾ç‰‡"}),(0,a.jsx)(o.Switch,{checked:em.imageCompress,onCheckedChange:e=>eh({...em,imageCompress:e})})]})]})]}),(0,a.jsxs)(D.DialogFooter,{children:[(0,a.jsx)(t.Button,{variant:"outline",onClick:()=>ed(!1),children:"å–æ¶ˆ"}),(0,a.jsx)(t.Button,{onClick:()=>{if(!em.name)return void b.toast.error("è¯·å¡«å†™æ¸ é“åç§°");let e={id:null!==eo?eN.independentChannels[eo].id:`ch_${Date.now()}`,name:em.name,baseUrl:em.baseUrl,apiKey:em.apiKey,adapterType:em.adapterType,models:em.models.split(",").map(e=>e.trim()).filter(Boolean),enabled:em.enabled,priority:em.priority,modelsPath:em.modelsPath||void 0,chatPath:em.chatPath||void 0,imageConfig:{transferMode:em.imageTransferMode,compress:em.imageCompress,quality:em.imageQuality,maxSize:em.imageMaxSize}};if(null!==eo){let a=[...eN.independentChannels];a[eo]=e,eP({...eN,independentChannels:a})}else eP({...eN,independentChannels:[...eN.independentChannels,e]});ed(!1),b.toast.success(null!==eo?"æ¸ é“å·²æ›´æ–°":"æ¸ é“å·²æ·»åŠ ")},children:null!==eo?"æ›´æ–°":"æ·»åŠ "})]})]})}),(0,a.jsx)(D.Dialog,{open:eg,onOpenChange:ey,children:(0,a.jsxs)(D.DialogContent,{className:"max-w-md",children:[(0,a.jsx)(D.DialogHeader,{children:(0,a.jsx)(D.DialogTitle,{children:"é€‰æ‹©æ¨¡å‹"})}),(0,a.jsx)(H.ScrollArea,{className:"h-[300px] pr-4",children:(0,a.jsx)("div",{className:"space-y-2",children:ej.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(z.Checkbox,{id:e,checked:eC.includes(e),onCheckedChange:a=>{a?ef([...eC,e]):ef(eC.filter(a=>a!==e))}}),(0,a.jsx)("label",{htmlFor:e,className:"text-sm cursor-pointer flex-1",children:e})]},e))})}),(0,a.jsxs)(D.DialogFooter,{children:[(0,a.jsx)(t.Button,{variant:"outline",onClick:()=>ef(ej),children:"å…¨é€‰"}),(0,a.jsx)(t.Button,{variant:"outline",onClick:()=>ef([]),children:"æ¸…ç©º"}),(0,a.jsxs)(t.Button,{onClick:()=>{eh({...em,models:eC.join(", ")}),ey(!1)},children:["ç¡®è®¤ (",eC.length,")"]})]})]})}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(L.Gauge,{className:"h-4 w-4"}),"ä½¿ç”¨é™åˆ¶"]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"è®¾ç½®æœ¬ç¾¤æ¯æ—¥ä½¿ç”¨æ¬¡æ•°é™åˆ¶ï¼ˆ0è¡¨ç¤ºæ— é™åˆ¶ï¼‰"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"ç¾¤æ¯æ—¥é™åˆ¶"}),(0,a.jsx)(n.Input,{type:"number",min:0,value:eN.dailyGroupLimit,onChange:e=>eP({...eN,dailyGroupLimit:parseInt(e.target.value)||0}),placeholder:"0 = æ— é™åˆ¶"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"ç”¨æˆ·æ¯æ—¥é™åˆ¶"}),(0,a.jsx)(n.Input,{type:"number",min:0,value:eN.dailyUserLimit,onChange:e=>eP({...eN,dailyUserLimit:parseInt(e.target.value)||0}),placeholder:"0 = æ— é™åˆ¶"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"è¾¾åˆ°é™åˆ¶æ—¶çš„æç¤º"}),(0,a.jsx)(c.Textarea,{value:eN.usageLimitMessage,onChange:e=>eP({...eN,usageLimitMessage:e.target.value}),placeholder:"ä»Šæ—¥ä½¿ç”¨æ¬¡æ•°å·²è¾¾ä¸Šé™ï¼Œè¯·æ˜å¤©å†è¯•",rows:2})]})]})]})]}),(0,a.jsxs)(m.TabsContent,{value:"advanced",className:"space-y-4",children:[(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(E.Bot,{className:"h-4 w-4"}),"æ¨¡å‹é…ç½®"]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"ä¸ºæœ¬ç¾¤é…ç½®å„åœºæ™¯ç‹¬ç«‹æ¨¡å‹ï¼ˆç•™ç©ºä½¿ç”¨å…¨å±€é…ç½®ï¼‰"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(Z,{label:"å¯¹è¯æ¨¡å‹",value:eN.chatModel,models:et,onChange:e=>eP({...eN,chatModel:e})}),(0,a.jsx)(Z,{label:"æ€»ç»“æ¨¡å‹",value:eN.summaryModel,models:et,onChange:e=>eP({...eN,summaryModel:e})}),(0,a.jsx)(Z,{label:"ä¼ªäººæ¨¡å‹",value:eN.bymModel,models:et,onChange:e=>eP({...eN,bymModel:e})}),(0,a.jsx)(Z,{label:"ç»˜å›¾æ¨¡å‹",value:eN.imageGenModel,models:et,onChange:e=>eP({...eN,imageGenModel:e})})]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(v.BookOpen,{className:"h-4 w-4"}),"ç¾¤ç»„çŸ¥è¯†åº“"]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"ä¸ºæœ¬ç¾¤é…ç½®ä¸“å±çŸ¥è¯†åº“"}),eN.knowledgeIds.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:eN.knowledgeIds.map(e=>{let l=es.find(a=>a.id===e);return(0,a.jsxs)(d.Badge,{variant:"secondary",className:"gap-1",children:[l?.name||e,(0,a.jsx)("button",{onClick:()=>eP({...eN,knowledgeIds:eN.knowledgeIds.filter(a=>a!==e)}),children:(0,a.jsx)(f.X,{className:"h-3 w-3"})})]},e)})}),(0,a.jsxs)(h.Select,{value:"",onValueChange:e=>e&&!eN.knowledgeIds.includes(e)&&eP({...eN,knowledgeIds:[...eN.knowledgeIds,e]}),children:[(0,a.jsx)(h.SelectTrigger,{children:(0,a.jsx)(h.SelectValue,{placeholder:"æ·»åŠ çŸ¥è¯†åº“..."})}),(0,a.jsx)(h.SelectContent,{children:es.filter(e=>!eN.knowledgeIds.includes(e.id)).map(e=>(0,a.jsx)(h.SelectItem,{value:e.id,children:e.name},e.id))})]})]})]})]})]})]})}e.s(["GroupEditor",()=>J],5945)}]);