(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43698,e=>{"use strict";var a=e.i(52542),s=e.i(40418),l=e.i(51200),i=e.i(72029),t=e.i(30243),n=e.i(99573),r=e.i(13107),c=e.i(20308),d=e.i(20650),o=e.i(81080),m=e.i(47686),h=e.i(84519),x=e.i(10201),b=e.i(79342),u=e.i(60381),j=e.i(89908),p=e.i(5850),g=e.i(40204),y=e.i(96173),v=e.i(15204),N=e.i(63959),f=e.i(97058),S=e.i(98858),C=e.i(74940),w=e.i(17286),P=e.i(10273),I=e.i(44697),T=e.i(14775),E=e.i(70620),k=e.i(32308),M=e.i(79923),_=e.i(77759),L=e.i(10148),V=e.i(57345),G=e.i(64775),R=e.i(36393),B=e.i(72024);function K(){let[e,K]=(0,s.useState)(!0),[D,Q]=(0,s.useState)(!1),[H,O]=(0,s.useState)(""),[q,F]=(0,s.useState)(""),[J,X]=(0,s.useState)("basic"),[$,Z]=(0,s.useState)({groupId:"",groupName:"",presetId:"__default__",systemPrompt:"",enabled:!0,triggerMode:"default",customPrefix:"",toolsEnabled:"inherit",imageGenEnabled:"inherit",imageGenModel:"",imageGenSize:"1024x1024",imageGenQuality:"standard",imageGenDailyLimit:0,summaryEnabled:"inherit",summaryModel:"",eventEnabled:"inherit",emojiThiefEnabled:"inherit",emojiThiefSeparateFolder:!0,emojiThiefMaxCount:500,emojiThiefStealRate:1,emojiThiefTriggerRate:.05,emojiThiefTriggerMode:"off",bymEnabled:"inherit",bymPresetId:"__default__",bymPrompt:"",bymProbability:"inherit",bymModel:"",bymTemperature:"inherit",bymMaxTokens:"inherit",bymReplyLength:"medium",bymUseEmoji:!0,proactiveChatEnabled:"inherit",proactiveChatProbability:"inherit",proactiveChatCooldown:"inherit",proactiveChatMaxDaily:"inherit",proactiveChatMinMessages:5,proactiveChatTimeStart:8,proactiveChatTimeEnd:23,chatEnabled:!0,chatContextLength:20,chatStreamReply:!0,chatQuoteReply:!1,chatShowThinking:!0,chatModel:"",listMode:"none",blacklist:[],whitelist:[],summaryPushEnabled:!1,summaryPushIntervalType:"day",summaryPushIntervalValue:1,summaryPushHour:20,summaryPushMessageCount:100,welcomeEnabled:"inherit",welcomeMessage:"",welcomePrompt:"",welcomeProbability:"inherit",goodbyeEnabled:"inherit",goodbyePrompt:"",goodbyeProbability:"inherit",pokeEnabled:"inherit",pokeBack:!1,pokeProbability:"inherit",recallEnabled:"inherit",recallProbability:"inherit",banEnabled:"inherit",banProbability:"inherit",luckyKingEnabled:"inherit",luckyKingProbability:"inherit",honorEnabled:"inherit",honorProbability:"inherit",essenceEnabled:"inherit",essenceProbability:"inherit",adminEnabled:"inherit",adminProbability:"inherit",knowledgeIds:[],independentChannelEnabled:!1,independentBaseUrl:"",independentApiKey:"",independentAdapterType:"openai",forbidGlobalModel:!1,dailyGroupLimit:0,dailyUserLimit:0,usageLimitMessage:""}),[W,Y]=(0,s.useState)([]),[ee,ea]=(0,s.useState)([]),[es,el]=(0,s.useState)([]),[ei,et]=(0,s.useState)(!1),[en,er]=(0,s.useState)(""),[ec,ed]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("code");if(e){window.history.replaceState({},"","/group-admin"),eo(e);return}let a=localStorage.getItem("group_admin_token");if(!a){et(!0),K(!1);return}ex(a)},[]);let eo=async e=>{K(!0);try{let a=await fetch("/api/group-admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e.toUpperCase()})}),s=await a.json();0===s.code?(localStorage.setItem("group_admin_token",s.data.token),b.toast.success("ç™»å½•æˆåŠŸ"),ex(s.data.token)):(b.toast.error(s.message||"ç™»å½•ç æ— æ•ˆæˆ–å·²è¿‡æœŸ"),et(!0),K(!1))}catch(e){b.toast.error("ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ"),et(!0),K(!1)}},em=async()=>{if(!en.trim())return void b.toast.error("è¯·è¾“å…¥ç™»å½•ç ");ed(!0);try{let e=await fetch("/api/group-admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:en.trim().toUpperCase()})}),a=await e.json();0===a.code?(localStorage.setItem("group_admin_token",a.data.token),et(!1),er(""),b.toast.success("ç™»å½•æˆåŠŸ"),ex(a.data.token)):b.toast.error(a.message||"ç™»å½•å¤±è´¥")}catch(e){b.toast.error("ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ")}finally{ed(!1)}},eh=()=>localStorage.getItem("group_admin_token")||"",ex=async e=>{try{let a=await fetch("/api/group-admin/config",{headers:{Authorization:`Bearer ${e||eh()}`}});if(!a.ok){if(401===a.status){localStorage.removeItem("group_admin_token"),et(!0),K(!1);return}throw Error("åŠ è½½é…ç½®å¤±è´¥")}let s=await a.json();if(0===s.code){let e=s.data;O(e.groupId),ea(e.presets||[]);let a=new Set;e.channels?.forEach(e=>{e.models&&Array.isArray(e.models)&&e.models.forEach(e=>a.add(e))}),el(Array.from(a).sort()),Z({groupId:e.groupId,groupName:e.groupName||"",presetId:e.presetId||"__default__",systemPrompt:e.systemPrompt||"",enabled:!1!==e.enabled,triggerMode:e.triggerMode||"default",customPrefix:e.customPrefix||"",toolsEnabled:void 0===e.toolsEnabled?"inherit":"true"===e.toolsEnabled||!0===e.toolsEnabled?"on":"off",imageGenEnabled:void 0===e.imageGenEnabled?"inherit":"true"===e.imageGenEnabled||!0===e.imageGenEnabled?"on":"off",imageGenModel:e.models?.image||"",summaryEnabled:void 0===e.summaryEnabled?"inherit":"true"===e.summaryEnabled||!0===e.summaryEnabled?"on":"off",summaryModel:e.models?.summary||"",eventEnabled:void 0===e.eventHandler?"inherit":"true"===e.eventHandler||!0===e.eventHandler?"on":"off",emojiThiefEnabled:e.emojiThief?.enabled===void 0?"inherit":e.emojiThief.enabled?"on":"off",emojiThiefSeparateFolder:e.emojiThief?.independent??!0,emojiThiefMaxCount:e.emojiThief?.maxCount??500,emojiThiefStealRate:(e.emojiThief?.probability??100)/100,emojiThiefTriggerRate:(e.emojiThief?.triggerRate??5)/100,emojiThiefTriggerMode:e.emojiThief?.triggerMode||"off",bymEnabled:e.bym?.enabled===void 0?"inherit":"true"===e.bym.enabled||!0===e.bym.enabled?"on":"off",bymPresetId:e.bym?.presetId||"__default__",bymPrompt:e.bym?.prompt||"",bymProbability:e.bym?.probability===void 0?"inherit":e.bym.probability,bymModel:e.bym?.modelId||"",bymTemperature:e.bym?.temperature===void 0?"inherit":e.bym.temperature,bymMaxTokens:e.bym?.maxTokens===void 0?"inherit":e.bym.maxTokens,chatModel:e.models?.chat||"",listMode:e.listMode||"none",blacklist:e.blacklist||[],whitelist:e.whitelist||[],summaryPushEnabled:e.summary?.push?.enabled||!1,summaryPushIntervalType:e.summary?.push?.intervalType||"day",summaryPushIntervalValue:e.summary?.push?.intervalValue||1,summaryPushHour:e.summary?.push?.pushHour??20,summaryPushMessageCount:e.summary?.push?.messageCount||100,welcomeEnabled:e.events?.welcome?.enabled===void 0?"inherit":e.events?.welcome?.enabled?"on":"off",welcomeMessage:e.events?.welcome?.message||"",welcomePrompt:e.events?.welcome?.prompt||"",welcomeProbability:e.events?.welcome?.probability??"inherit",goodbyeEnabled:e.events?.goodbye?.enabled===void 0?"inherit":e.events?.goodbye?.enabled?"on":"off",goodbyePrompt:e.events?.goodbye?.prompt||"",goodbyeProbability:e.events?.goodbye?.probability??"inherit",pokeEnabled:e.events?.poke?.enabled===void 0?"inherit":e.events?.poke?.enabled?"on":"off",pokeBack:e.events?.poke?.pokeBack||!1,pokeProbability:e.events?.poke?.probability??"inherit",recallEnabled:e.events?.recall?.enabled===void 0?"inherit":e.events?.recall?.enabled?"on":"off",recallProbability:e.events?.recall?.probability??"inherit",banEnabled:e.events?.ban?.enabled===void 0?"inherit":e.events?.ban?.enabled?"on":"off",banProbability:e.events?.ban?.probability??"inherit",luckyKingEnabled:e.events?.luckyKing?.enabled===void 0?"inherit":e.events?.luckyKing?.enabled?"on":"off",luckyKingProbability:e.events?.luckyKing?.probability??"inherit",honorEnabled:e.events?.honor?.enabled===void 0?"inherit":e.events?.honor?.enabled?"on":"off",honorProbability:e.events?.honor?.probability??"inherit",essenceEnabled:e.events?.essence?.enabled===void 0?"inherit":e.events?.essence?.enabled?"on":"off",essenceProbability:e.events?.essence?.probability??"inherit",adminEnabled:e.events?.admin?.enabled===void 0?"inherit":e.events?.admin?.enabled?"on":"off",adminProbability:e.events?.admin?.probability??"inherit",knowledgeIds:e.knowledgeIds||[],proactiveChatEnabled:e.bym?.proactive?.enabled===void 0?"inherit":e.bym?.proactive?.enabled?"on":"off",proactiveChatProbability:e.bym?.proactive?.probability===void 0?"inherit":e.bym?.proactive?.probability,proactiveChatCooldown:e.bym?.proactive?.cooldown===void 0?"inherit":e.bym?.proactive?.cooldown,proactiveChatMaxDaily:e.bym?.proactive?.maxDaily===void 0?"inherit":e.bym?.proactive?.maxDaily,proactiveChatMinMessages:e.bym?.proactive?.minMessages??5,proactiveChatTimeStart:e.bym?.proactive?.timeRange?.start??8,proactiveChatTimeEnd:e.bym?.proactive?.timeRange?.end??23,bymReplyLength:e.bym?.style?.replyLength||"medium",bymUseEmoji:e.bym?.style?.useEmoji??!0,chatEnabled:e.chat?.enabled??!0,chatContextLength:e.chat?.contextLength??20,chatStreamReply:e.chat?.streamReply??!0,chatQuoteReply:e.chat?.quoteReply??!1,chatShowThinking:e.chat?.showThinking??!0,imageGenSize:e.imageGen?.size||"1024x1024",imageGenQuality:e.imageGen?.quality||"standard",imageGenDailyLimit:e.imageGen?.maxDailyLimit??0,independentChannelEnabled:e.independentChannel?.hasChannel||!1,independentBaseUrl:e.independentChannel?.baseUrl||"",independentApiKey:e.independentChannel?.apiKey||"",independentAdapterType:e.independentChannel?.adapterType||"openai",forbidGlobalModel:e.independentChannel?.forbidGlobal||!1,dailyGroupLimit:e.usageLimit?.dailyGroupLimit||0,dailyUserLimit:e.usageLimit?.dailyUserLimit||0,usageLimitMessage:e.usageLimit?.limitMessage||""}),e.knowledgeBases&&Y(e.knowledgeBases)}else throw Error(s.message||"åŠ è½½å¤±è´¥")}catch(e){F(e.message)}finally{K(!1)}},eb=async()=>{Q(!0);try{let e=await fetch("/api/group-admin/config",{method:"PUT",headers:{Authorization:`Bearer ${eh()}`,"Content-Type":"application/json"},body:JSON.stringify({groupName:$.groupName,systemPrompt:$.systemPrompt||null,presetId:"__default__"===$.presetId?"":$.presetId,enabled:$.enabled,triggerMode:$.triggerMode,customPrefix:$.customPrefix||void 0,toolsEnabled:"inherit"===$.toolsEnabled?void 0:"on"===$.toolsEnabled,imageGenEnabled:"inherit"===$.imageGenEnabled?void 0:"on"===$.imageGenEnabled,summaryEnabled:"inherit"===$.summaryEnabled?void 0:"on"===$.summaryEnabled,eventHandler:"inherit"===$.eventEnabled?void 0:"on"===$.eventEnabled,emojiThief:{enabled:"inherit"===$.emojiThiefEnabled?void 0:"on"===$.emojiThiefEnabled,independent:$.emojiThiefSeparateFolder,maxCount:$.emojiThiefMaxCount,probability:Math.round(100*$.emojiThiefStealRate),triggerRate:Math.round(100*$.emojiThiefTriggerRate),triggerMode:$.emojiThiefTriggerMode},bym:{enabled:"inherit"===$.bymEnabled?void 0:"on"===$.bymEnabled,presetId:"__default__"===$.bymPresetId?void 0:$.bymPresetId,prompt:$.bymPrompt||void 0,probability:"inherit"===$.bymProbability?void 0:$.bymProbability,modelId:$.bymModel||void 0,temperature:"inherit"===$.bymTemperature?void 0:$.bymTemperature,maxTokens:"inherit"===$.bymMaxTokens?void 0:$.bymMaxTokens,proactive:{enabled:"inherit"===$.proactiveChatEnabled?void 0:"on"===$.proactiveChatEnabled,probability:"inherit"===$.proactiveChatProbability?void 0:$.proactiveChatProbability,cooldown:"inherit"===$.proactiveChatCooldown?void 0:$.proactiveChatCooldown,maxDaily:"inherit"===$.proactiveChatMaxDaily?void 0:$.proactiveChatMaxDaily,minMessages:$.proactiveChatMinMessages,timeRange:{start:$.proactiveChatTimeStart,end:$.proactiveChatTimeEnd}},style:{replyLength:$.bymReplyLength,useEmoji:$.bymUseEmoji}},chat:{enabled:$.chatEnabled,contextLength:$.chatContextLength,streamReply:$.chatStreamReply,quoteReply:$.chatQuoteReply,showThinking:$.chatShowThinking},imageGen:{enabled:"inherit"===$.imageGenEnabled?void 0:"on"===$.imageGenEnabled,modelId:$.imageGenModel||void 0,size:$.imageGenSize,quality:$.imageGenQuality,maxDailyLimit:$.imageGenDailyLimit},models:{chat:$.chatModel||void 0,summary:$.summaryModel||void 0},listMode:$.listMode,blacklist:$.blacklist,whitelist:$.whitelist,summary:{enabled:"inherit"===$.summaryEnabled?void 0:"on"===$.summaryEnabled,modelId:$.summaryModel||void 0,push:{enabled:$.summaryPushEnabled,intervalType:$.summaryPushIntervalType,intervalValue:$.summaryPushIntervalValue,pushHour:$.summaryPushHour,messageCount:$.summaryPushMessageCount}},events:{enabled:"inherit"===$.eventEnabled?void 0:"on"===$.eventEnabled,welcome:{enabled:"inherit"===$.welcomeEnabled?void 0:"on"===$.welcomeEnabled,message:$.welcomeMessage||void 0,prompt:$.welcomePrompt||void 0,probability:"inherit"===$.welcomeProbability?void 0:$.welcomeProbability},goodbye:{enabled:"inherit"===$.goodbyeEnabled?void 0:"on"===$.goodbyeEnabled,prompt:$.goodbyePrompt||void 0,probability:"inherit"===$.goodbyeProbability?void 0:$.goodbyeProbability},poke:{enabled:"inherit"===$.pokeEnabled?void 0:"on"===$.pokeEnabled,pokeBack:$.pokeBack,probability:"inherit"===$.pokeProbability?void 0:$.pokeProbability},recall:{enabled:"inherit"===$.recallEnabled?void 0:"on"===$.recallEnabled,probability:"inherit"===$.recallProbability?void 0:$.recallProbability},ban:{enabled:"inherit"===$.banEnabled?void 0:"on"===$.banEnabled,probability:"inherit"===$.banProbability?void 0:$.banProbability},luckyKing:{enabled:"inherit"===$.luckyKingEnabled?void 0:"on"===$.luckyKingEnabled,probability:"inherit"===$.luckyKingProbability?void 0:$.luckyKingProbability},honor:{enabled:"inherit"===$.honorEnabled?void 0:"on"===$.honorEnabled,probability:"inherit"===$.honorProbability?void 0:$.honorProbability},essence:{enabled:"inherit"===$.essenceEnabled?void 0:"on"===$.essenceEnabled,probability:"inherit"===$.essenceProbability?void 0:$.essenceProbability},admin:{enabled:"inherit"===$.adminEnabled?void 0:"on"===$.adminEnabled,probability:"inherit"===$.adminProbability?void 0:$.adminProbability}},independentChannel:{baseUrl:$.independentBaseUrl||void 0,apiKey:$.independentApiKey||void 0,adapterType:$.independentAdapterType,forbidGlobal:$.forbidGlobalModel},usageLimit:{dailyGroupLimit:$.dailyGroupLimit,dailyUserLimit:$.dailyUserLimit,limitMessage:$.usageLimitMessage||void 0},knowledgeIds:$.knowledgeIds.length>0?$.knowledgeIds:void 0})});if(!e.ok){if(401===e.status)return void F("è®¤è¯å·²è¿‡æœŸ");throw Error("ä¿å­˜å¤±è´¥")}let a=await e.json();if(0===a.code)b.toast.success("é…ç½®å·²ä¿å­˜");else throw Error(a.message||"ä¿å­˜å¤±è´¥")}catch(e){b.toast.error(e.message)}finally{Q(!1)}};return e?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,a.jsx)(j.Loader2,{className:"h-8 w-8 animate-spin text-blue-500"})}):ei?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,a.jsx)(l.Card,{className:"w-full max-w-md mx-4",children:(0,a.jsxs)(l.CardContent,{className:"pt-6",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)(g.Settings,{className:"h-12 w-12 text-blue-500 mx-auto"}),(0,a.jsx)("h2",{className:"mt-4 text-xl font-semibold",children:"ç¾¤ç®¡ç†é¢æ¿"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"è¯·è¾“å…¥ç™»å½•ç ç™»å½•"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"loginCode",children:"ç™»å½•ç "}),(0,a.jsx)(t.Input,{id:"loginCode",placeholder:"è¯·è¾“å…¥6ä½ç™»å½•ç ",value:en,onChange:e=>er(e.target.value.toUpperCase()),onKeyDown:e=>"Enter"===e.key&&em(),maxLength:6,className:"text-center text-2xl tracking-widest font-mono"})]}),(0,a.jsxs)(i.Button,{className:"w-full",onClick:em,disabled:ec,children:[ec?(0,a.jsx)(j.Loader2,{className:"h-4 w-4 animate-spin mr-2"}):null,"ç™»å½•"]}),(0,a.jsxs)("p",{className:"text-xs text-center text-gray-500",children:["åœ¨ç¾¤å†…å‘é€"," ",(0,a.jsx)("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"#ç¾¤ç®¡ç†é¢æ¿"})," ","èŽ·å–ç™»å½•ç "]})]})]})})}):q?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,a.jsx)(l.Card,{className:"w-full max-w-md mx-4",children:(0,a.jsxs)(l.CardContent,{className:"pt-6 text-center",children:[(0,a.jsx)(u.AlertCircle,{className:"h-12 w-12 text-red-500 mx-auto"}),(0,a.jsx)("h2",{className:"mt-4 text-xl font-semibold",children:q}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"è¯·åœ¨ç¾¤å†…å‘é€ #ç¾¤ç®¡ç†é¢æ¿ é‡æ–°èŽ·å–ç™»å½•ç "})]})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"ç¾¤èŠè®¾ç½®"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["ç¾¤å·: ",(0,a.jsx)(r.Badge,{variant:"secondary",children:H})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>ex(),children:[(0,a.jsx)(f.RefreshCw,{className:"h-4 w-4 mr-1"})," åˆ·æ–°"]}),(0,a.jsxs)(i.Button,{size:"sm",onClick:eb,disabled:D,children:[D?(0,a.jsx)(j.Loader2,{className:"h-4 w-4 animate-spin mr-1"}):(0,a.jsx)(p.Save,{className:"h-4 w-4 mr-1"}),"ä¿å­˜"]}),(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>{localStorage.removeItem("group_admin_token"),et(!0),O(""),b.toast.success("å·²é€€å‡ºç™»å½•")},children:"é€€å‡º"})]})]}),(0,a.jsx)(l.Card,{children:(0,a.jsx)(l.CardContent,{className:"pt-6",children:(0,a.jsxs)(o.Tabs,{value:J,onValueChange:X,children:[(0,a.jsxs)(o.TabsList,{className:"grid w-full grid-cols-5 mb-4",children:[(0,a.jsxs)(o.TabsTrigger,{value:"basic",children:[(0,a.jsx)(g.Settings,{className:"h-4 w-4 mr-1 hidden sm:inline"}),"åŸºç¡€"]}),(0,a.jsxs)(o.TabsTrigger,{value:"features",children:[(0,a.jsx)(y.Zap,{className:"h-4 w-4 mr-1 hidden sm:inline"}),"åŠŸèƒ½"]}),(0,a.jsxs)(o.TabsTrigger,{value:"bym",children:[(0,a.jsx)(v.Sparkles,{className:"h-4 w-4 mr-1 hidden sm:inline"}),"ä¼ªäºº"]}),(0,a.jsxs)(o.TabsTrigger,{value:"channel",children:[(0,a.jsx)(P.MessageSquare,{className:"h-4 w-4 mr-1 hidden sm:inline"}),"å¯¹è¯"]}),(0,a.jsxs)(o.TabsTrigger,{value:"advanced",children:[(0,a.jsx)(N.BookOpen,{className:"h-4 w-4 mr-1 hidden sm:inline"}),"é«˜çº§"]})]}),(0,a.jsxs)(m.ScrollArea,{className:"h-[60vh] pr-4",children:[(0,a.jsxs)(o.TabsContent,{value:"basic",className:"space-y-4 mt-0",children:[(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"ç¾¤å·"}),(0,a.jsx)(t.Input,{value:$.groupId,disabled:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"ç¾¤åç§°"}),(0,a.jsx)(t.Input,{value:$.groupName,onChange:e=>Z({...$,groupName:e.target.value}),placeholder:"å¯é€‰ï¼Œä¾¿äºŽè¯†åˆ«"})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"ä½¿ç”¨é¢„è®¾"}),(0,a.jsxs)(x.Select,{value:$.presetId,onValueChange:e=>Z({...$,presetId:e}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{placeholder:"ä½¿ç”¨é»˜è®¤é¢„è®¾"})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"__default__",children:"ä½¿ç”¨é»˜è®¤é¢„è®¾"}),ee.map(e=>(0,a.jsx)(x.SelectItem,{value:e.id,children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:e.name}),e.description&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.description})]})},e.id))]})]}),$.presetId&&"__default__"!==$.presetId&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:ee.find(e=>e.id===$.presetId)?.systemPromptPreview||""})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"è§¦å‘æ¨¡å¼"}),(0,a.jsxs)(x.Select,{value:$.triggerMode,onValueChange:e=>Z({...$,triggerMode:e}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"default",children:"é»˜è®¤"}),(0,a.jsx)(x.SelectItem,{value:"at",children:"ä»…@è§¦å‘"}),(0,a.jsx)(x.SelectItem,{value:"prefix",children:"ä»…å‰ç¼€è§¦å‘"}),(0,a.jsx)(x.SelectItem,{value:"all",children:"å…¨éƒ¨æ¶ˆæ¯"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"è‡ªå®šä¹‰å‰ç¼€"}),(0,a.jsx)(t.Input,{value:$.customPrefix,onChange:e=>Z({...$,customPrefix:e.target.value}),placeholder:"ç•™ç©ºä½¿ç”¨å…¨å±€å‰ç¼€ï¼Œå¦‚ #ai"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"ç‹¬ç«‹äººè®¾"}),(0,a.jsx)(d.Textarea,{value:$.systemPrompt,onChange:e=>Z({...$,systemPrompt:e.target.value}),placeholder:"ä¸å¡«å†™åˆ™ä½¿ç”¨é¢„è®¾é…ç½®...",rows:3,className:"font-mono text-sm"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["æ”¯æŒå˜é‡: ","{{user_name}}"," ","{{group_name}}"," ","{{date}}"," ç­‰ | è¡¨è¾¾å¼:"," ","${e.user_id}"," (eä¸ºevent)"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(S.Power,{className:"h-4 w-4"}),(0,a.jsx)(n.Label,{children:"å¯ç”¨AIå“åº”"})]}),(0,a.jsx)(c.Switch,{checked:$.enabled,onCheckedChange:e=>Z({...$,enabled:e})})]})]}),(0,a.jsxs)(o.TabsContent,{value:"features",className:"space-y-3 mt-0",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"ç¾¤ç®¡ç†å‘˜ä¹Ÿå¯é€šè¿‡å‘½ä»¤æŽ§åˆ¶è¿™äº›åŠŸèƒ½"}),(0,a.jsx)(A,{icon:(0,a.jsx)(y.Zap,{className:"h-4 w-4"}),title:"å·¥å…·è°ƒç”¨",desc:"å…è®¸AIä½¿ç”¨æœç´¢ã€ä»£ç æ‰§è¡Œç­‰å·¥å…·",value:$.toolsEnabled,onChange:e=>Z({...$,toolsEnabled:e})}),(0,a.jsx)(A,{icon:(0,a.jsx)(w.Image,{className:"h-4 w-4"}),title:"ç»˜å›¾åŠŸèƒ½",desc:"æ–‡ç”Ÿå›¾ã€å›¾ç”Ÿå›¾ç­‰",value:$.imageGenEnabled,onChange:e=>Z({...$,imageGenEnabled:e})}),"on"===$.imageGenEnabled&&(0,a.jsxs)("div",{className:"ml-4 pl-4 border-l-2 border-muted space-y-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"ç»˜å›¾æ¨¡åž‹"}),(0,a.jsxs)(x.Select,{value:$.imageGenModel||"__default__",onValueChange:e=>Z({...$,imageGenModel:"__default__"===e?"":e}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{placeholder:"ç»§æ‰¿å…¨å±€"})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"__default__",children:"ç»§æ‰¿å…¨å±€"}),es.map(e=>(0,a.jsx)(x.SelectItem,{value:e,children:e},e))]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"å›¾ç‰‡å°ºå¯¸"}),(0,a.jsxs)(x.Select,{value:$.imageGenSize,onValueChange:e=>Z({...$,imageGenSize:e}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"1024x1024",children:"1024x1024"}),(0,a.jsx)(x.SelectItem,{value:"1792x1024",children:"1792x1024 (æ¨ª)"}),(0,a.jsx)(x.SelectItem,{value:"1024x1792",children:"1024x1792 (ç«–)"}),(0,a.jsx)(x.SelectItem,{value:"512x512",children:"512x512"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"å›¾ç‰‡è´¨é‡"}),(0,a.jsxs)(x.Select,{value:$.imageGenQuality,onValueChange:e=>Z({...$,imageGenQuality:e}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"standard",children:"æ ‡å‡†"}),(0,a.jsx)(x.SelectItem,{value:"hd",children:"é«˜æ¸…"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"æ¯æ—¥é™åˆ¶ï¼ˆ0=æ— é™ï¼‰"}),(0,a.jsx)(t.Input,{type:"number",min:0,value:$.imageGenDailyLimit,onChange:e=>Z({...$,imageGenDailyLimit:parseInt(e.target.value)||0}),placeholder:"0",className:"w-24"})]})]}),(0,a.jsx)(A,{icon:(0,a.jsx)(P.MessageSquare,{className:"h-4 w-4"}),title:"ç¾¤èŠæ€»ç»“",desc:"å…è®¸ä½¿ç”¨ç¾¤èŠæ€»ç»“",value:$.summaryEnabled,onChange:e=>Z({...$,summaryEnabled:e})}),"on"===$.summaryEnabled&&(0,a.jsx)(U,{label:"æ€»ç»“æ¨¡åž‹",value:$.summaryModel,models:es,onChange:e=>Z({...$,summaryModel:e})}),(0,a.jsx)(A,{icon:(0,a.jsx)(I.PartyPopper,{className:"h-4 w-4"}),title:"äº‹ä»¶å¤„ç†",desc:"å…¥ç¾¤æ¬¢è¿Žã€é€€ç¾¤æé†’",value:$.eventEnabled,onChange:e=>Z({...$,eventEnabled:e})}),"off"!==$.eventEnabled&&(0,a.jsxs)("div",{className:"ml-4 pl-4 border-l-2 border-muted space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(L.UserPlus,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)(n.Label,{className:"text-sm font-medium",children:"å…¥ç¾¤æ¬¢è¿Ž"})]}),(0,a.jsxs)(x.Select,{value:$.welcomeEnabled,onValueChange:e=>Z({...$,welcomeEnabled:e}),children:[(0,a.jsx)(x.SelectTrigger,{className:"w-24",children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(x.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(x.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===$.welcomeEnabled&&(0,a.jsxs)("div",{className:"space-y-3 pl-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"å“åº”æ¦‚çŽ‡"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[Math.round(("inherit"===$.welcomeProbability?1:$.welcomeProbability)*100),"%"]})]}),(0,a.jsx)(h.Slider,{value:["inherit"===$.welcomeProbability?1:$.welcomeProbability],onValueChange:([e])=>Z({...$,welcomeProbability:e}),min:0,max:1,step:.05})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"å›ºå®šæ¬¢è¿Žè¯­ï¼ˆä¸ä½¿ç”¨AIç”Ÿæˆï¼‰"}),(0,a.jsx)(d.Textarea,{value:$.welcomeMessage,placeholder:"ç•™ç©ºåˆ™ä½¿ç”¨AIç”Ÿæˆï¼Œæ”¯æŒ {nickname} {at} å˜é‡",onChange:e=>Z({...$,welcomeMessage:e.target.value}),rows:2,className:"text-sm"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"AIæ¬¢è¿Žæç¤ºè¯"}),(0,a.jsx)(d.Textarea,{value:$.welcomePrompt,placeholder:"ä¸ºæ–°æˆå‘˜ç”Ÿæˆæ¬¢è¿Žæ¶ˆæ¯æ—¶çš„æç¤º...",onChange:e=>Z({...$,welcomePrompt:e.target.value}),rows:2,className:"text-sm"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(V.UserMinus,{className:"h-4 w-4 text-red-500"}),(0,a.jsx)(n.Label,{className:"text-sm font-medium",children:"é€€ç¾¤æé†’"})]}),(0,a.jsxs)(x.Select,{value:$.goodbyeEnabled,onValueChange:e=>Z({...$,goodbyeEnabled:e}),children:[(0,a.jsx)(x.SelectTrigger,{className:"w-24",children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(x.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(x.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===$.goodbyeEnabled&&(0,a.jsxs)("div",{className:"space-y-3 pl-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"å“åº”æ¦‚çŽ‡"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[Math.round(("inherit"===$.goodbyeProbability?1:$.goodbyeProbability)*100),"%"]})]}),(0,a.jsx)(h.Slider,{value:["inherit"===$.goodbyeProbability?1:$.goodbyeProbability],onValueChange:([e])=>Z({...$,goodbyeProbability:e}),min:0,max:1,step:.05})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"AIå‘Šåˆ«æç¤ºè¯"}),(0,a.jsx)(d.Textarea,{value:$.goodbyePrompt,placeholder:"ä¸ºç¦»å¼€æˆå‘˜ç”Ÿæˆå‘Šåˆ«æ¶ˆæ¯æ—¶çš„æç¤º...",onChange:e=>Z({...$,goodbyePrompt:e.target.value}),rows:2,className:"text-sm"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(_.Hand,{className:"h-4 w-4 text-blue-500"}),(0,a.jsx)(n.Label,{className:"text-sm font-medium",children:"æˆ³ä¸€æˆ³å›žå¤"})]}),(0,a.jsxs)(x.Select,{value:$.pokeEnabled,onValueChange:e=>Z({...$,pokeEnabled:e}),children:[(0,a.jsx)(x.SelectTrigger,{className:"w-24",children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(x.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(x.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===$.pokeEnabled&&(0,a.jsxs)("div",{className:"space-y-3 pl-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"å“åº”æ¦‚çŽ‡"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[Math.round(("inherit"===$.pokeProbability?1:$.pokeProbability)*100),"%"]})]}),(0,a.jsx)(h.Slider,{value:["inherit"===$.pokeProbability?1:$.pokeProbability],onValueChange:([e])=>Z({...$,pokeProbability:e}),min:0,max:1,step:.05})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Switch,{checked:$.pokeBack,onCheckedChange:e=>Z({...$,pokeBack:e})}),(0,a.jsx)(n.Label,{className:"text-xs",children:"æˆ³å›žåŽ»ï¼ˆè€Œéžæ–‡å­—å›žå¤ï¼‰"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"ðŸ”„"}),(0,a.jsx)(n.Label,{className:"text-sm font-medium",children:"æ’¤å›žå“åº”"})]}),(0,a.jsxs)(x.Select,{value:$.recallEnabled,onValueChange:e=>{let a={recallEnabled:e};"on"===e&&"inherit"===$.recallProbability&&(a.recallProbability=1),Z({...$,...a})},children:[(0,a.jsx)(x.SelectTrigger,{className:"w-24",children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(x.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(x.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===$.recallEnabled&&(0,a.jsx)("div",{className:"pl-6 space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Label,{className:"text-xs w-12",children:"æ¦‚çŽ‡"}),(0,a.jsx)(h.Slider,{value:["inherit"===$.recallProbability?1:$.recallProbability],onValueChange:([e])=>Z({...$,recallProbability:e}),min:0,max:1,step:.05,className:"flex-1"}),(0,a.jsxs)("span",{className:"text-xs w-10 text-right",children:[Math.round(("inherit"===$.recallProbability?1:$.recallProbability)*100),"%"]})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"ðŸ”‡"}),(0,a.jsx)(n.Label,{className:"text-sm font-medium",children:"ç¦è¨€å“åº”"})]}),(0,a.jsxs)(x.Select,{value:$.banEnabled,onValueChange:e=>{let a={banEnabled:e};"on"===e&&"inherit"===$.banProbability&&(a.banProbability=1),Z({...$,...a})},children:[(0,a.jsx)(x.SelectTrigger,{className:"w-24",children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(x.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(x.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===$.banEnabled&&(0,a.jsx)("div",{className:"pl-6 space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Label,{className:"text-xs w-12",children:"æ¦‚çŽ‡"}),(0,a.jsx)(h.Slider,{value:["inherit"===$.banProbability?1:$.banProbability],onValueChange:([e])=>Z({...$,banProbability:e}),min:0,max:1,step:.05,className:"flex-1"}),(0,a.jsxs)("span",{className:"text-xs w-10 text-right",children:[Math.round(("inherit"===$.banProbability?1:$.banProbability)*100),"%"]})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"ðŸ§§"}),(0,a.jsx)(n.Label,{className:"text-sm font-medium",children:"è¿æ°”çŽ‹å“åº”"})]}),(0,a.jsxs)(x.Select,{value:$.luckyKingEnabled,onValueChange:e=>{let a={luckyKingEnabled:e};"on"===e&&"inherit"===$.luckyKingProbability&&(a.luckyKingProbability=1),Z({...$,...a})},children:[(0,a.jsx)(x.SelectTrigger,{className:"w-24",children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(x.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(x.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===$.luckyKingEnabled&&(0,a.jsx)("div",{className:"pl-6 space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Label,{className:"text-xs w-12",children:"æ¦‚çŽ‡"}),(0,a.jsx)(h.Slider,{value:["inherit"===$.luckyKingProbability?1:$.luckyKingProbability],onValueChange:([e])=>Z({...$,luckyKingProbability:e}),min:0,max:1,step:.05,className:"flex-1"}),(0,a.jsxs)("span",{className:"text-xs w-10 text-right",children:[Math.round(("inherit"===$.luckyKingProbability?1:$.luckyKingProbability)*100),"%"]})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"ðŸ†"}),(0,a.jsx)(n.Label,{className:"text-sm font-medium",children:"è£èª‰å˜æ›´"})]}),(0,a.jsxs)(x.Select,{value:$.honorEnabled,onValueChange:e=>{let a={honorEnabled:e};"on"===e&&"inherit"===$.honorProbability&&(a.honorProbability=1),Z({...$,...a})},children:[(0,a.jsx)(x.SelectTrigger,{className:"w-24",children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(x.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(x.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===$.honorEnabled&&(0,a.jsx)("div",{className:"pl-6 space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Label,{className:"text-xs w-12",children:"æ¦‚çŽ‡"}),(0,a.jsx)(h.Slider,{value:["inherit"===$.honorProbability?1:$.honorProbability],onValueChange:([e])=>Z({...$,honorProbability:e}),min:0,max:1,step:.05,className:"flex-1"}),(0,a.jsxs)("span",{className:"text-xs w-10 text-right",children:[Math.round(("inherit"===$.honorProbability?1:$.honorProbability)*100),"%"]})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"â­"}),(0,a.jsx)(n.Label,{className:"text-sm font-medium",children:"ç²¾åŽæ¶ˆæ¯"})]}),(0,a.jsxs)(x.Select,{value:$.essenceEnabled,onValueChange:e=>{let a={essenceEnabled:e};"on"===e&&"inherit"===$.essenceProbability&&(a.essenceProbability=1),Z({...$,...a})},children:[(0,a.jsx)(x.SelectTrigger,{className:"w-24",children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(x.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(x.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===$.essenceEnabled&&(0,a.jsx)("div",{className:"pl-6 space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Label,{className:"text-xs w-12",children:"æ¦‚çŽ‡"}),(0,a.jsx)(h.Slider,{value:["inherit"===$.essenceProbability?1:$.essenceProbability],onValueChange:([e])=>Z({...$,essenceProbability:e}),min:0,max:1,step:.05,className:"flex-1"}),(0,a.jsxs)("span",{className:"text-xs w-10 text-right",children:[Math.round(("inherit"===$.essenceProbability?1:$.essenceProbability)*100),"%"]})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"ðŸ‘‘"}),(0,a.jsx)(n.Label,{className:"text-sm font-medium",children:"ç®¡ç†å‘˜å˜æ›´"})]}),(0,a.jsxs)(x.Select,{value:$.adminEnabled,onValueChange:e=>{let a={adminEnabled:e};"on"===e&&"inherit"===$.adminProbability&&(a.adminProbability=1),Z({...$,...a})},children:[(0,a.jsx)(x.SelectTrigger,{className:"w-24",children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(x.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(x.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===$.adminEnabled&&(0,a.jsx)("div",{className:"pl-6 space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Label,{className:"text-xs w-12",children:"æ¦‚çŽ‡"}),(0,a.jsx)(h.Slider,{value:["inherit"===$.adminProbability?1:$.adminProbability],onValueChange:([e])=>Z({...$,adminProbability:e}),min:0,max:1,step:.05,className:"flex-1"}),(0,a.jsxs)("span",{className:"text-xs w-10 text-right",children:[Math.round(("inherit"===$.adminProbability?1:$.adminProbability)*100),"%"]})]})})]})]}),(0,a.jsx)(A,{icon:(0,a.jsx)(T.Palette,{className:"h-4 w-4"}),title:"è¡¨æƒ…å°å·",desc:"æ”¶é›†å¹¶å‘é€è¡¨æƒ…åŒ…",value:$.emojiThiefEnabled,onChange:e=>Z({...$,emojiThiefEnabled:e})}),"off"!==$.emojiThiefEnabled&&(0,a.jsxs)("div",{className:"ml-4 pl-4 border-l-2 border-muted space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.Label,{className:"text-sm",children:"ç‹¬ç«‹å­˜å‚¨"}),(0,a.jsx)(c.Switch,{checked:$.emojiThiefSeparateFolder,onCheckedChange:e=>Z({...$,emojiThiefSeparateFolder:e})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"æœ€å¤§æ•°é‡"}),(0,a.jsx)(t.Input,{type:"number",min:10,max:5e3,value:$.emojiThiefMaxCount,onChange:e=>Z({...$,emojiThiefMaxCount:parseInt(e.target.value)||500})})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"å·å–æ¦‚çŽ‡ (%)"}),(0,a.jsx)(t.Input,{type:"number",min:1,max:100,value:Math.round(100*$.emojiThiefStealRate),onChange:e=>Z({...$,emojiThiefStealRate:parseInt(e.target.value)/100})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"å‘é€æ¨¡å¼"}),(0,a.jsxs)(x.Select,{value:$.emojiThiefTriggerMode||"off",onValueChange:e=>Z({...$,emojiThiefTriggerMode:e}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"off",children:"å…³é—­"}),(0,a.jsx)(x.SelectItem,{value:"chat_follow",children:"èŠå¤©è§¦å‘"}),(0,a.jsx)(x.SelectItem,{value:"chat_random",children:"èŠå¤©éšæœº"}),(0,a.jsx)(x.SelectItem,{value:"bym_follow",children:"ä¼ªäººè§¦å‘"}),(0,a.jsx)(x.SelectItem,{value:"bym_random",children:"ä¼ªäººéšæœº"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"å‘é€æ¦‚çŽ‡ (%)"}),(0,a.jsx)(t.Input,{type:"number",min:1,max:100,value:Math.round(($.emojiThiefTriggerRate??.05)*100),onChange:e=>Z({...$,emojiThiefTriggerRate:parseInt(e.target.value)/100}),disabled:"off"===$.emojiThiefTriggerMode||"chat_follow"===$.emojiThiefTriggerMode||"bym_follow"===$.emojiThiefTriggerMode})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"è§¦å‘æ¨¡å¼100%å‘é€ï¼Œéšæœºæ¨¡å¼æŒ‰æ¦‚çŽ‡å‘é€"})]}),(0,a.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-md bg-muted",children:(0,a.jsx)(k.Users,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"ç”¨æˆ·æƒé™ç®¡ç†"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"è®¾ç½®é»‘ç™½åå•"})]})]}),(0,a.jsxs)(x.Select,{value:$.listMode,onValueChange:e=>Z({...$,listMode:e}),children:[(0,a.jsx)(x.SelectTrigger,{className:"w-28",children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"none",children:"ä¸å¯ç”¨"}),(0,a.jsx)(x.SelectItem,{value:"blacklist",children:"é»‘åå•"}),(0,a.jsx)(x.SelectItem,{value:"whitelist",children:"ç™½åå•"})]})]})]}),"blacklist"===$.listMode&&(0,a.jsx)(d.Textarea,{className:"mt-2 font-mono",placeholder:"æ¯è¡Œä¸€ä¸ªQQå·",value:$.blacklist.join("\n"),onChange:e=>Z({...$,blacklist:e.target.value.split("\n").filter(Boolean)})}),"whitelist"===$.listMode&&(0,a.jsx)(d.Textarea,{className:"mt-2 font-mono",placeholder:"æ¯è¡Œä¸€ä¸ªQQå·",value:$.whitelist.join("\n"),onChange:e=>Z({...$,whitelist:e.target.value.split("\n").filter(Boolean)})})]}),(0,a.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-md bg-muted",children:(0,a.jsx)(M.Clock,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"å®šæ—¶æ€»ç»“æŽ¨é€"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"å®šæœŸæŽ¨é€ç¾¤èŠæ€»ç»“æŠ¥å‘Š"})]})]}),(0,a.jsx)(c.Switch,{checked:$.summaryPushEnabled,onCheckedChange:e=>Z({...$,summaryPushEnabled:e})})]}),$.summaryPushEnabled&&(0,a.jsxs)("div",{className:"ml-4 pl-4 border-l-2 border-muted space-y-3 mt-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"é—´éš”ç±»åž‹"}),(0,a.jsxs)(x.Select,{value:$.summaryPushIntervalType,onValueChange:e=>Z({...$,summaryPushIntervalType:e}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"day",children:"æŒ‰å¤©"}),(0,a.jsx)(x.SelectItem,{value:"hour",children:"æŒ‰å°æ—¶"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"é—´éš”å€¼"}),(0,a.jsx)(t.Input,{type:"number",min:1,value:$.summaryPushIntervalValue,onChange:e=>Z({...$,summaryPushIntervalValue:parseInt(e.target.value)||1})})]})]}),"day"===$.summaryPushIntervalType&&(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"æŽ¨é€æ—¶é—´ (0-23ç‚¹)"}),(0,a.jsx)(t.Input,{type:"number",min:0,max:23,value:$.summaryPushHour,onChange:e=>Z({...$,summaryPushHour:parseInt(e.target.value)}),className:"w-24"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"æ¶ˆæ¯æ•°é‡"}),(0,a.jsx)(t.Input,{type:"number",min:10,max:500,value:$.summaryPushMessageCount,onChange:e=>Z({...$,summaryPushMessageCount:parseInt(e.target.value)||100}),className:"w-24"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"æ¯æ¬¡æ€»ç»“èŽ·å–æŒ‡å®šæ•°é‡çš„æ–°æ¶ˆæ¯ï¼Œä¸ä¼šé‡å¤æ€»ç»“å·²å¤„ç†çš„æ¶ˆæ¯"})]})]})]}),(0,a.jsxs)(o.TabsContent,{value:"bym",className:"space-y-4 mt-0",children:[(0,a.jsx)(A,{icon:(0,a.jsx)(v.Sparkles,{className:"h-4 w-4 text-purple-500"}),title:"ä¼ªäººæ¨¡å¼",desc:"éšæœºå›žå¤ï¼Œæ¨¡æ‹ŸçœŸäººèŠå¤©",value:$.bymEnabled,onChange:e=>Z({...$,bymEnabled:e})}),"off"!==$.bymEnabled&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"ä¼ªäººäººè®¾"}),(0,a.jsxs)(x.Select,{value:$.bymPresetId,onValueChange:e=>Z({...$,bymPresetId:e}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{placeholder:"é€‰æ‹©äººè®¾..."})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"__default__",children:"ä½¿ç”¨é»˜è®¤é¢„è®¾"}),(0,a.jsx)(x.SelectItem,{value:"__custom__",children:"è‡ªå®šä¹‰æç¤ºè¯"}),ee.map(e=>(0,a.jsx)(x.SelectItem,{value:e.id,children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:e.name}),e.description&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.description})]})},e.id))]})]}),$.bymPresetId&&"__default__"!==$.bymPresetId&&"__custom__"!==$.bymPresetId&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:ee.find(e=>e.id===$.bymPresetId)?.systemPromptPreview||""})]}),"__custom__"===$.bymPresetId&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"è‡ªå®šä¹‰æç¤ºè¯"}),(0,a.jsx)(d.Textarea,{value:$.bymPrompt,onChange:e=>Z({...$,bymPrompt:e.target.value}),placeholder:"ä½ æ˜¯ä¸€ä¸ªçœŸå®žçš„ç¾¤å‹...",rows:3,className:"font-mono text-sm"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{className:"text-sm",children:"è§¦å‘æ¦‚çŽ‡"}),"inherit"===$.bymProbability?(0,a.jsx)(i.Button,{variant:"outline",size:"sm",className:"w-full",onClick:()=>Z({...$,bymProbability:.02}),children:"ç»§æ‰¿å…¨å±€"}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t.Input,{type:"number",min:0,max:100,className:"w-20",value:"number"==typeof $.bymProbability?Math.round(100*$.bymProbability):2,onChange:e=>Z({...$,bymProbability:parseInt(e.target.value)/100})}),(0,a.jsx)("span",{className:"text-sm",children:"%"}),(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>Z({...$,bymProbability:"inherit"}),children:(0,a.jsx)(C.X,{className:"h-3 w-3"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{className:"text-sm",children:"ä½¿ç”¨æ¨¡åž‹"}),(0,a.jsxs)(x.Select,{value:$.bymModel||"__default__",onValueChange:e=>Z({...$,bymModel:"__default__"===e?"":e}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{placeholder:"ç»§æ‰¿"})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"__default__",children:"ç»§æ‰¿å…¨å±€"}),es.map(e=>(0,a.jsx)(x.SelectItem,{value:e,children:e},e))]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{className:"text-sm",children:"æ¸©åº¦"}),"inherit"===$.bymTemperature?(0,a.jsx)(i.Button,{variant:"outline",size:"sm",className:"w-full",onClick:()=>Z({...$,bymTemperature:.9}),children:"ç»§æ‰¿å…¨å±€"}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t.Input,{type:"number",min:0,max:2,step:.1,value:"number"==typeof $.bymTemperature?$.bymTemperature:.9,onChange:e=>Z({...$,bymTemperature:parseFloat(e.target.value)})}),(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>Z({...$,bymTemperature:"inherit"}),children:(0,a.jsx)(C.X,{className:"h-3 w-3"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{className:"text-sm",children:"æœ€å¤§Token"}),"inherit"===$.bymMaxTokens?(0,a.jsx)(i.Button,{variant:"outline",size:"sm",className:"w-full",onClick:()=>Z({...$,bymMaxTokens:100}),children:"ç»§æ‰¿å…¨å±€"}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t.Input,{type:"number",min:10,max:2e3,value:"number"==typeof $.bymMaxTokens?$.bymMaxTokens:100,onChange:e=>Z({...$,bymMaxTokens:parseInt(e.target.value)})}),(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>Z({...$,bymMaxTokens:"inherit"}),children:(0,a.jsx)(C.X,{className:"h-3 w-3"})})]})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.MessageSquare,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)(n.Label,{className:"font-medium",children:"ä¸»åŠ¨å‘è¨€"})]}),(0,a.jsxs)(x.Select,{value:$.proactiveChatEnabled,onValueChange:e=>Z({...$,proactiveChatEnabled:e}),children:[(0,a.jsx)(x.SelectTrigger,{className:"w-24",children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(x.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(x.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"ä¼ªäººæ¨¡å¼ä¸‹å…è®¸æœºå™¨äººä¸»åŠ¨å‘è¨€"}),"off"!==$.proactiveChatEnabled&&(0,a.jsxs)("div",{className:"space-y-3 ml-4 pl-4 border-l-2 border-muted",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"è§¦å‘æ¦‚çŽ‡"}),(0,a.jsxs)(x.Select,{value:"inherit"===$.proactiveChatProbability?"inherit":String($.proactiveChatProbability),onValueChange:e=>Z({...$,proactiveChatProbability:"inherit"===e?"inherit":parseFloat(e)}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(x.SelectItem,{value:"0.02",children:"2%"}),(0,a.jsx)(x.SelectItem,{value:"0.05",children:"5%"}),(0,a.jsx)(x.SelectItem,{value:"0.1",children:"10%"}),(0,a.jsx)(x.SelectItem,{value:"0.2",children:"20%"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"å†·å´(åˆ†é’Ÿ)"}),(0,a.jsxs)(x.Select,{value:"inherit"===$.proactiveChatCooldown?"inherit":String($.proactiveChatCooldown),onValueChange:e=>Z({...$,proactiveChatCooldown:"inherit"===e?"inherit":parseInt(e)}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(x.SelectItem,{value:"5",children:"5åˆ†é’Ÿ"}),(0,a.jsx)(x.SelectItem,{value:"10",children:"10åˆ†é’Ÿ"}),(0,a.jsx)(x.SelectItem,{value:"30",children:"30åˆ†é’Ÿ"}),(0,a.jsx)(x.SelectItem,{value:"60",children:"1å°æ—¶"})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"æ¯æ—¥ä¸Šé™"}),(0,a.jsxs)(x.Select,{value:"inherit"===$.proactiveChatMaxDaily?"inherit":String($.proactiveChatMaxDaily),onValueChange:e=>Z({...$,proactiveChatMaxDaily:"inherit"===e?"inherit":parseInt(e)}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(x.SelectItem,{value:"5",children:"5æ¬¡"}),(0,a.jsx)(x.SelectItem,{value:"10",children:"10æ¬¡"}),(0,a.jsx)(x.SelectItem,{value:"20",children:"20æ¬¡"}),(0,a.jsx)(x.SelectItem,{value:"50",children:"50æ¬¡"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"æœ€å°‘æ¶ˆæ¯"}),(0,a.jsx)(t.Input,{type:"number",min:1,max:50,value:$.proactiveChatMinMessages,onChange:e=>Z({...$,proactiveChatMinMessages:parseInt(e.target.value)||5})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"æ´»è·ƒæ—¶æ®µå¼€å§‹"}),(0,a.jsx)(t.Input,{type:"number",min:0,max:23,value:$.proactiveChatTimeStart,onChange:e=>Z({...$,proactiveChatTimeStart:parseInt(e.target.value)||8})})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"æ´»è·ƒæ—¶æ®µç»“æŸ"}),(0,a.jsx)(t.Input,{type:"number",min:0,max:23,value:$.proactiveChatTimeEnd,onChange:e=>Z({...$,proactiveChatTimeEnd:parseInt(e.target.value)||23})})]})]})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(R.Smile,{className:"h-4 w-4 text-yellow-500"}),(0,a.jsx)(n.Label,{className:"font-medium",children:"å›žå¤é£Žæ ¼"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"å›žå¤é•¿åº¦"}),(0,a.jsxs)(x.Select,{value:$.bymReplyLength,onValueChange:e=>Z({...$,bymReplyLength:e}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"short",children:"ç®€çŸ­"}),(0,a.jsx)(x.SelectItem,{value:"medium",children:"é€‚ä¸­"}),(0,a.jsx)(x.SelectItem,{value:"long",children:"è¯¦ç»†"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pt-5",children:[(0,a.jsx)(c.Switch,{checked:$.bymUseEmoji,onCheckedChange:e=>Z({...$,bymUseEmoji:e})}),(0,a.jsx)(n.Label,{className:"text-sm",children:"ä½¿ç”¨è¡¨æƒ…"})]})]})]})]})]}),(0,a.jsxs)(o.TabsContent,{value:"channel",className:"space-y-4 mt-0",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.MessageSquare,{className:"h-4 w-4 text-blue-500"}),(0,a.jsx)(n.Label,{className:"text-base font-medium",children:"èŠå¤©é…ç½®"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"é…ç½®æœ¬ç¾¤çš„èŠå¤©è¡Œä¸ºå’Œå›žå¤æ–¹å¼"}),(0,a.jsxs)("div",{className:"space-y-3 p-3 rounded-lg border bg-card",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"ä¸Šä¸‹æ–‡é•¿åº¦"}),(0,a.jsx)(t.Input,{type:"number",min:1,max:100,value:$.chatContextLength,onChange:e=>Z({...$,chatContextLength:parseInt(e.target.value)||20})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pt-5",children:[(0,a.jsx)(c.Switch,{checked:$.chatEnabled,onCheckedChange:e=>Z({...$,chatEnabled:e})}),(0,a.jsx)(n.Label,{className:"text-sm",children:"å¯ç”¨å¯¹è¯"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Switch,{checked:$.chatStreamReply,onCheckedChange:e=>Z({...$,chatStreamReply:e})}),(0,a.jsx)(n.Label,{className:"text-xs",children:"æµå¼å›žå¤"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Switch,{checked:$.chatQuoteReply,onCheckedChange:e=>Z({...$,chatQuoteReply:e})}),(0,a.jsx)(n.Label,{className:"text-xs",children:"å¼•ç”¨å›žå¤"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Switch,{checked:$.chatShowThinking,onCheckedChange:e=>Z({...$,chatShowThinking:e})}),(0,a.jsx)(n.Label,{className:"text-xs",children:"æ˜¾ç¤ºæ€è€ƒ"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4 border-t pt-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(B.Server,{className:"h-4 w-4 text-purple-500"}),(0,a.jsx)(n.Label,{className:"text-base font-medium",children:"ç¾¤ç‹¬ç«‹æ¸ é“"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"ä¸ºæœ¬ç¾¤é…ç½®ç‹¬ç«‹çš„APIæ¸ é“ï¼Œä¼˜å…ˆçº§é«˜äºŽå…¨å±€é…ç½®"}),(0,a.jsxs)("div",{className:"space-y-3 p-3 rounded-lg border bg-card",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{className:"text-sm",children:"APIåœ°å€"}),(0,a.jsx)(t.Input,{value:$.independentBaseUrl,onChange:e=>Z({...$,independentBaseUrl:e.target.value}),placeholder:"https://api.openai.com/v1"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{className:"text-sm",children:"API Key"}),(0,a.jsx)(t.Input,{type:"password",value:$.independentApiKey,onChange:e=>Z({...$,independentApiKey:e.target.value}),placeholder:"sk-..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{className:"text-sm",children:"é€‚é…å™¨ç±»åž‹"}),(0,a.jsxs)(x.Select,{value:$.independentAdapterType,onValueChange:e=>Z({...$,independentAdapterType:e}),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"openai",children:"OpenAI"}),(0,a.jsx)(x.SelectItem,{value:"azure",children:"Azure"}),(0,a.jsx)(x.SelectItem,{value:"claude",children:"Claude"}),(0,a.jsx)(x.SelectItem,{value:"gemini",children:"Gemini"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{className:"text-sm",children:"ç‹¬ç«‹æ¨¡åž‹"}),(0,a.jsx)(t.Input,{value:$.chatModel,onChange:e=>Z({...$,chatModel:e.target.value}),placeholder:"gpt-4o"})]})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"é…ç½®ç‹¬ç«‹æ¸ é“åŽï¼Œæœ¬ç¾¤å°†ä¼˜å…ˆä½¿ç”¨æ­¤æ¸ é“è¿›è¡Œå¯¹è¯"})]})]}),(0,a.jsxs)(o.TabsContent,{value:"advanced",className:"space-y-4 mt-0",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(E.Bot,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)(n.Label,{children:"æ¨¡åž‹é…ç½®"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"ä¸ºæœ¬ç¾¤é…ç½®å„åœºæ™¯ç‹¬ç«‹æ¨¡åž‹ï¼ˆç•™ç©ºä½¿ç”¨å…¨å±€é…ç½®ï¼‰"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(z,{label:"å¯¹è¯æ¨¡åž‹",desc:"ä¸»æ¨¡åž‹",value:$.chatModel,models:es,onChange:e=>Z({...$,chatModel:e})}),(0,a.jsx)(z,{label:"æ€»ç»“æ¨¡åž‹",desc:"ç¾¤èŠæ€»ç»“",value:$.summaryModel,models:es,onChange:e=>Z({...$,summaryModel:e})}),(0,a.jsx)(z,{label:"ä¼ªäººæ¨¡åž‹",desc:"ä¼ªäººå›žå¤",value:$.bymModel,models:es,onChange:e=>Z({...$,bymModel:e})}),(0,a.jsx)(z,{label:"ç»˜å›¾æ¨¡åž‹",desc:"å›¾åƒç”Ÿæˆ",value:$.imageGenModel,models:es,onChange:e=>Z({...$,imageGenModel:e})})]})]}),W.length>0&&(0,a.jsxs)("div",{className:"space-y-3 border-t pt-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(G.Brain,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)(n.Label,{children:"çŸ¥è¯†åº“"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"ä¸ºæœ¬ç¾¤å…³è”çŸ¥è¯†åº“ï¼ŒAIå›žå¤æ—¶å¯å‚è€ƒçŸ¥è¯†åº“å†…å®¹"}),(0,a.jsx)("div",{className:"space-y-2",children:W.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded border bg-card",children:[(0,a.jsx)(c.Switch,{checked:$.knowledgeIds.includes(e.id),onCheckedChange:a=>{a?Z({...$,knowledgeIds:[...$.knowledgeIds,e.id]}):Z({...$,knowledgeIds:$.knowledgeIds.filter(a=>a!==e.id)})}}),(0,a.jsx)("span",{className:"text-sm",children:e.name})]},e.id))})]}),(0,a.jsx)("div",{className:"border-t pt-4 mt-4",children:(0,a.jsx)("div",{className:"p-3 rounded-lg bg-muted/50 text-sm text-muted-foreground",children:(0,a.jsx)("p",{children:"ðŸ’¡ æ›´å¤šé«˜çº§è®¾ç½®ï¼ˆå¦‚MCPæœåŠ¡ã€å·¥å…·ç»„é…ç½®ç­‰ï¼‰è¯·åœ¨ä¸»ç®¡ç†é¢æ¿ä¸­é…ç½®"})})})]})]})]})})}),(0,a.jsx)("div",{className:"mt-6 text-center text-sm text-gray-500",children:(0,a.jsxs)("p",{children:["ChatGPT Plugin ç¾¤ç®¡ç†é¢æ¿ Â· ç¾¤ ",H]})})]})})}function A({icon:e,title:s,desc:l,value:i,onChange:t}){return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-md bg-muted",children:e}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:s}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:l})]})]}),(0,a.jsxs)(x.Select,{value:i,onValueChange:t,children:[(0,a.jsx)(x.SelectTrigger,{className:"w-28",children:(0,a.jsx)(x.SelectValue,{})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,a.jsx)(x.SelectItem,{value:"on",children:"å¼€å¯"}),(0,a.jsx)(x.SelectItem,{value:"off",children:"å…³é—­"})]})]})]})}function U({label:e,value:s,models:l,onChange:i}){return(0,a.jsxs)("div",{className:"ml-4 pl-4 border-l-2 border-muted space-y-2",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:e}),(0,a.jsxs)(x.Select,{value:s||"__default__",onValueChange:e=>i("__default__"===e?"":e),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{placeholder:"ç»§æ‰¿å…¨å±€"})}),(0,a.jsxs)(x.SelectContent,{children:[(0,a.jsx)(x.SelectItem,{value:"__default__",children:"ç»§æ‰¿å…¨å±€"}),l.map(e=>(0,a.jsx)(x.SelectItem,{value:e,children:e},e))]})]})]})}function z({label:e,desc:s,value:l,models:i,onChange:t}){return(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)(n.Label,{className:"text-xs",children:[e," ",(0,a.jsxs)("span",{className:"text-muted-foreground",children:["ï¼ˆ",s,"ï¼‰"]})]}),(0,a.jsxs)(x.Select,{value:l||"__default__",onValueChange:e=>t("__default__"===e?"":e),children:[(0,a.jsx)(x.SelectTrigger,{children:(0,a.jsx)(x.SelectValue,{placeholder:"ä½¿ç”¨å…¨å±€é…ç½®"})}),(0,a.jsxs)(x.SelectContent,{className:"max-h-[200px] overflow-y-auto",children:[(0,a.jsx)(x.SelectItem,{value:"__default__",children:"ä½¿ç”¨å…¨å±€é…ç½®"}),i.map(e=>(0,a.jsx)(x.SelectItem,{value:e,children:e},e))]})]})]})}e.s(["default",()=>K])}]);