(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,17678,e=>{"use strict";var s=e.i(18050),l=e.i(71645),a=e.i(70065),t=e.i(67881),r=e.i(23750),i=e.i(10708),n=e.i(94179),d=e.i(19036),c=e.i(90382),o=e.i(84762),h=e.i(27341),x=e.i(30374),m=e.i(62870),u=e.i(47627),p=e.i(63209),j=e.i(75254);let b=(0,j.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),g=(0,j.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);var y=e.i(88511),v=e.i(31278),I=e.i(7233),N=e.i(16715),f=e.i(56909),w=e.i(27612),P=e.i(61911),C=e.i(14606),S=e.i(84614),T=e.i(54858),E=e.i(46696);let k=[{value:"group",label:"ç¾¤èŠäººæ ¼ (group)",description:"ç‰¹å®šç¾¤ç»„çš„äººæ ¼è®¾å®š"},{value:"group_user",label:"ç¾¤å†…ç”¨æˆ·äººæ ¼ (group_user)",description:"ç‰¹å®šç¾¤å†…ç‰¹å®šç”¨æˆ·çš„äººæ ¼"},{value:"private",label:"ç§èŠäººæ ¼ (private)",description:"ç”¨æˆ·åœ¨ç§èŠåœºæ™¯çš„äººæ ¼"},{value:"user",label:"ç”¨æˆ·å…¨å±€äººæ ¼ (user)",description:"ç”¨æˆ·åœ¨æ‰€æœ‰åœºæ™¯çš„äººæ ¼"},{value:"default",label:"é»˜è®¤é¢„è®¾ (default)",description:"ç³»ç»Ÿé»˜è®¤é¢„è®¾"}];function _(){let[e,j]=(0,l.useState)(!0),[_,D]=(0,l.useState)([]),[B,H]=(0,l.useState)([]),[V,A]=(0,l.useState)([]),[L,M]=(0,l.useState)([]),[G,R]=(0,l.useState)([]),[U,$]=(0,l.useState)({priority:["group","group_user","private","user","default"],useIndependent:!0}),[z,O]=(0,l.useState)(!1),[Q,F]=(0,l.useState)(!1),[q,K]=(0,l.useState)(!1),[J,W]=(0,l.useState)(!1),[X,Y]=(0,l.useState)(!1),[Z,ee]=(0,l.useState)(!1),[es,el]=(0,l.useState)({userId:"",systemPrompt:"",presetId:""}),[ea,et]=(0,l.useState)({groupId:"",systemPrompt:"",presetId:"",bymEnabled:"inherit",imageGenEnabled:"inherit",summaryEnabled:"inherit",eventEnabled:"inherit",customPrefix:"",triggerMode:"default",welcomeEnabled:"inherit",welcomeMessage:"",welcomePrompt:"",welcomeProbability:"inherit",goodbyeEnabled:"inherit",goodbyePrompt:"",goodbyeProbability:"inherit",pokeEnabled:"inherit",pokeBack:!1,pokeProbability:"inherit"}),[er,ei]=(0,l.useState)({groupId:"",userId:"",systemPrompt:"",presetId:""}),[en,ed]=(0,l.useState)({userId:"",systemPrompt:"",presetId:""}),[ec,eo]=(0,l.useState)(""),[,eh]=(0,l.useState)(!1),ex=ec?_.filter(e=>e.userId?.includes(ec)||e.systemPrompt?.includes(ec)):_,em=ec?B.filter(e=>e.groupId?.includes(ec)||e.systemPrompt?.includes(ec)):B,eu=ec?V.filter(e=>e.groupId?.includes(ec)||e.userId?.includes(ec)||e.systemPrompt?.includes(ec)):V,ep=ec?L.filter(e=>e.userId?.includes(ec)||e.systemPrompt?.includes(ec)):L,ej=async()=>{j(!0);try{let[e,s,l,a,t,r]=await Promise.all([T.scopeApi.getUsers().catch(()=>({data:[]})),T.scopeApi.getGroups().catch(()=>({data:[]})),T.scopeApi.getGroupUsers().catch(()=>({data:[]})),T.scopeApi.getPrivates().catch(()=>({data:[]})),T.presetsApi.list().catch(()=>({data:[]})),T.scopeApi.getPersonalityConfig().catch(()=>({data:null}))]);D(e?.data||[]),H(s?.data||[]),A(l?.data||[]),M(a?.data||[]),R(t?.data||[]);let i=r?.data;i&&$({priority:i.priority||["group","group_user","user","default"],useIndependent:!1!==i.useIndependent})}catch(e){E.toast.error("åŠ è½½æ•°æ®å¤±è´¥"),console.error(e)}finally{j(!1)}};(0,l.useEffect)(()=>{ej()},[]);let eb=async()=>{O(!0);try{await T.scopeApi.updatePersonalityConfig(U),E.toast.success("ä¼˜å…ˆçº§é…ç½®å·²ä¿å­˜")}catch(e){E.toast.error("ä¿å­˜å¤±è´¥")}finally{O(!1)}},eg=(e,s)=>{let l=[...U.priority],a=e+s;a<0||a>=l.length||([l[e],l[a]]=[l[a],l[e]],$({...U,priority:l}))},ey=U.priority.map(e=>{let s=k.find(s=>s.value===e);return s?s.label:e}).join(" > "),ev=e=>{e?(ee(!0),el({userId:e.userId||"",systemPrompt:e.systemPrompt||"",presetId:e.presetId||""})):(ee(!1),el({userId:"",systemPrompt:"",presetId:""})),F(!0)},eI=async()=>{if(!es.userId)return void E.toast.warning("è¯·è¾“å…¥ç”¨æˆ·ID");try{await T.scopeApi.updateUser(es.userId,{systemPrompt:es.systemPrompt,presetId:es.presetId}),E.toast.success("ä¿å­˜æˆåŠŸ"),F(!1),ej()}catch(e){E.toast.error("ä¿å­˜å¤±è´¥")}},eN=async e=>{try{await T.scopeApi.deleteUser(e),E.toast.success("åˆ é™¤æˆåŠŸ"),ej()}catch(e){E.toast.error("åˆ é™¤å¤±è´¥")}},ef=e=>{if(e){ee(!0);let s=e.settings||{};et({groupId:e.groupId||"",systemPrompt:e.systemPrompt||"",presetId:e.presetId||"",bymEnabled:void 0===s.bymEnabled?"inherit":s.bymEnabled?"on":"off",imageGenEnabled:void 0===s.imageGenEnabled?"inherit":s.imageGenEnabled?"on":"off",summaryEnabled:void 0===s.summaryEnabled?"inherit":s.summaryEnabled?"on":"off",eventEnabled:void 0===s.eventEnabled?"inherit":s.eventEnabled?"on":"off",customPrefix:s.customPrefix||"",triggerMode:s.triggerMode||"default",welcomeEnabled:void 0===s.welcomeEnabled?"inherit":s.welcomeEnabled?"on":"off",welcomeMessage:s.welcomeMessage||"",welcomePrompt:s.welcomePrompt||"",welcomeProbability:s.welcomeProbability??"inherit",goodbyeEnabled:void 0===s.goodbyeEnabled?"inherit":s.goodbyeEnabled?"on":"off",goodbyePrompt:s.goodbyePrompt||"",goodbyeProbability:s.goodbyeProbability??"inherit",pokeEnabled:void 0===s.pokeEnabled?"inherit":s.pokeEnabled?"on":"off",pokeBack:s.pokeBack||!1,pokeProbability:s.pokeProbability??"inherit"})}else ee(!1),et({groupId:"",systemPrompt:"",presetId:"",bymEnabled:"inherit",imageGenEnabled:"inherit",summaryEnabled:"inherit",eventEnabled:"inherit",customPrefix:"",triggerMode:"default",welcomeEnabled:"inherit",welcomeMessage:"",welcomePrompt:"",welcomeProbability:"inherit",goodbyeEnabled:"inherit",goodbyePrompt:"",goodbyeProbability:"inherit",pokeEnabled:"inherit",pokeBack:!1,pokeProbability:"inherit"});K(!0)},ew=async()=>{if(!ea.groupId)return void E.toast.warning("è¯·è¾“å…¥ç¾¤ç»„ID");try{await T.scopeApi.updateGroup(ea.groupId,{systemPrompt:ea.systemPrompt,presetId:ea.presetId,bymEnabled:"inherit"===ea.bymEnabled?void 0:"on"===ea.bymEnabled,imageGenEnabled:"inherit"===ea.imageGenEnabled?void 0:"on"===ea.imageGenEnabled,summaryEnabled:"inherit"===ea.summaryEnabled?void 0:"on"===ea.summaryEnabled,eventEnabled:"inherit"===ea.eventEnabled?void 0:"on"===ea.eventEnabled,customPrefix:ea.customPrefix||void 0,triggerMode:ea.triggerMode,welcomeEnabled:"inherit"===ea.welcomeEnabled?void 0:"on"===ea.welcomeEnabled,welcomeMessage:ea.welcomeMessage||void 0,welcomePrompt:ea.welcomePrompt||void 0,welcomeProbability:"inherit"===ea.welcomeProbability?void 0:ea.welcomeProbability,goodbyeEnabled:"inherit"===ea.goodbyeEnabled?void 0:"on"===ea.goodbyeEnabled,goodbyePrompt:ea.goodbyePrompt||void 0,goodbyeProbability:"inherit"===ea.goodbyeProbability?void 0:ea.goodbyeProbability,pokeEnabled:"inherit"===ea.pokeEnabled?void 0:"on"===ea.pokeEnabled,pokeBack:ea.pokeBack,pokeProbability:"inherit"===ea.pokeProbability?void 0:ea.pokeProbability}),E.toast.success("ä¿å­˜æˆåŠŸ"),K(!1),ej()}catch(e){E.toast.error("ä¿å­˜å¤±è´¥")}},eP=async e=>{try{await T.scopeApi.deleteGroup(e),E.toast.success("åˆ é™¤æˆåŠŸ"),ej()}catch(e){E.toast.error("åˆ é™¤å¤±è´¥")}},eC=e=>{e?(ee(!0),ei({groupId:e.groupId||"",userId:e.userId||"",systemPrompt:e.systemPrompt||"",presetId:e.presetId||""})):(ee(!1),ei({groupId:"",userId:"",systemPrompt:"",presetId:""})),W(!0)},eS=async()=>{if(!er.groupId||!er.userId)return void E.toast.warning("è¯·è¾“å…¥ç¾¤ç»„IDå’Œç”¨æˆ·ID");try{await T.scopeApi.updateGroupUser(er.groupId,er.userId,{systemPrompt:er.systemPrompt,presetId:er.presetId}),E.toast.success("ä¿å­˜æˆåŠŸ"),W(!1),ej()}catch(e){E.toast.error("ä¿å­˜å¤±è´¥")}},eT=async(e,s)=>{try{await T.scopeApi.deleteGroupUser(e,s),E.toast.success("åˆ é™¤æˆåŠŸ"),ej()}catch(e){E.toast.error("åˆ é™¤å¤±è´¥")}},eE=e=>{e?(ee(!0),ed({userId:e.userId||"",systemPrompt:e.systemPrompt||"",presetId:e.presetId||""})):(ee(!1),ed({userId:"",systemPrompt:"",presetId:""})),Y(!0)},ek=async()=>{if(!en.userId)return void E.toast.warning("è¯·è¾“å…¥ç”¨æˆ·ID");try{await T.scopeApi.updatePrivate(en.userId,{systemPrompt:en.systemPrompt,presetId:en.presetId}),E.toast.success("ä¿å­˜æˆåŠŸ"),Y(!1),ej()}catch(e){E.toast.error("ä¿å­˜å¤±è´¥")}},e_=async e=>{try{await T.scopeApi.deletePrivate(e),E.toast.success("åˆ é™¤æˆåŠŸ"),ej()}catch(e){E.toast.error("åˆ é™¤å¤±è´¥")}},eD=_.length+B.length+V.length+L.length;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(a.Card,{children:[(0,s.jsxs)(a.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(a.CardTitle,{children:"äººæ ¼ä¼˜å…ˆçº§é…ç½®"}),(0,s.jsx)(a.CardDescription,{children:"é…ç½®ä¸åŒä½œç”¨åŸŸäººæ ¼çš„ä¼˜å…ˆçº§é¡ºåº"})]}),(0,s.jsxs)(t.Button,{onClick:eb,disabled:z,children:[z&&(0,s.jsx)(v.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),(0,s.jsx)(f.Save,{className:"mr-2 h-4 w-4"}),"ä¿å­˜é…ç½®"]})]}),(0,s.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg flex items-start gap-2",children:[(0,s.jsx)(p.AlertCircle,{className:"h-4 w-4 text-blue-600 mt-0.5"}),(0,s.jsxs)("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:["å½“å¤šä¸ªä½œç”¨åŸŸéƒ½è®¾ç½®äº†äººæ ¼æ—¶ï¼ŒæŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§é€‰æ‹©ç¬¬ä¸€ä¸ªæœ‰æ•ˆçš„äººæ ¼ã€‚",(0,s.jsx)("br",{}),"å½“å‰ä¼˜å…ˆçº§: ",(0,s.jsx)("strong",{children:ey})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.Label,{children:"å¯ç”¨ç‹¬ç«‹äººæ ¼"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"å¼€å¯åŽï¼Œæ‰¾åˆ°çš„äººæ ¼å°†å®Œå…¨æ›¿æ¢é»˜è®¤é¢„è®¾ï¼Œè€Œä¸æ˜¯æ‹¼æŽ¥"})]}),(0,s.jsx)(d.Switch,{checked:U.useIndependent,onCheckedChange:e=>$({...U,useIndependent:e})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"ä¼˜å…ˆçº§é¡ºåºï¼ˆä»Žé«˜åˆ°ä½Žï¼‰"}),(0,s.jsx)("div",{className:"space-y-2",children:U.priority.map((e,l)=>{let a=k.find(s=>s.value===e);return(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[(0,s.jsx)("div",{className:"w-7 h-7 flex items-center justify-center bg-primary text-primary-foreground rounded-full font-bold text-sm",children:l+1}),(0,s.jsx)(n.Badge,{variant:"default"===e?"secondary":"default",className:"text-sm",children:a?.label||e}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",disabled:0===l,onClick:()=>eg(l,-1),children:(0,s.jsx)(g,{className:"h-4 w-4"})}),(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",disabled:l===U.priority.length-1,onClick:()=>eg(l,1),children:(0,s.jsx)(b,{className:"h-4 w-4"})})]}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground ml-auto",children:a?.description})]},e)})})]})]})]}),(0,s.jsxs)(a.Card,{children:[(0,s.jsxs)(a.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(a.CardTitle,{children:"äººæ ¼è®¾å®šç®¡ç†"}),(0,s.jsx)(a.CardDescription,{children:"ç®¡ç†ç”¨æˆ·ã€ç¾¤ç»„ã€ç¾¤å†…ç”¨æˆ·çš„ç‹¬ç«‹äººæ ¼"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.Input,{placeholder:"æœç´¢ ID æˆ– Prompt...",value:ec,onChange:e=>eo(e.target.value),className:"w-48"}),(0,s.jsxs)(n.Badge,{variant:"outline",children:["å…± ",eD," æ¡"]}),(0,s.jsxs)(t.Button,{variant:"outline",onClick:ej,disabled:e,children:[(0,s.jsx)(N.RefreshCw,{className:`mr-2 h-4 w-4 ${e?"animate-spin":""}`}),"åˆ·æ–°"]})]})]}),(0,s.jsx)(a.CardContent,{children:(0,s.jsxs)(h.Tabs,{defaultValue:"user",children:[(0,s.jsxs)(h.TabsList,{className:"mb-4",children:[(0,s.jsxs)(h.TabsTrigger,{value:"user",className:"gap-2",children:[(0,s.jsx)(S.User,{className:"h-4 w-4"}),"ç”¨æˆ·äººæ ¼ (",ex.length,ec&&_.length!==ex.length?`/${_.length}`:"",")"]}),(0,s.jsxs)(h.TabsTrigger,{value:"group",className:"gap-2",children:[(0,s.jsx)(C.UsersRound,{className:"h-4 w-4"}),"ç¾¤ç»„äººæ ¼ (",em.length,ec&&B.length!==em.length?`/${B.length}`:"",")"]}),(0,s.jsxs)(h.TabsTrigger,{value:"groupUser",className:"gap-2",children:[(0,s.jsx)(P.Users,{className:"h-4 w-4"}),"ç¾¤å†…ç”¨æˆ·äººæ ¼ (",eu.length,ec&&V.length!==eu.length?`/${V.length}`:"",")"]}),(0,s.jsxs)(h.TabsTrigger,{value:"private",className:"gap-2",children:[(0,s.jsx)(S.User,{className:"h-4 w-4"}),"ç§èŠäººæ ¼ (",ep.length,ec&&L.length!==ep.length?`/${L.length}`:"",")"]})]}),(0,s.jsx)(h.TabsContent,{value:"user",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(t.Button,{onClick:()=>ev(),children:[(0,s.jsx)(I.Plus,{className:"mr-2 h-4 w-4"}),"æ·»åŠ ç”¨æˆ·äººæ ¼"]}),(0,s.jsxs)(u.Table,{children:[(0,s.jsx)(u.TableHeader,{children:(0,s.jsxs)(u.TableRow,{children:[(0,s.jsx)(u.TableHead,{children:"ç”¨æˆ·ID"}),(0,s.jsx)(u.TableHead,{children:"è‡ªå®šä¹‰Prompt"}),(0,s.jsx)(u.TableHead,{children:"é¢„è®¾"}),(0,s.jsx)(u.TableHead,{children:"æ›´æ–°æ—¶é—´"}),(0,s.jsx)(u.TableHead,{className:"text-right",children:"æ“ä½œ"})]})}),(0,s.jsx)(u.TableBody,{children:0===ex.length?(0,s.jsx)(u.TableRow,{children:(0,s.jsx)(u.TableCell,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:ec?"æ²¡æœ‰åŒ¹é…çš„ç”¨æˆ·äººæ ¼è®¾å®š":"æš‚æ— ç”¨æˆ·äººæ ¼è®¾å®š"})}):ex.map(e=>(0,s.jsxs)(u.TableRow,{children:[(0,s.jsx)(u.TableCell,{className:"font-medium",children:e.userId}),(0,s.jsx)(u.TableCell,{className:"max-w-[200px] truncate",children:e.systemPrompt||"-"}),(0,s.jsx)(u.TableCell,{children:e.presetId||"-"}),(0,s.jsx)(u.TableCell,{children:e.updatedAt?new Date(e.updatedAt).toLocaleString():"-"}),(0,s.jsx)(u.TableCell,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-1",children:[(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>ev(e),children:(0,s.jsx)(y.Edit,{className:"h-4 w-4"})}),(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>eN(e.userId),children:(0,s.jsx)(w.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},e.userId))})]})]})}),(0,s.jsx)(h.TabsContent,{value:"group",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(t.Button,{onClick:()=>ef(),children:[(0,s.jsx)(I.Plus,{className:"mr-2 h-4 w-4"}),"æ·»åŠ ç¾¤ç»„äººæ ¼"]}),(0,s.jsxs)(u.Table,{children:[(0,s.jsx)(u.TableHeader,{children:(0,s.jsxs)(u.TableRow,{children:[(0,s.jsx)(u.TableHead,{children:"ç¾¤ç»„ID"}),(0,s.jsx)(u.TableHead,{children:"è‡ªå®šä¹‰Prompt"}),(0,s.jsx)(u.TableHead,{children:"é¢„è®¾"}),(0,s.jsx)(u.TableHead,{children:"æ›´æ–°æ—¶é—´"}),(0,s.jsx)(u.TableHead,{className:"text-right",children:"æ“ä½œ"})]})}),(0,s.jsx)(u.TableBody,{children:0===em.length?(0,s.jsx)(u.TableRow,{children:(0,s.jsx)(u.TableCell,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:ec?"æ²¡æœ‰åŒ¹é…çš„ç¾¤ç»„äººæ ¼è®¾å®š":"æš‚æ— ç¾¤ç»„äººæ ¼è®¾å®š"})}):em.map(e=>(0,s.jsxs)(u.TableRow,{children:[(0,s.jsx)(u.TableCell,{className:"font-medium",children:e.groupId}),(0,s.jsx)(u.TableCell,{className:"max-w-[200px] truncate",children:e.systemPrompt||"-"}),(0,s.jsx)(u.TableCell,{children:e.presetId||"-"}),(0,s.jsx)(u.TableCell,{children:e.updatedAt?new Date(e.updatedAt).toLocaleString():"-"}),(0,s.jsx)(u.TableCell,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-1",children:[(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>ef(e),children:(0,s.jsx)(y.Edit,{className:"h-4 w-4"})}),(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>eP(e.groupId),children:(0,s.jsx)(w.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},e.groupId))})]})]})}),(0,s.jsx)(h.TabsContent,{value:"groupUser",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(t.Button,{onClick:()=>eC(),children:[(0,s.jsx)(I.Plus,{className:"mr-2 h-4 w-4"}),"æ·»åŠ ç¾¤å†…ç”¨æˆ·äººæ ¼"]}),(0,s.jsxs)(u.Table,{children:[(0,s.jsx)(u.TableHeader,{children:(0,s.jsxs)(u.TableRow,{children:[(0,s.jsx)(u.TableHead,{children:"ç¾¤ç»„ID"}),(0,s.jsx)(u.TableHead,{children:"ç”¨æˆ·ID"}),(0,s.jsx)(u.TableHead,{children:"è‡ªå®šä¹‰Prompt"}),(0,s.jsx)(u.TableHead,{children:"é¢„è®¾"}),(0,s.jsx)(u.TableHead,{className:"text-right",children:"æ“ä½œ"})]})}),(0,s.jsx)(u.TableBody,{children:0===eu.length?(0,s.jsx)(u.TableRow,{children:(0,s.jsx)(u.TableCell,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:ec?"æ²¡æœ‰åŒ¹é…çš„ç¾¤å†…ç”¨æˆ·äººæ ¼è®¾å®š":"æš‚æ— ç¾¤å†…ç”¨æˆ·äººæ ¼è®¾å®š"})}):eu.map(e=>(0,s.jsxs)(u.TableRow,{children:[(0,s.jsx)(u.TableCell,{className:"font-medium",children:e.groupId}),(0,s.jsx)(u.TableCell,{children:e.userId}),(0,s.jsx)(u.TableCell,{className:"max-w-[200px] truncate",children:e.systemPrompt||"-"}),(0,s.jsx)(u.TableCell,{children:e.presetId||"-"}),(0,s.jsx)(u.TableCell,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-1",children:[(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>eC(e),children:(0,s.jsx)(y.Edit,{className:"h-4 w-4"})}),(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>eT(e.groupId,e.userId),children:(0,s.jsx)(w.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},`${e.groupId}-${e.userId}`))})]})]})}),(0,s.jsx)(h.TabsContent,{value:"private",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(t.Button,{onClick:()=>eE(),children:[(0,s.jsx)(I.Plus,{className:"mr-2 h-4 w-4"}),"æ·»åŠ ç§èŠäººæ ¼"]}),(0,s.jsxs)(u.Table,{children:[(0,s.jsx)(u.TableHeader,{children:(0,s.jsxs)(u.TableRow,{children:[(0,s.jsx)(u.TableHead,{children:"ç”¨æˆ·ID"}),(0,s.jsx)(u.TableHead,{children:"è‡ªå®šä¹‰Prompt"}),(0,s.jsx)(u.TableHead,{children:"é¢„è®¾"}),(0,s.jsx)(u.TableHead,{children:"æ›´æ–°æ—¶é—´"}),(0,s.jsx)(u.TableHead,{className:"text-right",children:"æ“ä½œ"})]})}),(0,s.jsx)(u.TableBody,{children:0===ep.length?(0,s.jsx)(u.TableRow,{children:(0,s.jsx)(u.TableCell,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:ec?"æ²¡æœ‰åŒ¹é…çš„ç§èŠäººæ ¼è®¾å®š":"æš‚æ— ç§èŠäººæ ¼è®¾å®š"})}):ep.map(e=>(0,s.jsxs)(u.TableRow,{children:[(0,s.jsx)(u.TableCell,{className:"font-medium",children:e.userId}),(0,s.jsx)(u.TableCell,{className:"max-w-[200px] truncate",children:e.systemPrompt||"-"}),(0,s.jsx)(u.TableCell,{children:e.presetId||"-"}),(0,s.jsx)(u.TableCell,{children:e.updatedAt?new Date(e.updatedAt).toLocaleString():"-"}),(0,s.jsx)(u.TableCell,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-1",children:[(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>eE(e),children:(0,s.jsx)(y.Edit,{className:"h-4 w-4"})}),(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>e_(e.userId),children:(0,s.jsx)(w.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},e.userId))})]})]})})]})})]}),(0,s.jsx)(x.Dialog,{open:Q,onOpenChange:F,children:(0,s.jsxs)(x.DialogContent,{children:[(0,s.jsxs)(x.DialogHeader,{children:[(0,s.jsx)(x.DialogTitle,{children:Z?"ç¼–è¾‘ç”¨æˆ·äººæ ¼":"æ·»åŠ ç”¨æˆ·äººæ ¼"}),(0,s.jsx)(x.DialogDescription,{children:"ä¸ºç‰¹å®šç”¨æˆ·è®¾ç½®ç‹¬ç«‹çš„äººæ ¼"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"ç”¨æˆ·ID *"}),(0,s.jsx)(r.Input,{value:es.userId,onChange:e=>el({...es,userId:e.target.value}),placeholder:"QQå·",disabled:Z})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"è‡ªå®šä¹‰Prompt"}),(0,s.jsx)(o.Textarea,{value:es.systemPrompt,onChange:e=>el({...es,systemPrompt:e.target.value}),placeholder:"ä¸ºè¯¥ç”¨æˆ·è®¾ç½®ä¸“å±žçš„ç³»ç»Ÿæç¤ºè¯...ç•™ç©ºè¡¨ç¤ºä½¿ç”¨ç©ºäººè®¾ï¼ˆæ— ç³»ç»Ÿæç¤ºè¯ï¼‰",rows:6}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["æ”¯æŒå˜é‡: ","{{user_name}}"," ","{{user_id}}"," ","{{group_name}}"," ","{{date}}"," ","{{time}}"," ","ç­‰",(0,s.jsx)("br",{}),"æ”¯æŒè¡¨è¾¾å¼: ","${e.user_id}"," ","${e.group?.name}"," (eä¸ºeventå¯¹è±¡)"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"ä½¿ç”¨é¢„è®¾"}),(0,s.jsxs)(m.Select,{value:es.presetId||"__none__",onValueChange:e=>el({...es,presetId:"__none__"===e?"":e}),children:[(0,s.jsx)(m.SelectTrigger,{children:(0,s.jsx)(m.SelectValue,{placeholder:"é€‰æ‹©é¢„è®¾ï¼ˆå¯é€‰ï¼‰"})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"__none__",children:"ä¸ä½¿ç”¨é¢„è®¾"}),G.map(e=>(0,s.jsx)(m.SelectItem,{value:e.id,children:e.name||e.id},e.id))]})]})]})]}),(0,s.jsxs)(x.DialogFooter,{children:[(0,s.jsx)(t.Button,{variant:"outline",onClick:()=>F(!1),children:"å–æ¶ˆ"}),(0,s.jsx)(t.Button,{onClick:eI,children:"ä¿å­˜"})]})]})}),(0,s.jsx)(x.Dialog,{open:q,onOpenChange:K,children:(0,s.jsxs)(x.DialogContent,{children:[(0,s.jsxs)(x.DialogHeader,{children:[(0,s.jsx)(x.DialogTitle,{children:Z?"ç¼–è¾‘ç¾¤ç»„äººæ ¼":"æ·»åŠ ç¾¤ç»„äººæ ¼"}),(0,s.jsx)(x.DialogDescription,{children:"ä¸ºç‰¹å®šç¾¤ç»„è®¾ç½®ç‹¬ç«‹çš„äººæ ¼"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"ç¾¤ç»„ID *"}),(0,s.jsx)(r.Input,{value:ea.groupId,onChange:e=>et({...ea,groupId:e.target.value}),placeholder:"ç¾¤å·",disabled:Z})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"è‡ªå®šä¹‰Prompt"}),(0,s.jsx)(o.Textarea,{value:ea.systemPrompt,onChange:e=>et({...ea,systemPrompt:e.target.value}),placeholder:"ä¸ºè¯¥ç¾¤ç»„è®¾ç½®ä¸“å±žçš„ç³»ç»Ÿæç¤ºè¯...ç•™ç©ºè¡¨ç¤ºä½¿ç”¨ç©ºäººè®¾",rows:6}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["æ”¯æŒå˜é‡: ","{{user_name}}"," ","{{group_name}}"," ","{{date}}"," ","{{time}}"," ç­‰",(0,s.jsx)("br",{}),"æ”¯æŒè¡¨è¾¾å¼: ","${e.user_id}"," ","${e.group?.name}"," (eä¸ºeventå¯¹è±¡)"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"ä½¿ç”¨é¢„è®¾"}),(0,s.jsxs)(m.Select,{value:ea.presetId||"__none__",onValueChange:e=>et({...ea,presetId:"__none__"===e?"":e}),children:[(0,s.jsx)(m.SelectTrigger,{children:(0,s.jsx)(m.SelectValue,{placeholder:"é€‰æ‹©é¢„è®¾ï¼ˆå¯é€‰ï¼‰"})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"__none__",children:"ä¸ä½¿ç”¨é¢„è®¾"}),G.map(e=>(0,s.jsx)(m.SelectItem,{value:e.id,children:e.name||e.id},e.id))]})]})]}),(0,s.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,s.jsx)(i.Label,{className:"text-base font-medium",children:"ç¾¤ç»„åŠŸèƒ½å¼€å…³"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"ç¾¤ç®¡ç†å‘˜å¯é€šè¿‡å‘½ä»¤æˆ–æ­¤å¤„æŽ§åˆ¶æœ¬ç¾¤åŠŸèƒ½"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm",children:"ðŸŽ­ ä¼ªäººæ¨¡å¼"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"éšæœºå›žå¤æ¶ˆæ¯ï¼Œæ¨¡æ‹ŸçœŸäººèŠå¤©"})]}),(0,s.jsxs)(m.Select,{value:ea.bymEnabled,onValueChange:e=>et({...ea,bymEnabled:e}),children:[(0,s.jsx)(m.SelectTrigger,{className:"w-32",children:(0,s.jsx)(m.SelectValue,{})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"inherit",children:"ç»§æ‰¿å…¨å±€"}),(0,s.jsx)(m.SelectItem,{value:"on",children:"å¼€å¯"}),(0,s.jsx)(m.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm",children:"ðŸŽ¨ ç»˜å›¾åŠŸèƒ½"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"æ–‡ç”Ÿå›¾ã€å›¾ç”Ÿå›¾ã€è§†é¢‘ç”Ÿæˆç­‰"})]}),(0,s.jsxs)(m.Select,{value:ea.imageGenEnabled,onValueChange:e=>et({...ea,imageGenEnabled:e}),children:[(0,s.jsx)(m.SelectTrigger,{className:"w-32",children:(0,s.jsx)(m.SelectValue,{})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"inherit",children:"ç»§æ‰¿å…¨å±€"}),(0,s.jsx)(m.SelectItem,{value:"on",children:"å¼€å¯"}),(0,s.jsx)(m.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm",children:"ðŸ“Š ç¾¤èŠæ€»ç»“"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"å…è®¸ä½¿ç”¨ç¾¤èŠæ€»ç»“åŠŸèƒ½"})]}),(0,s.jsxs)(m.Select,{value:ea.summaryEnabled,onValueChange:e=>et({...ea,summaryEnabled:e}),children:[(0,s.jsx)(m.SelectTrigger,{className:"w-32",children:(0,s.jsx)(m.SelectValue,{})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"inherit",children:"ç»§æ‰¿å…¨å±€"}),(0,s.jsx)(m.SelectItem,{value:"on",children:"å¼€å¯"}),(0,s.jsx)(m.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm",children:"ðŸ“¢ äº‹ä»¶å¤„ç†"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"å…¥ç¾¤æ¬¢è¿Žã€é€€ç¾¤æé†’ç­‰"})]}),(0,s.jsxs)(m.Select,{value:ea.eventEnabled,onValueChange:e=>et({...ea,eventEnabled:e}),children:[(0,s.jsx)(m.SelectTrigger,{className:"w-32",children:(0,s.jsx)(m.SelectValue,{})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"inherit",children:"ç»§æ‰¿å…¨å±€"}),(0,s.jsx)(m.SelectItem,{value:"on",children:"å¼€å¯"}),(0,s.jsx)(m.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"off"!==ea.eventEnabled&&(0,s.jsxs)("div",{className:"ml-4 pl-4 border-l-2 border-muted space-y-3 pt-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-xs font-medium",children:"ðŸ‘‹ å…¥ç¾¤æ¬¢è¿Ž"}),(0,s.jsxs)(m.Select,{value:ea.welcomeEnabled,onValueChange:e=>{let s={welcomeEnabled:e};"on"===e&&"inherit"===ea.welcomeProbability&&(s.welcomeProbability=1),et({...ea,...s})},children:[(0,s.jsx)(m.SelectTrigger,{className:"w-24 h-7 text-xs",children:(0,s.jsx)(m.SelectValue,{})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,s.jsx)(m.SelectItem,{value:"on",children:"å¼€å¯"}),(0,s.jsx)(m.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===ea.welcomeEnabled&&(0,s.jsxs)("div",{className:"space-y-2 pl-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground w-12",children:"æ¦‚çŽ‡"}),(0,s.jsx)(c.Slider,{value:["inherit"===ea.welcomeProbability?1:ea.welcomeProbability],onValueChange:([e])=>et({...ea,welcomeProbability:e}),min:0,max:1,step:.05,className:"flex-1"}),(0,s.jsxs)("span",{className:"text-xs w-10 text-right",children:[Math.round(("inherit"===ea.welcomeProbability?1:ea.welcomeProbability)*100),"%"]})]}),(0,s.jsx)(r.Input,{value:ea.welcomeMessage,onChange:e=>et({...ea,welcomeMessage:e.target.value}),placeholder:"å›ºå®šæ¬¢è¿Žè¯­ï¼ˆç•™ç©ºä½¿ç”¨AIï¼‰",className:"h-7 text-xs"}),(0,s.jsx)(o.Textarea,{value:ea.welcomePrompt,onChange:e=>et({...ea,welcomePrompt:e.target.value}),placeholder:"AIæ¬¢è¿Žæç¤ºè¯",rows:2,className:"text-xs"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-xs font-medium",children:"ðŸ‘‹ é€€ç¾¤å‘Šåˆ«"}),(0,s.jsxs)(m.Select,{value:ea.goodbyeEnabled,onValueChange:e=>{let s={goodbyeEnabled:e};"on"===e&&"inherit"===ea.goodbyeProbability&&(s.goodbyeProbability=1),et({...ea,...s})},children:[(0,s.jsx)(m.SelectTrigger,{className:"w-24 h-7 text-xs",children:(0,s.jsx)(m.SelectValue,{})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,s.jsx)(m.SelectItem,{value:"on",children:"å¼€å¯"}),(0,s.jsx)(m.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===ea.goodbyeEnabled&&(0,s.jsxs)("div",{className:"space-y-2 pl-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground w-12",children:"æ¦‚çŽ‡"}),(0,s.jsx)(c.Slider,{value:["inherit"===ea.goodbyeProbability?1:ea.goodbyeProbability],onValueChange:([e])=>et({...ea,goodbyeProbability:e}),min:0,max:1,step:.05,className:"flex-1"}),(0,s.jsxs)("span",{className:"text-xs w-10 text-right",children:[Math.round(("inherit"===ea.goodbyeProbability?1:ea.goodbyeProbability)*100),"%"]})]}),(0,s.jsx)(o.Textarea,{value:ea.goodbyePrompt,onChange:e=>et({...ea,goodbyePrompt:e.target.value}),placeholder:"AIå‘Šåˆ«æç¤ºè¯",rows:2,className:"text-xs"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-xs font-medium",children:"ðŸ‘† æˆ³ä¸€æˆ³"}),(0,s.jsxs)(m.Select,{value:ea.pokeEnabled,onValueChange:e=>{let s={pokeEnabled:e};"on"===e&&"inherit"===ea.pokeProbability&&(s.pokeProbability=1),et({...ea,...s})},children:[(0,s.jsx)(m.SelectTrigger,{className:"w-24 h-7 text-xs",children:(0,s.jsx)(m.SelectValue,{})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"inherit",children:"ç»§æ‰¿"}),(0,s.jsx)(m.SelectItem,{value:"on",children:"å¼€å¯"}),(0,s.jsx)(m.SelectItem,{value:"off",children:"å…³é—­"})]})]})]}),"on"===ea.pokeEnabled&&(0,s.jsxs)("div",{className:"space-y-2 pl-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground w-12",children:"æ¦‚çŽ‡"}),(0,s.jsx)(c.Slider,{value:["inherit"===ea.pokeProbability?1:ea.pokeProbability],onValueChange:([e])=>et({...ea,pokeProbability:e}),min:0,max:1,step:.05,className:"flex-1"}),(0,s.jsxs)("span",{className:"text-xs w-10 text-right",children:[Math.round(("inherit"===ea.pokeProbability?1:ea.pokeProbability)*100),"%"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Switch,{checked:ea.pokeBack,onCheckedChange:e=>et({...ea,pokeBack:e})}),(0,s.jsx)("span",{className:"text-xs",children:"æˆ³å›žåŽ»"})]})]})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"è§¦å‘æ¨¡å¼"}),(0,s.jsxs)(m.Select,{value:ea.triggerMode,onValueChange:e=>et({...ea,triggerMode:e}),children:[(0,s.jsx)(m.SelectTrigger,{children:(0,s.jsx)(m.SelectValue,{})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"default",children:"é»˜è®¤"}),(0,s.jsx)(m.SelectItem,{value:"at",children:"ä»…@è§¦å‘"}),(0,s.jsx)(m.SelectItem,{value:"prefix",children:"ä»…å‰ç¼€è§¦å‘"}),(0,s.jsx)(m.SelectItem,{value:"all",children:"å…¨éƒ¨æ¶ˆæ¯"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"è‡ªå®šä¹‰å‰ç¼€"}),(0,s.jsx)(r.Input,{value:ea.customPrefix,onChange:e=>et({...ea,customPrefix:e.target.value}),placeholder:"ç•™ç©ºä½¿ç”¨å…¨å±€"})]})]})]}),(0,s.jsxs)(x.DialogFooter,{children:[(0,s.jsx)(t.Button,{variant:"outline",onClick:()=>K(!1),children:"å–æ¶ˆ"}),(0,s.jsx)(t.Button,{onClick:ew,children:"ä¿å­˜"})]})]})}),(0,s.jsx)(x.Dialog,{open:J,onOpenChange:W,children:(0,s.jsxs)(x.DialogContent,{children:[(0,s.jsxs)(x.DialogHeader,{children:[(0,s.jsx)(x.DialogTitle,{children:Z?"ç¼–è¾‘ç¾¤å†…ç”¨æˆ·äººæ ¼":"æ·»åŠ ç¾¤å†…ç”¨æˆ·äººæ ¼"}),(0,s.jsx)(x.DialogDescription,{children:"ä¸ºç‰¹å®šç¾¤å†…çš„ç‰¹å®šç”¨æˆ·è®¾ç½®ç‹¬ç«‹çš„äººæ ¼"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"ç¾¤ç»„ID *"}),(0,s.jsx)(r.Input,{value:er.groupId,onChange:e=>ei({...er,groupId:e.target.value}),placeholder:"ç¾¤å·",disabled:Z})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"ç”¨æˆ·ID *"}),(0,s.jsx)(r.Input,{value:er.userId,onChange:e=>ei({...er,userId:e.target.value}),placeholder:"QQå·",disabled:Z})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"è‡ªå®šä¹‰Prompt"}),(0,s.jsx)(o.Textarea,{value:er.systemPrompt,onChange:e=>ei({...er,systemPrompt:e.target.value}),placeholder:"ä¸ºè¯¥ç¾¤å†…çš„ç‰¹å®šç”¨æˆ·è®¾ç½®ä¸“å±žçš„ç³»ç»Ÿæç¤ºè¯...ç•™ç©ºè¡¨ç¤ºä½¿ç”¨ç©ºäººè®¾",rows:6}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["æ”¯æŒå˜é‡: ","{{user_name}}"," ","{{group_name}}"," ","{{date}}"," ç­‰ | è¡¨è¾¾å¼:"," ","${e.user_id}"," (eä¸ºevent)"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"ä½¿ç”¨é¢„è®¾"}),(0,s.jsxs)(m.Select,{value:er.presetId||"__none__",onValueChange:e=>ei({...er,presetId:"__none__"===e?"":e}),children:[(0,s.jsx)(m.SelectTrigger,{children:(0,s.jsx)(m.SelectValue,{placeholder:"é€‰æ‹©é¢„è®¾ï¼ˆå¯é€‰ï¼‰"})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"__none__",children:"ä¸ä½¿ç”¨é¢„è®¾"}),G.map(e=>(0,s.jsx)(m.SelectItem,{value:e.id,children:e.name||e.id},e.id))]})]})]})]}),(0,s.jsxs)(x.DialogFooter,{children:[(0,s.jsx)(t.Button,{variant:"outline",onClick:()=>W(!1),children:"å–æ¶ˆ"}),(0,s.jsx)(t.Button,{onClick:eS,children:"ä¿å­˜"})]})]})}),(0,s.jsx)(x.Dialog,{open:X,onOpenChange:Y,children:(0,s.jsxs)(x.DialogContent,{children:[(0,s.jsxs)(x.DialogHeader,{children:[(0,s.jsx)(x.DialogTitle,{children:Z?"ç¼–è¾‘ç§èŠäººæ ¼":"æ·»åŠ ç§èŠäººæ ¼"}),(0,s.jsx)(x.DialogDescription,{children:"ä¸ºç‰¹å®šç”¨æˆ·åœ¨ç§èŠåœºæ™¯è®¾ç½®ç‹¬ç«‹çš„äººæ ¼"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"ç”¨æˆ·ID *"}),(0,s.jsx)(r.Input,{value:en.userId,onChange:e=>ed({...en,userId:e.target.value}),placeholder:"QQå·",disabled:Z})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"è‡ªå®šä¹‰Prompt"}),(0,s.jsx)(o.Textarea,{value:en.systemPrompt,onChange:e=>ed({...en,systemPrompt:e.target.value}),placeholder:"ä¸ºè¯¥ç”¨æˆ·åœ¨ç§èŠåœºæ™¯è®¾ç½®ä¸“å±žçš„ç³»ç»Ÿæç¤ºè¯...ç•™ç©ºè¡¨ç¤ºä½¿ç”¨ç©ºäººè®¾",rows:6}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["æ”¯æŒå˜é‡: ","{{user_name}}"," ","{{user_id}}"," ","{{date}}"," ","{{time}}"," ç­‰ | è¡¨è¾¾å¼:"," ","${e.user_id}"," (eä¸ºevent)"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"ä½¿ç”¨é¢„è®¾"}),(0,s.jsxs)(m.Select,{value:en.presetId||"__none__",onValueChange:e=>ed({...en,presetId:"__none__"===e?"":e}),children:[(0,s.jsx)(m.SelectTrigger,{children:(0,s.jsx)(m.SelectValue,{placeholder:"é€‰æ‹©é¢„è®¾ï¼ˆå¯é€‰ï¼‰"})}),(0,s.jsxs)(m.SelectContent,{children:[(0,s.jsx)(m.SelectItem,{value:"__none__",children:"ä¸ä½¿ç”¨é¢„è®¾"}),G.map(e=>(0,s.jsx)(m.SelectItem,{value:e.id,children:e.name||e.id},e.id))]})]})]})]}),(0,s.jsxs)(x.DialogFooter,{children:[(0,s.jsx)(t.Button,{variant:"outline",onClick:()=>Y(!1),children:"å–æ¶ˆ"}),(0,s.jsx)(t.Button,{onClick:ek,children:"ä¿å­˜"})]})]})})]})}e.s(["default",()=>_],17678)}]);