import{K as p,w as u,M as v,O as a,P as e,Q as i,S as g,T as t,U as m,Z as N,X as _,Y as d,N as x,B as I,V as w,R as B}from"./index-DxCzDBsQ.js";const V={__name:"ContextView",setup(k){const n=p(),r=u(""),o=u(!1);async function c(){if(!r.value){n.warning("请输入用户ID");return}o.value=!0;try{const l=localStorage.getItem("token");await B.post("/api/context/clear",{userId:r.value},{headers:{Authorization:`Bearer ${l}`}}),n.success("上下文已清除")}catch(l){n.error("清除失败: "+(l.response?.data?.message||l.message))}finally{o.value=!1}}return(l,s)=>(g(),v(e(i),{vertical:""},{default:a(()=>[t(e(m),{title:"上下文管理"},{default:a(()=>[t(e(i),{vertical:""},{default:a(()=>[s[2]||(s[2]=N("p",null,"在此处清除特定用户的对话上下文。",-1)),t(e(_),{inline:""},{default:a(()=>[t(e(d),{label:"用户ID"},{default:a(()=>[t(e(x),{value:r.value,"onUpdate:value":s[0]||(s[0]=f=>r.value=f),placeholder:"输入用户ID"},null,8,["value"])]),_:1}),t(e(d),null,{default:a(()=>[t(e(I),{type:"warning",onClick:c,loading:o.value},{default:a(()=>[...s[1]||(s[1]=[w(" 清除上下文 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{V as default};
