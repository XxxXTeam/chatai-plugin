import{W as p,r as u,Y as v,Z as e,$ as a,a0 as i,a2 as g,a3 as t,a4 as m,a9 as _,a7 as x,a8 as d,P as I,Q as N,a5 as k,a1 as w}from"./index-ByT8JVNQ.js";const y={__name:"ContextView",setup(B){const n=p(),r=u(""),o=u(!1);async function c(){if(!r.value){n.warning("请输入用户ID");return}o.value=!0;try{const l=localStorage.getItem("token");await w.post("/api/context/clear",{userId:r.value},{headers:{Authorization:`Bearer ${l}`}}),n.success("上下文已清除")}catch(l){n.error("清除失败: "+(l.response?.data?.message||l.message))}finally{o.value=!1}}return(l,s)=>(g(),v(a(i),{vertical:""},{default:e(()=>[t(a(m),{title:"上下文管理"},{default:e(()=>[t(a(i),{vertical:""},{default:e(()=>[s[2]||(s[2]=_("p",null,"在此处清除特定用户的对话上下文。",-1)),t(a(x),{inline:""},{default:e(()=>[t(a(d),{label:"用户ID"},{default:e(()=>[t(a(I),{value:r.value,"onUpdate:value":s[0]||(s[0]=f=>r.value=f),placeholder:"输入用户ID"},null,8,["value"])]),_:1}),t(a(d),null,{default:e(()=>[t(a(N),{type:"warning",onClick:c,loading:o.value},{default:e(()=>[...s[1]||(s[1]=[k(" 清除上下文 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{y as default};
