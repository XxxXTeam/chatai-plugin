import{d as j,a2 as m,S as c,Z as h,_ as q,x as M,ab as E,C as P,M as y,O as o,T as u,a1 as x,P as a,Q as k,a0 as K,V as C,$ as r,ac as z,N as $,B as N,ad as F,a3 as A,a4 as G}from"./index-DILGEmlc.js";import{S as U}from"./SearchOutlined-sPbk7PsC.js";import{N as Z}from"./text-CPOOFq-e.js";import{N as H}from"./Divider-CMEiRSnR.js";const J={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},R=j({name:"CheckCircleOutlined",render:function(S,f){return c(),m("svg",J,f[0]||(f[0]=[h("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4l8-8z",fill:"currentColor"},null,-1)]))}}),W={class:"model-list-container"},X={key:1,class:"group-list"},Y=["onClick"],ee={class:"group-name"},se={class:"group-count"},le=["onClick"],te={class:"expand-icon"},ne={key:0,class:"model-list"},ae=["checked","onChange"],ie=["title"],oe={__name:"ModelSelector",props:{value:{type:Array,default:()=>[]},allModels:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!0}},emits:["update:value"],setup(v,{emit:S}){const f=v,L=S,w=M(""),d=M(""),p=M(f.value.length);let i=new Set(f.value);E(()=>f.value,e=>{i=new Set(e),p.value=e.length},{deep:!1});const b=P(()=>{const e={零一万物:[],OpenAI:[],Claude:[],Gemini:[],DeepSeek:[],"智谱 (GLM)":[],"Qwen (通义千问)":[],"Doubao (豆包)":[],"Mistral AI":[],Llama:[],Grok:[],"Kimi (Moonshot)":[],MiniMax:[],Cohere:[],其他:[]},n=w.value.toLowerCase();return f.allModels.filter(s=>s.toLowerCase().includes(n)).forEach(s=>{const l=s.toLowerCase();l.includes("yi-")||l.includes("零一")?e.零一万物.push(s):l.includes("gpt")||l.includes("o1")||l.includes("o3")||l.includes("davinci")?e.OpenAI.push(s):l.includes("claude")?e.Claude.push(s):l.includes("gemini")||l.includes("gemma")?e.Gemini.push(s):l.includes("deepseek")?e.DeepSeek.push(s):l.includes("glm")||l.includes("智谱")?e["智谱 (GLM)"].push(s):l.includes("qwen")||l.includes("qwq")?e["Qwen (通义千问)"].push(s):l.includes("doubao")||l.includes("豆包")?e["Doubao (豆包)"].push(s):l.includes("mistral")?e["Mistral AI"].push(s):l.includes("llama")?e.Llama.push(s):l.includes("grok")?e.Grok.push(s):l.includes("kimi")||l.includes("moonshot")?e["Kimi (Moonshot)"].push(s):l.includes("minimax")||l.includes("abab")?e.MiniMax.push(s):l.includes("cohere")||l.includes("command")?e.Cohere.push(s):e.其他.push(s)}),Object.entries(e).filter(([s,l])=>l.length>0).map(([s,l])=>({name:s,models:l}))});function _(){L("update:value",Array.from(i))}function I(){i=new Set(f.allModels),p.value=i.size,_()}function B(){i=new Set,p.value=0,_()}function O(e,n){n?.stopPropagation();for(const t of e.models)i.add(t);p.value=i.size,_(),d.value===e.name&&(d.value="",setTimeout(()=>d.value=e.name,0))}function D(e,n){n?.stopPropagation();for(const t of e.models)i.delete(t);p.value=i.size,_(),d.value===e.name&&(d.value="",setTimeout(()=>d.value=e.name,0))}function T(e){d.value=d.value===e?"":e}function g(e){let n=0;for(const t of e.models)i.has(t)&&n++;return n}function Q(e,n){i.has(e)?i.delete(e):i.add(e),p.value=i.size,_()}function V(e){return i.has(e)}return(e,n)=>(c(),y(a(k),{vertical:"",size:16},{default:o(()=>[u(a(k),{justify:"space-between",align:"center"},{default:o(()=>[u(a(k),{size:8},{default:o(()=>[u(a(K),{type:"success",bordered:!1,size:"medium"},{icon:o(()=>[u(a(z),null,{default:o(()=>[u(a(R))]),_:1})]),default:o(()=>[C(" 已选择 ("+r(p.value)+") ",1)]),_:1})]),_:1})]),_:1}),u(a($),{value:w.value,"onUpdate:value":n[0]||(n[0]=t=>w.value=t),placeholder:"搜索模型",clearable:"",size:"large"},{prefix:o(()=>[u(a(z),null,{default:o(()=>[u(a(U))]),_:1})]),_:1},8,["value"]),v.multiple?(c(),y(a(k),{key:0,justify:"space-between",align:"center"},{default:o(()=>[u(a(Z),{depth:"3"},{default:o(()=>[C(" 已选择 "+r(p.value)+" / "+r(v.allModels.length),1)]),_:1}),u(a(k),{size:8},{default:o(()=>[u(a(N),{size:"small",onClick:I},{default:o(()=>[...n[1]||(n[1]=[C("全选",-1)])]),_:1}),u(a(N),{size:"small",onClick:B},{default:o(()=>[...n[2]||(n[2]=[C("取消全选",-1)])]),_:1})]),_:1})]),_:1})):x("",!0),u(a(H),{style:{margin:"0"}}),h("div",W,[b.value.length===0?(c(),y(a(F),{key:0,description:"没有找到模型"})):(c(),m("div",X,[(c(!0),m(A,null,G(b.value,t=>(c(),m("div",{key:t.name,class:"group-item"},[h("div",{class:"group-header",onClick:s=>T(t.name)},[h("span",ee,r(t.name),1),h("span",se,r(g(t))+"/"+r(t.models.length),1),v.multiple?(c(),m("button",{key:0,class:"group-btn",onClick:s=>g(t)===t.models.length?D(t,s):O(t,s)},r(g(t)===t.models.length?"取消":"全选"),9,le)):x("",!0),h("span",te,r(d.value===t.name?"▲":"▼"),1)],8,Y),d.value===t.name?(c(),m("div",ne,[(c(!0),m(A,null,G(t.models,s=>(c(),m("label",{key:s,class:"model-item"},[h("input",{type:"checkbox",checked:V(s),onChange:l=>Q(s,l)},null,40,ae),h("span",{class:"model-name",title:s},r(s),9,ie)]))),128))])):x("",!0)]))),128))]))])]),_:1}))}},fe=q(oe,[["__scopeId","data-v-6facf375"]]);export{fe as M};
