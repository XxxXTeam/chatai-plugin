import{a6 as p,w as u,a8 as v,a9 as e,aa as a,O as i,ac as g,ad as t,ae as m,aj as N,ah as _,ai as d,N as x,B as I,af as w,ab as B}from"./index-DXh3Z4_f.js";const y={__name:"ContextView",setup(k){const n=p(),r=u(""),o=u(!1);async function c(){if(!r.value){n.warning("请输入用户ID");return}o.value=!0;try{const l=localStorage.getItem("token");await B.post("/api/context/clear",{userId:r.value},{headers:{Authorization:`Bearer ${l}`}}),n.success("上下文已清除")}catch(l){n.error("清除失败: "+(l.response?.data?.message||l.message))}finally{o.value=!1}}return(l,s)=>(g(),v(a(i),{vertical:""},{default:e(()=>[t(a(m),{title:"上下文管理"},{default:e(()=>[t(a(i),{vertical:""},{default:e(()=>[s[2]||(s[2]=N("p",null,"在此处清除特定用户的对话上下文。",-1)),t(a(_),{inline:""},{default:e(()=>[t(a(d),{label:"用户ID"},{default:e(()=>[t(a(x),{value:r.value,"onUpdate:value":s[0]||(s[0]=f=>r.value=f),placeholder:"输入用户ID"},null,8,["value"])]),_:1}),t(a(d),null,{default:e(()=>[t(a(I),{type:"warning",onClick:c,loading:o.value},{default:e(()=>[...s[1]||(s[1]=[w(" 清除上下文 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{y as default};
